import{_ as O,a as R}from"./AppDescription-5f53b18b.js";import{_ as j}from"./PolicyCard.vue_vue_type_script_setup_true_lang-c372dce5.js";import{o as L,_ as U}from"./SelectToken.vue_vue_type_script_setup_true_lang-353b0c92.js";import{m as $,u as H,n as K,q as W,W as D,s as P,t as c,v as z,w as G,o as k,x as J,y as o,Q as X,k as n,z as d,A as w,B as a,C as e,j as S,F as Y,G as g,H as y,I as T,J as b,K as Z,N as ee,S as se,R as ae,M as ne,L as te,_ as oe,O as le}from"./index-773fd831.js";import{_ as ce}from"./AppDescriptionTop-eb385519.js";const ie={class:"swap-form"},de={class:"swap-field"},re={class:"swap-field__info"},_e={class:"row"},ue=a("div",{class:"col-2 swap-field__label"}," AMOUNT ",-1),pe={class:"col row justify-end swap-field__balance q-pr-sm"},me={key:0,class:"insufficient-error"},fe=a("div",{class:"token-select swap-field__label q-pl-sm"}," ASSET ",-1),ve={class:"row justify-between",style:{gap:"10px"}},ke={class:"transfer-address"},he=a("div",{class:"col transfer-address__label"}," Address ",-1),we={class:"swap-info q-mt-md"},ge=a("dt",null,"Transfer fee:",-1),ye={class:"swap-submit"},Te=$({__name:"TransferCard",setup(N){const{state:s,setMax:r,setToken:_,verifyTransfer:u}=H(),{state:p,tokenBalance:m}=K(),{handleSearchToken:x,handleFilterToken:E,tokens:C}=W();E(D);const{certificateExpired:B}=P(),V=c(()=>[...C.value].sort((i,t)=>m(t.symbol)-m(i.symbol))),{connected:q}=z(),l=c(()=>s.token?.mint?m(s.token.mint):0),h=c(()=>l.value===0),f=c(()=>Number(s.value)>l.value);async function A(){const i=f.value?"Insufficient funds":"Not valid address";if(!s.valid||f.value)return ee.create({type:"negative",timeout:2e3,message:i});u()}function I(){r(l.value),s.token?.mint===se&&(s.value=l.value-ae-3*ne-te)}const M=c(()=>q.value&&Number(s.value)>0&&G(s.address));return(i,t)=>{const F=U,Q=j;return k(),J(X,{class:"swap-card transfer-card"},{default:o(()=>[n(w,{class:"swap-card__header"},{default:o(()=>[d(" Transfer ")]),_:1}),n(w,{class:"swap-card__body"},{default:o(()=>[a("div",ie,[a("div",de,[a("div",re,[a("div",_e,[ue,a("div",pe,[e(f)?(k(),S("div",me," Insufficient funds ")):Y("",!0),d(" Balance: "+g(e(y)(e(l))),1)]),fe])]),a("div",ve,[n(T,{modelValue:e(s).value,"onUpdate:modelValue":t[0]||(t[0]=v=>e(s).value=v),disable:e(h),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input col",onKeypress:e(L)},{append:o(()=>[n(b,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:I},{default:o(()=>[d(" MAX ")]),_:1})]),_:1},8,["modelValue","disable","onKeypress"]),n(F,{token:e(s).token,options:e(V),onHandleSearchToken:e(x),onSetToken:e(_)},null,8,["token","options","onHandleSearchToken","onSetToken"])])])]),a("div",ke,[he,n(T,{modelValue:e(s).address,"onUpdate:modelValue":t[1]||(t[1]=v=>e(s).address=v),disable:e(h),maxlength:50,outlined:"",class:"swap-input col"},null,8,["modelValue","disable"])]),a("div",we,[a("dl",null,[ge,a("dd",null,g(e(y)(e(s).fee,6)),1)])]),n(Q,{class:"q-my-md q-mx-auto"}),a("div",ye,[n(b,{loading:e(s)?.loading,disable:!e(M)||e(B),rounded:"",ripple:!1,onClick:A},{default:o(()=>[d(" Send ")]),_:1},8,["loading","disable"])])]),_:1}),n(Z,{showing:e(p)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1})}}}),be={},Se={class:"main-block row justify-center"};function Ne(N,s){const r=ce,_=Te,u=O,p=R;return k(),S(le,null,[n(r,{class:"q-mt-lg"}),a("div",Se,[n(_)]),n(u,{class:"q-mt-lg"}),n(p,{class:"q-mt-lg"})],64)}const qe=oe(be,[["render",Ne]]);export{qe as default};
