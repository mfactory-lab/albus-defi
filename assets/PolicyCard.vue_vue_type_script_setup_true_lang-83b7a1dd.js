import{V as w,w as P,v as _,G as $,y as S,aZ as N,o as t,Y as V,Z as h,j as s,a9 as B,a3 as e,i as o,a2 as i,a0 as j,az as z,aJ as Q,a4 as k,aV as R,a5 as g,$ as U,a_ as Z,a$ as E,b0 as G,b1 as I,b2 as J}from"./index-9ba2a69a.js";const M={key:0,class:"certificate-card__info__title q-mt-sm text-center"},O={key:1,class:"row nowrap full-height"},T={class:"certificate-card__info row"},W={class:"policy-info q-mr-sm"},Y={class:"certificate-card__info__status column row justify-between"},A=i("div",{class:"certificate-card__info__title"}," Required certificate ",-1),F={key:0,class:"row"},H={class:"certificate-card__policy-name full-height"},K={key:0,class:"certificate-card__end"},X={key:0,class:"certificate-card__action"},ee=["href"],te=w({__name:"PolicyCardView",props:{requiredPolicy:String,requiredPolicyData:Object},setup(a){const d=a,c=P(),f=_(()=>c.serviceData),n=_(()=>c.serviceLoading),l=_(()=>c.state?.certificateLoading),r=$(!1),{connected:u}=S(),{certificate:m,certificateLink:v,certificateValid:y}=N(d.requiredPolicy);function C(){return u.value?y.value?"certificate-card__info__status-line--positive":m.value?.data?.status===Z.Proved?"certificate-card__info__status-line--warning":"certificate-card__info__status-line--negative":"certificate-card__info__status-line--gray"}return(ie,p)=>{const D=E,b=G,x=I,L=J;return t(),V(U,{flat:"",class:"certificate-card"},{default:h(()=>[s(B,{showing:e(n)||e(u)&&e(l),"label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"]),!e(n)&&!a.requiredPolicy?(t(),o("div",M," No certificate required ")):(t(),o("div",O,[i("div",T,[i("div",W,[j(" i "),s(z,{modelValue:e(r),"onUpdate:modelValue":p[1]||(p[1]=q=>Q(r)?r.value=q:null),offset:[0,20],"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:h(()=>[s(D,{"required-policy-data":a.requiredPolicyData,certificate:e(m),"certificate-valid":!!e(y),"certificate-loading":e(l),"certificate-link":e(v),onCloseDialog:p[0]||(p[0]=q=>r.value=!1)},null,8,["required-policy-data","certificate","certificate-valid","certificate-loading","certificate-link"])]),_:1},8,["modelValue"])]),i("div",Y,[A,e(u)&&!e(n)&&!e(l)?(t(),o("div",F,[s(b,{certificate:e(m),"certificate-valid":!!e(y)},null,8,["certificate","certificate-valid"])])):k("",!0)]),i("div",H,[i("span",{class:R(["certificate-card__info__status-line",C()])},null,2),i("span",null,g(e(f)?.name)+g(e(f)?.name&&a.requiredPolicyData?.name&&",")+" "+g(a.requiredPolicyData?.name),1)])]),e(u)&&!e(n)&&!e(l)?(t(),o("div",K,[e(y)?(t(),o("a",{key:1,href:e(v),class:"certificate-card__certificate certificate",target:"_blank"},[s(L)],8,ee)):(t(),o("div",X,[s(x,{certificate:e(m),"certificate-link":e(v)},null,8,["certificate","certificate-link"])]))])):k("",!0)]))]),_:1})}}}),ce=w({__name:"PolicyCard",setup(a){const d=P(),c=_(()=>d.requiredPolicy),f=_(()=>d.requiredPolicyData);return(n,l)=>{const r=te;return t(),V(r,{key:e(c),"required-policy":e(c),"required-policy-data":e(f)},null,8,["required-policy","required-policy-data"])}}});export{ce as _};
