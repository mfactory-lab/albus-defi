import{aY as $,aZ as A,a_ as F,a$ as r,b0 as b,b1 as g,n as _,a as x,P as N,b2 as C,S as Y,q as X,_ as P,o,i as d,Z as c,X as S,Q as H,w as J,v as z,F as ee,y as te,b3 as ie,U as ne,V as M,j as h,a4 as ae,$ as n,a0 as O,aa as se,a1 as T,ac as re,ab as oe,W as ce,b4 as le,b5 as de,b6 as ue,b7 as _e}from"./index-32ca508c.js";class m extends Error{constructor(t){super(t)}}class B extends m{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class fe extends m{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class U extends m{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class v extends m{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class pe extends m{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class he extends m{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var k;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(k||(k={}));const L=1,me=$([A("m"),A("n"),F("isInitialized"),r("signer1"),r("signer2"),r("signer3"),r("signer4"),r("signer5"),r("signer6"),r("signer7"),r("signer8"),r("signer9"),r("signer10"),r("signer11")]),V=me.span;var I;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(I||(I={}));const W=$([r("mint"),r("owner"),b("amount"),g("delegateOption"),r("delegate"),A("state"),g("isNativeOption"),b("isNative"),b("delegatedAmount"),g("closeAuthorityOption"),r("closeAuthority")]),u=W.span;async function Qe(e,t,s,i=_){const a=await e.getAccountInfo(t,s);return ge(t,a,i)}function ge(e,t,s=_){if(!t)throw new B;if(!t.owner.equals(s))throw new U;if(t.data.length<u)throw new v;const i=W.decode(t.data.slice(0,u));let a=x.Buffer.alloc(0);if(t.data.length>u){if(t.data.length===V)throw new v;if(t.data[u]!=k.Account)throw new fe;a=t.data.slice(u+L)}return{address:e,mint:i.mint,owner:i.owner,amount:i.amount,delegate:i.delegateOption?i.delegate:null,delegatedAmount:i.delegatedAmount,isInitialized:i.state!==I.Uninitialized,isFrozen:i.state===I.Frozen,isNative:!!i.isNativeOption,rentExemptReserve:i.isNativeOption?i.isNative:null,closeAuthority:i.closeAuthorityOption?i.closeAuthority:null,tlvData:a}}const R=$([g("mintAuthorityOption"),r("mintAuthority"),b("supply"),A("decimals"),F("isInitialized"),g("freezeAuthorityOption"),r("freezeAuthority")]),E=R.span;async function Ge(e,t,s,i=_){const a=await e.getAccountInfo(t,s);return ve(t,a,i)}function ve(e,t,s=_){if(!t)throw new B;if(!t.owner.equals(s))throw new U;if(t.data.length<E)throw new v;const i=R.decode(t.data.slice(0,E));let a=x.Buffer.alloc(0);if(t.data.length>E){if(t.data.length<=u)throw new v;if(t.data.length===V)throw new v;if(t.data[u]!=k.Mint)throw new pe;a=t.data.slice(u+L)}return{address:e,mintAuthority:i.mintAuthorityOption?i.mintAuthority:null,supply:i.supply,decimals:i.decimals,isInitialized:i.isInitialized,freezeAuthority:i.freezeAuthorityOption?i.freezeAuthority:null,tlvData:a}}async function Ye(e,t,s=!1,i=_,a=C){if(!s&&!N.isOnCurve(t.toBuffer()))throw new he;const[l]=await N.findProgramAddress([t.toBuffer(),i.toBuffer(),e.toBuffer()],a);return l}function Xe(e,t,s,i,a=_,l=C){return we(e,t,s,i,x.Buffer.alloc(0),a,l)}function we(e,t,s,i,a,l=_,f=C){const p=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Y.programId,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1}];return new X({keys:p,programId:f,data:a})}const ye={},be={class:"warning-disclaimer"},Ae=c("div",{class:"warning-disclaimer__bar"},null,-1),ke=c("div",{class:"warning-disclaimer__text"},` Albus DeFi's services and its associated features, including smart contracts, are provided "as is". The smart contracts have not undergone external audits. By using Albus DeFi, you acknowledge and understand that the utilization of the website, software, smart contracts, and all associated services is wholly at your discretion and risk. `,-1),Ie=[Ae,ke];function ze(e,t){return o(),d("div",be,Ie)}const He=P(ye,[["render",ze]]),Oe={},Te={class:"app-description"},Ee=c("div",{class:"app-description__title"}," DeFi with built-in verification ",-1),$e=c("div",{class:"app-description__details"},[S(" Conduct quick and efficient transactions while benefitting from built-in verification. Albus DeFi is powered by Albus Protocol, which performs verification based on pre-defined requirements and relies on Zero-Knowledge Proofs to keep your personal information private throughout the verification process. For details, please visit "),c("a",{href:"https://albus.finance/",target:"_blanc"},"Albus Protocol's landing page"),S(". ")],-1),xe=[Ee,$e];function Ce(e,t){return o(),d("div",Te,xe)}const Je=P(Oe,[["render",Ce]]),Pe={key:0,class:"certificate-card__info__title q-mt-sm text-center"},qe={key:1,class:"row full-height"},De={class:"certificate-card__info column row justify-between"},Ne=c("div",{class:"certificate-card__info__title"}," Required certificate ",-1),Se={key:0,class:"row"},Me={class:"certificate-card__policy-name full-height"},Fe={key:0,class:"certificate-card__end"},Be={key:0,class:"certificate-card__action"},Ue=["href"],et=H({__name:"PolicyCardView",props:{requiredPolicy:String,requiredPolicyData:Object},setup(e){const t=e,s=J(),i=z(()=>s.serviceData),a=z(()=>s.serviceLoading),l=z(()=>s.state?.certificateLoading),f=ee(!1),{connected:p}=te(),{certificate:q,certificateLink:Z,certificateValid:w}=ie(t.requiredPolicy);return(Ke,y)=>{const K=le,j=de,Q=ue,G=_e;return o(),ne(ce,{flat:"",class:"certificate-card"},{default:M(()=>[h(ae,{showing:n(a)||n(p)&&n(l),"label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"]),!n(a)&&!e.requiredPolicy?(o(),d("div",Pe," No certificate required ")):(o(),d("div",qe,[c("div",{class:"policy-info q-mr-sm",onClick:y[0]||(y[0]=D=>f.value=!0)}," i "),c("div",De,[Ne,n(p)&&!n(a)&&!n(l)?(o(),d("div",Se,[h(K,{certificate:n(q),"certificate-valid":!!n(w)},null,8,["certificate","certificate-valid"])])):O("",!0)]),c("div",Me,[n(p)?(o(),d("span",{key:0,class:se(["certificate-card__info__status-line",n(w)?"certificate-card__info__status-line--positive":"certificate-card__info__status-line--negative"])},null,2)):O("",!0),c("span",null,T(n(i)?.name)+" "+T(n(i)?.name&&e.requiredPolicyData?.name&&",")+" "+T(e.requiredPolicyData?.name),1)]),n(p)&&!n(a)&&!n(l)?(o(),d("div",Fe,[n(w)?(o(),d("a",{key:1,href:n(Z),class:"certificate-card__certificate certificate",target:"_blank"},[h(Q)],8,Ue)):(o(),d("div",Be,[h(j)]))])):O("",!0)])),h(re,{modelValue:n(f),"onUpdate:modelValue":y[1]||(y[1]=D=>oe(f)?f.value=D:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:M(()=>[h(G,{"required-policy-data":e.requiredPolicyData,certificate:n(q),"certificate-valid":!!n(w),"certificate-loading":n(l)},null,8,["required-policy-data","certificate","certificate-valid","certificate-loading"])]),_:1},8,["modelValue"])]),_:1})}}}),Le={},Ve={class:"app-description"},We=c("div",{class:"app-description__details"}," All services provided by Albus DeFi are subject to verification. To become eligible for a service, pass secure and privacy-preserving verification with Albus Protocol and obtain a Compliance Certificate. ",-1),Re=[We];function Ze(e,t){return o(),d("div",Ve,Re)}const tt=P(Le,[["render",Ze]]);export{B as T,tt as _,U as a,Ye as b,Xe as c,Je as d,He as e,et as f,Qe as g,Ge as h};
