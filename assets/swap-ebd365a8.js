import{m as P,v as $,U as oe,n as U,V as D,X as ae,C as e,o as w,x as K,y as n,J as y,F as O,Y as te,P as se,z as f,Z as ne,t as d,q as le,S as Q,$ as x,s as ie,a0 as ce,Q as F,k as t,A as C,B as a,j as S,G as s,H as p,I as N,a1 as de,a2 as re,a3 as me,a4 as _e,a5 as ue,K as pe,a6 as fe,W as we,R as ge,M as he,L as ke,_ as ve,O as ye}from"./index-773fd831.js";import{b as be,g as Se,m as Te}from"./index-428d2ee8.js";import{_ as Be,a as xe}from"./AppDescription-5f53b18b.js";import{_ as Ce}from"./PolicyCard.vue_vue_type_script_setup_true_lang-c372dce5.js";import{_ as qe}from"./SelectPool.vue_vue_type_script_setup_true_lang-99e1ebd8.js";import{o as Ve,_ as Ae}from"./SelectToken.vue_vue_type_script_setup_true_lang-353b0c92.js";import{s as Me}from"./swap-circle-a93e350f.js";import{_ as Re}from"./AppDescriptionTop-eb385519.js";import"./PoolsListItem.vue_vue_type_script_setup_true_lang-08be2d16.js";const Ee=P({__name:"MintTokenA",setup(q){const{publicKey:r}=$(),o=oe(),g=U(),m=D(!1),{notify:h}=ae();async function k(){if(r.value){m.value=!0,console.log("mintTokenB -------------------------");try{const i=te.fromSecretKey(be.decode("2QDdinbDitrdSrbvyddwrc1sdQEyRtMgXSisj5QfFgSikxgmPp4ggunwjQZChcvKFxr74XbUwYGmiqivq3SMARhx")),c=new se("6rdejLXbi2Ws2z3Ff1wRhRS9WqrXRDuM8YpSkiektRgw"),b=await Se(o.connection,i,c,r.value);await Te(o.connection,i,c,b.address,i,1e10),await g.getUserTokens(),h({type:"positive",message:"You got 10 TOKEN_B"})}catch(i){console.log("failed mint e:",i)}finally{m.value=!1}}}return(i,c)=>e(o).cluster==="devnet"&&e(r)?(w(),K(y,{key:0,class:"full-width",loading:e(m),unelevated:"",color:i.$q.dark.isActive?"white":"primary",onClick:k},{default:n(()=>[f(" Mint JSOL (fake) ")]),_:1},8,["loading","color"])):O("",!0)}}),Qe={class:"swap-form"},Fe={class:"swap-field"},Ne={class:"swap-field__info"},Pe={class:"row items-end"},$e=a("div",{class:"col swap-field__label"}," FROM: ",-1),Ue={class:"col-8 col-xs-10 row justify-end swap-field__balance"},De={key:0,class:"insufficient-error"},Ke={class:"swap-change"},Oe=["innerHTML"],Ie={class:"swap-field"},Le={class:"swap-field__info"},He={class:"row"},je=a("div",{class:"col swap-field__label"}," TO: ",-1),Xe={class:"col swap-field__balance"},We={class:"swap-info q-mt-md q-pt-xs"},Ye={class:"text-weight-medium"},ze=a("dt",null,"Minimum Received",-1),Ge=a("dt",null,"Slippage Tolerance",-1),Je={href:"#"},Ze=a("dt",null,"Swap fee",-1),eo={class:"swap-submit q-mt-md"},oo={key:0,class:"text-weight-medium fs-13 text-center q-mt-md text-negative"},ao={key:1,class:"row q-mt-md text-center relative-position full-width"},to={class:"swap-rate q-mx-auto"},so={class:"absolute-right swap-rate__refresh"},no={class:"swap-info q-mt-md"},lo=a("dt",null,"Price impact",-1),io=P({__name:"SwapCard",setup(q){const r=ne(),{state:o,loadingPoolTokens:g,changeDirection:m,closeSlippage:h,swapSubmit:k,loadPoolTokenAccounts:i}=r,c=d(()=>r.tokenSwap),{handleSearchToken:b,handleFilterToken:I,tokens:V}=le();I(Q);const A=U(),L=d(()=>o.poolBalance[o.from.mint]?x(o.poolBalance[o.from.mint],o.from.decimals):0),H=d(()=>o.poolBalance[o.to.mint]?x(o.poolBalance[o.to.mint],o.to.decimals):0),{certificateExpired:j}=ie(),{connected:X}=$(),T=_=>fe.format(_),M=D(0),W=d(()=>`transform: rotate(${M.value*180}deg)`),v=d(()=>A.tokenBalance(o.from.mint)),Y=d(()=>A.tokenBalance(o.to.mint)),z=d(()=>o.fees.ownerTrade+o.fees.trade);function G(){m(),M.value++}function R(_,l){o[l?"to":"from"]=_}function J(){o.from?.mint===Q||o.from?.mint===we?o.from.amount=v.value-ge-3*he-ke:o.from.amount=v.value}const B=d(()=>Number(o.from.amount)>v.value?"Insufficient funds":!1);return ce([()=>o.from.amount,c,v],_=>{o.active=!B.value}),(_,l)=>{const E=Ae,Z=qe,ee=Ce;return w(),K(F,{class:"swap-card swap-widget"},{default:n(()=>[t(C,{class:"swap-card__header"},{default:n(()=>[f(" Swap ")]),_:1}),t(C,{class:"swap-card__body"},{default:n(()=>[a("div",Qe,[a("div",Fe,[a("div",Ne,[a("div",Pe,[$e,a("div",Ue,[e(B)?(w(),S("div",De,s(e(B)),1)):O("",!0),f(" Balance: "+s(e(p)(e(v)))+" "+s(e(o).from.symbol),1)])])]),t(N,{modelValue:e(o).from.amount,"onUpdate:modelValue":l[0]||(l[0]=u=>e(o).from.amount=u),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input",onKeypress:e(Ve)},{append:n(()=>[t(y,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:J},{default:n(()=>[f(" MAX ")]),_:1}),t(E,{options:e(V),token:e(o).from,"swap-token":String(e(o).to.symbol),onHandleSearchToken:e(b),onSetToken:R},null,8,["options","token","swap-token","onHandleSearchToken"])]),_:1},8,["modelValue","onKeypress"])]),a("div",Ke,[t(y,{ripple:!1,dense:"",unelevated:"",style:de(e(W)),onClick:G},{default:n(()=>[a("i",{innerHTML:e(Me)},null,8,Oe)]),_:1},8,["style"])]),a("div",Ie,[a("div",Le,[a("div",He,[je,a("div",Xe," Balance: "+s(e(p)(e(Y)))+" "+s(e(o).to.symbol),1)])]),t(N,{modelValue:e(o).to.amount,"onUpdate:modelValue":l[1]||(l[1]=u=>e(o).to.amount=u),readonly:"",maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input"},{append:n(()=>[t(E,{"swap-token":String(e(o).from.symbol),options:e(V),direction:!0,token:e(o).to,"destination-unavailable":!e(c),onHandleSearchToken:e(b),onSetToken:R},null,8,["swap-token","options","token","destination-unavailable","onHandleSearchToken"])]),_:1},8,["modelValue"])])]),a("div",We,[a("dl",Ye,[ze,a("dd",null,s(e(p)(e(x)(e(o).minimumReceived,e(o).to.decimals)))+" "+s(e(o).to.symbol.toUpperCase()),1)]),a("dl",null,[Ge,a("dd",null,[a("a",Je,[f(s(T(e(o).slippage))+" ",1),t(re,{modelValue:e(o).slippageDialog,"onUpdate:modelValue":l[3]||(l[3]=u=>e(o).slippageDialog=u),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:n(()=>[t(F,null,{default:n(()=>[t(C,null,{default:n(()=>[t(me,{modelValue:e(o).slippage,"onUpdate:modelValue":[l[2]||(l[2]=u=>e(o).slippage=u),e(h)],spread:"","no-caps":"",unelevated:"",ripple:!1,"toggle-color":"secondary",color:"white","text-color":"dark",options:[{label:"0.1%",value:.001},{label:"0.5%",value:.005},{label:"1%",value:.01},{label:"5%",value:.05}]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),a("dl",null,[Ze,a("dd",null,s(T(e(z))),1)])]),t(Z,{class:"q-mt-md"}),t(ee,{class:"q-mt-md q-mx-auto"}),a("div",eo,[t(y,{loading:e(o).swapping,disable:!e(o).active||!e(c)||!e(X)||!e(o).from.amount||e(j),rounded:"",ripple:!1,onClick:e(k)},{default:n(()=>[f(" Swap "+s(e(o).from.symbol)+" / "+s(e(o).to.symbol),1)]),_:1},8,["loading","disable","onClick"])]),e(c)?(w(),S("div",ao,[a("div",to," 1 "+s(e(o).from.symbol)+" â‰ˆ "+s(e(p)(e(o).rate))+" "+s(e(o).to.symbol),1),a("div",so,[t(y,{loading:e(g),class:"swap-card__reload",unelevated:"",color:_.$q.dark.isActive?"white":"primary",round:"",onClick:e(i)},{default:n(()=>[t(_e,{name:e(ue),color:_.$q.dark.isActive?"primary":"white"},null,8,["name","color"])]),_:1},8,["loading","color","onClick"])])])):(w(),S("div",oo," Pool not found ")),a("div",no,[a("dl",null,[lo,a("dd",null,s(T(e(o).impact)),1)]),a("dl",null,[a("dt",null,"Pool "+s(e(o).from.symbol)+" balance",1),a("dd",null,s(e(p)(e(L)))+" "+s(e(o).from.symbol),1)]),a("dl",null,[a("dt",null,"Pool "+s(e(o).to.symbol)+" balance",1),a("dd",null,s(e(p)(e(H)))+" "+s(e(o).to.symbol),1)])])]),_:1}),t(pe,{showing:e(o)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1})}}}),co={},ro={class:"main-block row justify-center"};function mo(q,r){const o=Re,g=io,m=Be,h=xe,k=Ee;return w(),S(ye,null,[t(o,{class:"q-mt-lg"}),a("div",ro,[t(g)]),t(m,{class:"q-mt-lg"}),t(h,{class:"q-mt-lg"}),t(k,{class:"q-mt-lg"})],64)}const yo=ve(co,[["render",mo]]);export{yo as default};
