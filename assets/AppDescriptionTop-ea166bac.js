import{ab as S,ac as k,b4 as F,b5 as r,ad as b,b6 as g,n as f,a as q,P as A,aa as T,S as Y,q as H,_ as D,o as l,i as d,Z as c,X as B,Q as J,w as ee,v as $,F as te,y as ie,b7 as ne,U as ae,V as M,j as m,a4 as se,$ as n,a0 as x,aj as re,a1 as C,al as oe,ak as ce,W as le,b8 as de,b9 as ue,ba as fe,bb as _e}from"./index-a3a690d3.js";class _ extends Error{constructor(t){super(t)}}class U extends _{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class pe extends _{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class L extends _{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class v extends _{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class he extends _{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class Ge extends _{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class V extends _{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var I;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(I||(I={}));const W=1,me=S([k("m"),k("n"),F("isInitialized"),r("signer1"),r("signer2"),r("signer3"),r("signer4"),r("signer5"),r("signer6"),r("signer7"),r("signer8"),r("signer9"),r("signer10"),r("signer11")]),R=me.span;var O;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(O||(O={}));const j=S([r("mint"),r("owner"),b("amount"),g("delegateOption"),r("delegate"),k("state"),g("isNativeOption"),b("isNative"),b("delegatedAmount"),g("closeAuthorityOption"),r("closeAuthority")]),u=j.span;async function Xe(e,t,s,i=f){const a=await e.getAccountInfo(t,s);return ge(t,a,i)}function ge(e,t,s=f){if(!t)throw new U;if(!t.owner.equals(s))throw new L;if(t.data.length<u)throw new v;const i=j.decode(t.data.slice(0,u));let a=q.Buffer.alloc(0);if(t.data.length>u){if(t.data.length===R)throw new v;if(t.data[u]!=I.Account)throw new pe;a=t.data.slice(u+W)}return{address:e,mint:i.mint,owner:i.owner,amount:i.amount,delegate:i.delegateOption?i.delegate:null,delegatedAmount:i.delegatedAmount,isInitialized:i.state!==O.Uninitialized,isFrozen:i.state===O.Frozen,isNative:!!i.isNativeOption,rentExemptReserve:i.isNativeOption?i.isNative:null,closeAuthority:i.closeAuthorityOption?i.closeAuthority:null,tlvData:a}}const Z=S([g("mintAuthorityOption"),r("mintAuthority"),b("supply"),k("decimals"),F("isInitialized"),g("freezeAuthorityOption"),r("freezeAuthority")]),P=Z.span;async function Ye(e,t,s,i=f){const a=await e.getAccountInfo(t,s);return ve(t,a,i)}function ve(e,t,s=f){if(!t)throw new U;if(!t.owner.equals(s))throw new L;if(t.data.length<P)throw new v;const i=Z.decode(t.data.slice(0,P));let a=q.Buffer.alloc(0);if(t.data.length>P){if(t.data.length<=u)throw new v;if(t.data.length===R)throw new v;if(t.data[u]!=I.Mint)throw new he;a=t.data.slice(u+W)}return{address:e,mintAuthority:i.mintAuthorityOption?i.mintAuthority:null,supply:i.supply,decimals:i.decimals,isInitialized:i.isInitialized,freezeAuthority:i.freezeAuthorityOption?i.freezeAuthority:null,tlvData:a}}async function He(e,t,s=!1,i=f,a=T){if(!s&&!A.isOnCurve(t.toBuffer()))throw new V;const[o]=await A.findProgramAddress([t.toBuffer(),i.toBuffer(),e.toBuffer()],a);return o}function Je(e,t,s=!1,i=f,a=T){if(!s&&!A.isOnCurve(t.toBuffer()))throw new V;const[o]=A.findProgramAddressSync([t.toBuffer(),i.toBuffer(),e.toBuffer()],a);return o}function et(e,t,s,i,a=f,o=T){return we(e,t,s,i,q.Buffer.alloc(0),a,o)}function we(e,t,s,i,a,o=f,p=T){const h=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Y.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new H({keys:h,programId:p,data:a})}const ye={},be={class:"warning-disclaimer"},ke=c("div",{class:"warning-disclaimer__bar"},null,-1),Ae=c("div",{class:"warning-disclaimer__text"},` Albus DeFi's services and its associated features, including smart contracts, are provided "as is". The smart contracts have not undergone external audits. By using Albus DeFi, you acknowledge and understand that the utilization of the website, software, smart contracts, and all associated services is wholly at your discretion and risk. `,-1),Ie=[ke,Ae];function Oe(e,t){return l(),d("div",be,Ie)}const tt=D(ye,[["render",Oe]]),Te={},ze={class:"app-description"},Ee=c("div",{class:"app-description__title"}," DeFi with built-in verification ",-1),$e=c("div",{class:"app-description__details"},[B(" Conduct quick and efficient transactions while benefitting from built-in verification. Albus DeFi is powered by Albus Protocol, which performs verification based on pre-defined requirements and relies on Zero-Knowledge Proofs to keep your personal information private throughout the verification process. For details, please visit "),c("a",{class:"app-description__link",href:"https://albus.finance/",target:"_blanc"},"Albus Protocol's landing page"),B(". ")],-1),xe=[Ee,$e];function Ce(e,t){return l(),d("div",ze,xe)}const it=D(Te,[["render",Ce]]),Pe={key:0,class:"certificate-card__info__title q-mt-sm text-center"},Se={key:1,class:"row nowrap full-height"},qe={class:"certificate-card__info row"},De={class:"certificate-card__info__status column row justify-between"},Ne=c("div",{class:"certificate-card__info__title"}," Required certificate ",-1),Be={key:0,class:"row"},Me={class:"certificate-card__policy-name full-height"},Fe={key:0,class:"certificate-card__end"},Ue={key:0,class:"certificate-card__action"},Le=["href"],nt=J({__name:"PolicyCardView",props:{requiredPolicy:String,requiredPolicyData:Object},setup(e){const t=e,s=ee(),i=$(()=>s.serviceData),a=$(()=>s.serviceLoading),o=$(()=>s.state?.certificateLoading),p=te(!1),{connected:h}=ie(),{certificate:z,certificateLink:E,certificateValid:w}=ne(t.requiredPolicy);return(Ke,y)=>{const K=de,Q=ue,G=fe,X=_e;return l(),ae(le,{flat:"",class:"certificate-card"},{default:M(()=>[m(se,{showing:n(a)||n(h)&&n(o),"label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"]),!n(a)&&!e.requiredPolicy?(l(),d("div",Pe," No certificate required ")):(l(),d("div",Se,[c("div",qe,[c("div",{class:"policy-info q-mr-sm",onClick:y[0]||(y[0]=N=>p.value=!0)}," i "),c("div",De,[Ne,n(h)&&!n(a)&&!n(o)?(l(),d("div",Be,[m(K,{certificate:n(z),"certificate-valid":!!n(w)},null,8,["certificate","certificate-valid"])])):x("",!0)]),c("div",Me,[n(h)?(l(),d("span",{key:0,class:re(["certificate-card__info__status-line",n(w)?"certificate-card__info__status-line--positive":"certificate-card__info__status-line--negative"])},null,2)):x("",!0),c("span",null,C(n(i)?.name)+" "+C(n(i)?.name&&e.requiredPolicyData?.name&&",")+" "+C(e.requiredPolicyData?.name),1)])]),n(h)&&!n(a)&&!n(o)?(l(),d("div",Fe,[n(w)?(l(),d("a",{key:1,href:n(E),class:"certificate-card__certificate certificate",target:"_blank"},[m(G)],8,Le)):(l(),d("div",Ue,[m(Q,{certificate:n(z),"certificate-link":n(E)},null,8,["certificate","certificate-link"])]))])):x("",!0)])),m(oe,{modelValue:n(p),"onUpdate:modelValue":y[1]||(y[1]=N=>ce(p)?p.value=N:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:M(()=>[m(X,{"required-policy-data":e.requiredPolicyData,certificate:n(z),"certificate-valid":!!n(w),"certificate-loading":n(o),"certificate-link":n(E)},null,8,["required-policy-data","certificate","certificate-valid","certificate-loading","certificate-link"])]),_:1},8,["modelValue"])]),_:1})}}}),Ve={},We={class:"app-description"},Re=c("div",{class:"app-description__details"}," All services provided by Albus DeFi are subject to verification. To become eligible for a service, pass secure and privacy-preserving verification with Albus Protocol and obtain a Compliance Certificate. ",-1),je=[Re];function Ze(e,t){return l(),d("div",We,je)}const at=D(Ve,[["render",Ze]]);export{U as T,at as _,L as a,He as b,et as c,it as d,tt as e,Je as f,Xe as g,he as h,Ge as i,nt as j,Ye as k};
