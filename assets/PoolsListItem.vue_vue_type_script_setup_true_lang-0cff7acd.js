import{V as P,t as V,v as p,b4 as C,G as D,a3 as s,o as u,Y as j,Z as k,j as a,a1 as Q,a2 as t,i as v,a4 as m,a5 as e,a0 as r,az as I,aJ as L,$,b5 as y,aD as w,aI as S,b6 as N,a8 as T,b7 as E}from"./index-a2855520.js";import{u as F}from"./swap-cb94d25d.js";const H={class:"row"},O={class:"pool-card__icons row justify-center q-mr-md q-ml-sm"},R=["src","alt"],U=["src","alt"],W={class:"pool-card__subtitle row justify-center items-center"},G={class:"policy-info q-ml-auto"},Y={class:"row items-center"},z={class:"pool-card__pubkey monoscaped"},J={class:"row items-center"},Z={class:"pool-card__pubkey monoscaped"},K={class:"row items-center"},X={class:"pool-card__pubkey monoscaped"},tt={class:"row items-center"},ot={class:"pool-card__pubkey monoscaped"},st={key:0,class:"row items-center q-mt-xs"},et={class:"pool-card__pubkey"},at={key:1,class:"row items-center q-mt-xs"},lt={class:"pool-card__pubkey"},nt={class:"pool-card__income q-mt-md"},ct=t("div",{class:"pool-card__apr-label"}," APR 24H ",-1),dt={class:"pool-card__apr-amount"},it={class:"row q-ml-auto"},rt={class:"q-mr-md"},ut=t("div",{class:"pool-card__label"}," My Liquidity ",-1),mt={class:"pool-card__amount"},_t=t("div",{class:"pool-card__label"}," My Share ",-1),pt={class:"pool-card__amount"},kt={class:"row q-mt-sm q-mb-auto q-pt-xs pool-card__stats"},vt={class:"col-4 q-mt-xs text-center"},ht=t("div",{class:"pool-card__label"}," Volume 24H ",-1),bt={class:"pool-card__amount"},ft={class:"col-4 q-mt-xs text-center"},yt=t("div",{class:"pool-card__label"}," Liquidity ",-1),wt={class:"pool-card__amount"},St={class:"col-4 q-mt-xs text-center"},xt=t("div",{class:"pool-card__label"}," Fees 24H ",-1),Bt={class:"pool-card__amount"},qt={key:0,class:"row q-mt-md"},gt={class:"col"},At=P({__name:"PoolsListItem",props:{pubkey:Object,data:Object,poolStats:Object,userTokens:Number,useEmit:Boolean},emits:["selectPool"],setup(o){const l=o,A=V(),B=p(()=>A.tokens),c=p(()=>B.value.find(i=>i.mint===l.data?.tokenAMint.toBase58())),d=p(()=>B.value.find(i=>i.mint===l.data?.tokenBMint.toBase58())),h=F(),M=C();async function q(i=!1){c.value&&d.value&&l.pubkey&&l.data&&(h.state.from=c.value,h.state.to=d.value,await M.push(i?"liquidity":"/swap"),h.setTokenSwap({pubkey:l.pubkey,data:l.data}),console.log("[swap] swapAction: ",l.pubkey.toBase58()))}const _=p(()=>l.data&&h.getPoolFee(l.data)),g=p(()=>_.value&&_.value.ownerTrade+_.value.trade),x=D(!1);return(i,n)=>{const b=E;return o.pubkey&&o.data&&s(c)&&s(d)?(u(),j($,{key:0,class:"pool-card",onClick:n[3]||(n[3]=f=>o.useEmit?i.$emit("selectPool"):void 0)},{default:k(()=>[a(Q,{class:"pool-card__body full-height"},{default:k(()=>[t("div",H,[t("div",O,[s(c)?.image?(u(),v("img",{key:0,src:s(c)?.image,alt:s(c)?.symbol},null,8,R)):m("",!0),s(d)?.image?(u(),v("img",{key:1,src:s(d)?.image,alt:s(d)?.symbol},null,8,U)):m("",!0)]),t("div",W,[t("span",null,e(s(c)?.symbol)+"/"+e(s(d)?.symbol),1)]),t("span",G,[r(" i "),a(I,{modelValue:s(x),"onUpdate:modelValue":n[0]||(n[0]=f=>L(x)?x.value=f:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:k(()=>[a($,{class:"q-pa-md"},{default:k(()=>[t("div",Y,[r(" Pool address:  "),t("span",null,[t("span",z,e(s(y)(o.pubkey.toBase58())),1),a(b,{text:o.pubkey.toBase58()},null,8,["text"])])]),t("div",J,[r(" Token A mint:  "),t("span",null,[t("span",Z,e(s(y)(o.data.tokenAMint.toBase58())),1),a(b,{text:o.data.tokenAMint.toBase58()},null,8,["text"])])]),t("div",K,[r(" Token B mint:  "),t("span",null,[t("span",X,e(s(y)(o.data.tokenBMint.toBase58())),1),a(b,{text:o.data.tokenBMint.toBase58()},null,8,["text"])])]),t("div",tt,[r(" LP token mint:  "),t("span",null,[t("span",ot,e(s(y)(o.data.poolMint.toBase58())),1),a(b,{text:o.data.poolMint.toBase58()},null,8,["text"])])]),s(g)?(u(),v("div",st,[r(" Swap fee:  "),t("span",et,e(s(w).format(s(g))),1)])):m("",!0),s(_)?(u(),v("div",at,[r(" Withdraw fee:  "),t("span",lt,e(s(w).format(s(_).ownerWithdraw)),1)])):m("",!0)]),_:1})]),_:1},8,["modelValue"])])]),t("div",nt,[t("div",null,[ct,t("div",dt,e(o.poolStats?`${s(w).format(o.poolStats.apr24)}`:"---"),1)]),t("div",it,[t("div",rt,[ut,t("div",mt,e(o.poolStats&&o.userTokens?`$${s(S).format(o.userTokens/o.poolStats.poolTokenSupply*o.poolStats.tvl)}`:"---"),1)]),t("div",null,[_t,t("div",pt,e(o.poolStats&&o.userTokens?`${s(w).format(o.userTokens/o.poolStats.poolTokenSupply)}`:"---"),1)])])]),t("div",kt,[t("div",vt,[ht,t("div",bt,e(o.poolStats?`$${s(S).format(o.poolStats.volume24)}`:"---"),1)]),t("div",ft,[yt,t("div",wt,e(o.poolStats?`$${s(S).format(o.poolStats.tvl)}`:"---"),1)]),t("div",St,[xt,t("div",Bt,e(o.poolStats?`$${s(S).format(o.poolStats.fees24)}`:"---"),1)])]),o.useEmit?m("",!0):(u(),v("div",qt,[t("div",gt,[a(N,{spread:"",unelevated:"",square:"",style:{height:"56px"}},{default:k(()=>[a(T,{label:"ADD LIQUIDITY",color:"primary","text-color":"white",target:"_blank",class:"q-mr-md",onClick:n[1]||(n[1]=f=>q(!0))}),a(T,{label:"SWAP",color:"warning","text-color":"black",target:"_blank",onClick:n[2]||(n[2]=f=>q(!1))})]),_:1})])]))]),_:1})]),_:1})):m("",!0)}}});export{At as _};
