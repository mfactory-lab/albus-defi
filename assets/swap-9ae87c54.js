import{_ as Ge,o as ie,i as se,k as ot,af as nt,ag as rt,B as A,ah as at,ai as Re,aj as it,a9 as re,ak as st,al as ct,m as s,am as K,P as g,n as P,an as lt,S as ut,V as S,v as $,w as q,x as pt,y as Pe,C as Qe,M as Ve,K as Ye,H as ae,I as Y,ao as J,ap as Ue,aq as dt,ar as mt,as as ft,at as ht,au as wt,av as kt,A as gt,G as yt,aw as St,ax as Tt,ay as X,az as ee,aA as vt,U as bt,aB as Le,aC as At,X as Ct,Y as Bt,W as te,F as Et,j as b,a0 as D,a1 as $e,a5 as l,aD as Ft,ae as He,a3 as Oe,a2 as oe,a4 as m,a7 as v,a6 as _t,a8 as L,aE as Mt,aa as It,aF as Dt}from"./index-88fbb3f7.js";import{Q as qe,o as Wt,_ as Nt}from"./SelectToken.vue_vue_type_script_setup_true_lang-19988b36.js";const xt={},Kt={class:"swap-content"},Ot=ot('<div class="row"><div class="swap-content__title"> Compliant DeFi with KYC </div><div class="swap-content__details"><p> Compliant DeFi with KYC (Know Your Customer) and AML (Anti-Money Laundering) refers to a type of decentralized finance (DeFi) that incorporates customer identification and anti-money laundering measures to ensure compliance with regulatory requirements. </p><p> KYC refers to the process of verifying the identity of a customer to assess their risk profile and prevent illegal activities such as money laundering and financing of terrorism. In Compliant DeFi with KYC, users are required to provide personal information and undergo identity verification procedures before they can participate in DeFi activities. </p><p> AML refers to the set of policies, procedures, and regulations aimed at detecting and preventing money laundering. In Compliant DeFi with AML, transactions are monitored and analyzed to identify any suspicious or illegal activities. </p><p> By incorporating KYC and AML measures, Compliant DeFi aims to enhance the transparency and security of DeFi transactions while ensuring regulatory compliance. This helps to mitigate the risk of illegal activities in the DeFi ecosystem and enhance the trust and confidence of users, regulators, and other stakeholders. In conclusion, Compliant DeFi with KYC and AML is a new and evolving segment of the DeFi ecosystem that seeks to balance the benefits of decentralized finance with the need for regulatory compliance and security. </p></div></div><div class="row"><div class="swap-content__title"> What zKKYC? What are the benefits? </div><div class="swap-content__details"><p> zKKYC (Zero-Knowledge KYC) is a privacy-preserving technology that enables users to prove their identity without revealing their personal information. It is based on zero-knowledge proofs, a cryptographic technique that allows users to prove the validity of information without revealing the actual data. zKKYC provides a number of benefits over traditional KYC (Know Your Customer) methods that rely on sharing personal information with the platform or a third party: </p><ul class="swap-details"><li> Privacy: zKKYC allows users to prove their identity without revealing their personal information, providing greater privacy and control over their data. </li><li> Security: zKKYC eliminates the risk of personal information being stolen or misused, as the information is not stored or transmitted. </li><li> Convenience: zKKYC enables users to complete the KYC process quickly and easily, without having to provide personal information or wait for manual verification. </li><li> Compliance: zKKYC enables DeFi platforms to comply with regulatory requirements while still preserving user privacy and security. In conclusion, zKKYC is a cutting-edge technology that provides a solution to the challenges posed by traditional KYC methods and offers numerous benefits to both users and platforms in the DeFi ecosystem. </li></ul></div></div>',2),zt=[Ot];function Pt(t,e){return ie(),se("div",Kt,zt)}const Yt=Ge(xt,[["render",Pt]]),Rt=nt({name:"QBtnToggle",props:{...rt,modelValue:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(e=>("label"in e||"icon"in e||"slot"in e)&&"value"in e)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(t,{slots:e,emit:o}){const a=A(()=>t.options.find(d=>d.value===t.modelValue)!==void 0),n=A(()=>({type:"hidden",name:t.name,value:t.modelValue})),f=ct(n),T=A(()=>at(t)),C=A(()=>({rounded:t.rounded,dense:t.dense,...T.value})),r=A(()=>t.options.map((d,k)=>{const{attrs:B,value:N,slot:x,...p}=d;return{slot:x,props:{key:k,"aria-pressed":N===t.modelValue?"true":"false",...B,...p,...C.value,disable:t.disable===!0||p.disable===!0,color:N===t.modelValue?u(p,"toggleColor"):u(p,"color"),textColor:N===t.modelValue?u(p,"toggleTextColor"):u(p,"textColor"),noCaps:u(p,"noCaps")===!0,noWrap:u(p,"noWrap")===!0,size:u(p,"size"),padding:u(p,"padding"),ripple:u(p,"ripple"),stack:u(p,"stack")===!0,stretch:u(p,"stretch")===!0,onClick(c){_(N,d,c)}}}}));function _(d,k,B){t.readonly!==!0&&(t.modelValue===d?t.clearable===!0&&(o("update:modelValue",null,null),o("clear")):o("update:modelValue",d,k),o("click",B))}function u(d,k){return d[k]===void 0?t[k]:d[k]}function y(){const d=r.value.map(k=>Re(re,k.props,k.slot!==void 0?e[k.slot]:void 0));return t.name!==void 0&&t.disable!==!0&&a.value===!0&&f(d,"push"),st(e.default,d)}return()=>Re(it,{class:"q-btn-toggle",...T.value,rounded:t.rounded,stretch:t.stretch,glossy:t.glossy,spread:t.spread},y)}}),Vt=`<svg width="67" height="67" viewBox="0 0 67 67" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="33.5" cy="33.5" r="33.5" fill="#23353D"/>
<path d="M20.1164 28.7648C20.9418 26.6177 22.5532 24.83 24.2297 23.3017C25.8591 21.8172 27.7401 20.6021 29.8029 19.8138C30.9966 19.3579 32.2408 19.0323 33.5041 18.8402C33.667 18.8155 33.8365 18.7998 34.0095 18.7875C33.7197 19.0592 33.4401 19.34 33.1684 19.6229C32.6799 20.1305 32.2285 20.6684 31.8163 21.24C31.4244 21.7835 31.0191 22.3719 31.1123 23.0176C31.092 23.6959 31.8231 24.2596 32.4104 23.743C32.4182 23.7396 32.425 23.7363 32.434 23.7329C32.5575 23.6925 32.6642 23.624 32.7551 23.5274C32.8742 23.4084 32.9662 23.2467 33.0617 23.1086C33.2481 22.8379 33.4165 22.5561 33.6029 22.2854C33.9567 21.7723 34.3486 21.2871 34.7607 20.82C35.5221 19.9565 36.3755 19.1783 37.0324 18.2372C37.12 18.1788 37.2031 18.1137 37.2828 18.0396C37.558 17.7836 37.5355 17.3232 37.2828 17.0649C36.7652 16.5348 36.0409 16.4035 35.2941 16.4181C35.2368 16.4113 35.1807 16.4046 35.1245 16.3978C34.4126 16.3125 33.6939 16.2788 32.9775 16.2496C32.252 16.2204 31.5311 16.1721 30.8079 16.1093C30.4823 16.0812 30.1578 16.0408 29.8321 16.0093C29.4773 15.9756 29.1494 16.0441 28.7968 16.0452C27.9501 16.0475 27.6019 17.2356 28.3599 17.6589C28.4868 17.7297 28.6059 17.8015 28.726 17.87C26.8091 18.6673 25.045 19.7802 23.4594 21.1322C21.5235 22.7795 19.6931 24.7851 18.6263 27.1152C17.5673 29.4285 17.0586 32.1089 17.0036 34.6445C16.9733 36.0381 17.1372 37.4418 17.3686 38.814C17.628 40.3536 18.0232 41.9392 18.8048 43.3047C18.9643 43.5832 19.3842 43.4518 19.3932 43.1452C19.4314 41.81 19.1911 40.4794 19.0406 39.1565C18.9104 38.0078 18.8194 36.8601 18.8385 35.7035C18.8767 33.3453 19.2675 30.9748 20.1164 28.7648Z" fill="white"/>
<path d="M41.8667 21.8756C43.3344 21.9598 44.637 20.7953 44.9615 19.4197C45.1356 18.6786 44.9896 17.8947 44.491 17.3018C43.879 16.5719 42.9178 16.3979 42.0059 16.4888C41.2041 16.5697 40.3945 16.81 39.9554 17.5399C39.7398 17.8992 39.6747 18.4147 39.7679 18.874C39.5175 20.2125 40.4102 21.7925 41.8667 21.8756ZM42.0845 18.5214C42.3091 18.4877 42.7942 18.4023 42.9896 18.5775C43.0491 18.6303 43.0896 18.7729 43.103 18.8369C43.0907 18.8156 43.075 19.0222 43.0626 19.0705C42.9458 19.5129 42.5247 20.0508 42.0014 20.0384C41.5601 20.0283 41.3692 19.5668 41.2558 19.1255C41.3187 19.0222 41.3793 18.9211 41.4501 18.8335C41.6185 18.6247 41.7398 18.573 42.0845 18.5214Z" fill="white"/>
<path d="M24.7688 44.8016C24.3477 44.5444 23.7952 44.3266 23.2921 44.3254C22.7857 44.3243 22.0557 44.5545 21.7829 45.0205C21.7582 45.0632 21.738 45.107 21.7211 45.1508C20.752 45.3945 20.277 46.4501 20.2579 47.3922C20.2388 48.3995 20.7093 49.3742 21.5515 49.9357C23.4437 51.1967 26.1882 49.6516 26.2814 47.4405C26.3285 46.3613 25.6694 45.3529 24.7688 44.8016ZM24.0411 47.6538C23.7312 48.2086 22.9058 48.4612 22.5599 48.048C22.1299 47.5337 22.213 46.8902 22.4263 46.2693C22.7284 46.3378 23.0641 46.349 23.3438 46.4388C23.949 46.6331 24.3117 47.1676 24.0411 47.6538Z" fill="white"/>
<path d="M49.4881 28.0079C49.3275 27.2151 49.1478 26.4212 48.9154 25.6453C48.6717 24.8334 48.382 24.1203 48.0114 23.3634C47.7397 22.8087 46.7694 23.0603 46.8245 23.6846C46.8829 24.3449 46.9413 24.967 47.0648 25.6228C47.1973 26.3269 47.3332 27.031 47.4522 27.7362C47.6577 28.9501 47.8003 30.182 47.8508 31.4127C47.9519 33.8809 47.6386 36.4008 46.6235 38.6714C44.8874 42.5545 41.4231 45.5831 37.5838 47.3023C35.7017 48.1445 33.6669 48.6083 31.6131 48.6521C31.9174 48.3893 32.2116 48.1165 32.498 47.8402C33.3188 47.0486 34.3486 46.0042 34.4305 44.8015C34.4485 44.5332 34.1386 44.2962 33.8837 44.3849C32.8214 44.7589 32.0308 45.8268 31.2627 46.605C30.4205 47.4584 29.4829 48.2119 28.6373 49.0586C28.5351 49.1608 28.4756 49.272 28.4486 49.3831C28.1791 49.5774 28.0343 49.9278 28.2701 50.2501C29.265 51.6144 30.7698 52.4218 32.4227 52.7295C33.2447 52.8822 34.0993 52.9586 34.9314 52.8463C35.6018 52.7553 36.7382 52.3825 36.901 51.6133C36.9347 51.4527 36.9089 51.2674 36.7797 51.1529C36.3272 50.7509 35.5355 50.7981 34.9639 50.8127C34.2879 50.8295 33.6321 50.8958 32.9572 50.7913C32.8663 50.7767 32.7753 50.761 32.6844 50.743C36.8089 50.4252 40.7516 48.5555 43.8801 45.8638C47.7734 42.5152 50.054 37.7382 49.999 32.5794C49.9822 31.0433 49.7935 29.5104 49.4881 28.0079Z" fill="white"/>
</svg>
`;var Ut=Object.defineProperty,Lt=(t,e,o)=>e in t?Ut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,i=(t,e,o)=>(Lt(t,typeof e!="symbol"?e+"":e,o),o);const je=new s.BeetArgsStruct([["tradeFeeNumerator",s.u64],["tradeFeeDenominator",s.u64],["ownerTradeFeeNumerator",s.u64],["ownerTradeFeeDenominator",s.u64],["ownerWithdrawFeeNumerator",s.u64],["ownerWithdrawFeeDenominator",s.u64],["hostFeeNumerator",s.u64],["hostFeeDenominator",s.u64]],"FeesInfo"),Je=new s.BeetArgsStruct([["curveType",s.u8],["curveParameters",s.uniformFixedSizeArray(s.u8,32)]],"CurveInfo"),ze=[135,144,215,161,140,125,41,96];class W{constructor(e,o,a,n,f,T,C,r,_,u,y,d){this.isInitialized=e,this.bumpSeed=o,this.tokenProgramId=a,this.tokenA=n,this.tokenB=f,this.poolMint=T,this.tokenAMint=C,this.tokenBMint=r,this.poolFeeAccount=_,this.fees=u,this.curve=y,this.policy=d}static fromArgs(e){return new W(e.isInitialized,e.bumpSeed,e.tokenProgramId,e.tokenA,e.tokenB,e.poolMint,e.tokenAMint,e.tokenBMint,e.poolFeeAccount,e.fees,e.curve,e.policy)}static fromAccountInfo(e,o=0){return W.deserialize(e.data,o)}static async fromAccountAddress(e,o,a){const n=await e.getAccountInfo(o,a);if(n==null)throw new Error(`Unable to find TokenSwap account at ${o}`);return W.fromAccountInfo(n,0)[0]}static gpaBuilder(e=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){return K.GpaBuilder.fromStruct(e,ne)}static deserialize(e,o=0){return ne.deserialize(e,o)}serialize(){return ne.serialize({accountDiscriminator:ze,...this})}static byteSize(e){const o=W.fromArgs(e);return ne.toFixedFromValue({accountDiscriminator:ze,...o}).byteSize}static async getMinimumBalanceForRentExemption(e,o,a){return o.getMinimumBalanceForRentExemption(W.byteSize(e),a)}pretty(){return{isInitialized:this.isInitialized,bumpSeed:this.bumpSeed,tokenProgramId:this.tokenProgramId.toBase58(),tokenA:this.tokenA.toBase58(),tokenB:this.tokenB.toBase58(),poolMint:this.poolMint.toBase58(),tokenAMint:this.tokenAMint.toBase58(),tokenBMint:this.tokenBMint.toBase58(),poolFeeAccount:this.poolFeeAccount.toBase58(),fees:this.fees,curve:this.curve,policy:this.policy}}}const ne=new s.FixableBeetStruct([["accountDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["isInitialized",s.bool],["bumpSeed",s.u8],["tokenProgramId",K.publicKey],["tokenA",K.publicKey],["tokenB",K.publicKey],["poolMint",K.publicKey],["tokenAMint",K.publicKey],["tokenBMint",K.publicKey],["poolFeeAccount",K.publicKey],["fees",je],["curve",Je],["policy",s.coption(K.publicKey)]],W.fromArgs,"TokenSwap"),h=new Map,w=new Map;class ce extends Error{constructor(){super("Swap account already in use"),i(this,"code",6e3),i(this,"name","AlreadyInUse"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ce)}}h.set(6e3,()=>new ce);w.set("AlreadyInUse",()=>new ce);class le extends Error{constructor(){super("Invalid program address generated from bump seed and key"),i(this,"code",6001),i(this,"name","InvalidProgramAddress"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,le)}}h.set(6001,()=>new le);w.set("InvalidProgramAddress",()=>new le);class ue extends Error{constructor(){super("Input account owner is not the program address"),i(this,"code",6002),i(this,"name","InvalidOwner"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ue)}}h.set(6002,()=>new ue);w.set("InvalidOwner",()=>new ue);class pe extends Error{constructor(){super("Output pool account owner cannot be the program address"),i(this,"code",6003),i(this,"name","InvalidOutputOwner"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,pe)}}h.set(6003,()=>new pe);w.set("InvalidOutputOwner",()=>new pe);class de extends Error{constructor(){super("Deserialized account is not an SPL Token mint"),i(this,"code",6004),i(this,"name","ExpectedMint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,de)}}h.set(6004,()=>new de);w.set("ExpectedMint",()=>new de);class me extends Error{constructor(){super("Deserialized account is not an SPL Token account"),i(this,"code",6005),i(this,"name","ExpectedAccount"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,me)}}h.set(6005,()=>new me);w.set("ExpectedAccount",()=>new me);class fe extends Error{constructor(){super("Input token account empty"),i(this,"code",6006),i(this,"name","EmptySupply"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,fe)}}h.set(6006,()=>new fe);w.set("EmptySupply",()=>new fe);class he extends Error{constructor(){super("Pool token mint has a non-zero supply"),i(this,"code",6007),i(this,"name","InvalidSupply"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,he)}}h.set(6007,()=>new he);w.set("InvalidSupply",()=>new he);class we extends Error{constructor(){super("Token account has a delegate"),i(this,"code",6008),i(this,"name","InvalidDelegate"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,we)}}h.set(6008,()=>new we);w.set("InvalidDelegate",()=>new we);class ke extends Error{constructor(){super("InvalidInput"),i(this,"code",6009),i(this,"name","InvalidInput"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ke)}}h.set(6009,()=>new ke);w.set("InvalidInput",()=>new ke);class ge extends Error{constructor(){super("Address of the provided swap token account is incorrect"),i(this,"code",6010),i(this,"name","IncorrectSwapAccount"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ge)}}h.set(6010,()=>new ge);w.set("IncorrectSwapAccount",()=>new ge);class ye extends Error{constructor(){super("Address of the provided pool token mint is incorrect"),i(this,"code",6011),i(this,"name","IncorrectPoolMint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ye)}}h.set(6011,()=>new ye);w.set("IncorrectPoolMint",()=>new ye);class Se extends Error{constructor(){super("InvalidOutput"),i(this,"code",6012),i(this,"name","InvalidOutput"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Se)}}h.set(6012,()=>new Se);w.set("InvalidOutput",()=>new Se);class Te extends Error{constructor(){super("General calculation failure due to overflow or underflow"),i(this,"code",6013),i(this,"name","CalculationFailure"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Te)}}h.set(6013,()=>new Te);w.set("CalculationFailure",()=>new Te);class ve extends Error{constructor(){super("Invalid instruction"),i(this,"code",6014),i(this,"name","InvalidInstruction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ve)}}h.set(6014,()=>new ve);w.set("InvalidInstruction",()=>new ve);class be extends Error{constructor(){super("Swap input token accounts have the same mint"),i(this,"code",6015),i(this,"name","RepeatedMint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,be)}}h.set(6015,()=>new be);w.set("RepeatedMint",()=>new be);class Ae extends Error{constructor(){super("Swap instruction exceeds desired slippage limit"),i(this,"code",6016),i(this,"name","ExceededSlippage"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ae)}}h.set(6016,()=>new Ae);w.set("ExceededSlippage",()=>new Ae);class Ce extends Error{constructor(){super("Token account has a close authority"),i(this,"code",6017),i(this,"name","InvalidCloseAuthority"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ce)}}h.set(6017,()=>new Ce);w.set("InvalidCloseAuthority",()=>new Ce);class Be extends Error{constructor(){super("Pool token mint has a freeze authority"),i(this,"code",6018),i(this,"name","InvalidFreezeAuthority"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Be)}}h.set(6018,()=>new Be);w.set("InvalidFreezeAuthority",()=>new Be);class Ee extends Error{constructor(){super("Pool fee token account incorrect"),i(this,"code",6019),i(this,"name","IncorrectFeeAccount"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ee)}}h.set(6019,()=>new Ee);w.set("IncorrectFeeAccount",()=>new Ee);class Fe extends Error{constructor(){super("Given pool token amount results in zero trading tokens"),i(this,"code",6020),i(this,"name","ZeroTradingTokens"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Fe)}}h.set(6020,()=>new Fe);w.set("ZeroTradingTokens",()=>new Fe);class _e extends Error{constructor(){super("Fee calculation failed due to overflow, underflow, or unexpected 0"),i(this,"code",6021),i(this,"name","FeeCalculationFailure"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,_e)}}h.set(6021,()=>new _e);w.set("FeeCalculationFailure",()=>new _e);class Me extends Error{constructor(){super("Conversion to u64/u128 failed with an overflow or underflow"),i(this,"code",6022),i(this,"name","ConversionFailure"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Me)}}h.set(6022,()=>new Me);w.set("ConversionFailure",()=>new Me);class Ie extends Error{constructor(){super("The provided fee does not match the program owner's constraints"),i(this,"code",6023),i(this,"name","InvalidFee"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ie)}}h.set(6023,()=>new Ie);w.set("InvalidFee",()=>new Ie);class De extends Error{constructor(){super("The provided token program does not match the token program expected by the swap"),i(this,"code",6024),i(this,"name","IncorrectTokenProgramId"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,De)}}h.set(6024,()=>new De);w.set("IncorrectTokenProgramId",()=>new De);class We extends Error{constructor(){super("The provided curve type is not supported by the program owner"),i(this,"code",6025),i(this,"name","UnsupportedCurveType"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,We)}}h.set(6025,()=>new We);w.set("UnsupportedCurveType",()=>new We);class Ne extends Error{constructor(){super("The provided curve parameters are invalid"),i(this,"code",6026),i(this,"name","InvalidCurve"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ne)}}h.set(6026,()=>new Ne);w.set("InvalidCurve",()=>new Ne);class xe extends Error{constructor(){super("The operation cannot be performed on the given curve"),i(this,"code",6027),i(this,"name","UnsupportedCurveOperation"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,xe)}}h.set(6027,()=>new xe);w.set("UnsupportedCurveOperation",()=>new xe);const $t=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["poolTokenAmount",s.u64],["maximumTokenAAmount",s.u64],["maximumTokenBAmount",s.u64]],"DepositAllTokenTypesInstructionArgs"),qt=[32,95,69,60,75,79,205,238];function Gt(t,e,o=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){const[a]=$t.serialize({instructionDiscriminator:qt,...e}),n=[{pubkey:t.tokenSwap,isWritable:!1,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:t.userTransferAuthority,isWritable:!1,isSigner:!0},{pubkey:t.userTokenA,isWritable:!0,isSigner:!1},{pubkey:t.userTokenB,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenA,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenB,isWritable:!0,isSigner:!1},{pubkey:t.poolMint,isWritable:!0,isSigner:!1},{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??$,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const f of t.anchorRemainingAccounts)n.push(f);return new q({programId:o,keys:n,data:a})}const Qt=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["sourceTokenAmount",s.u64],["minimumPoolTokenAmount",s.u64]],"DepositSingleTokenTypeInstructionArgs"),Ht=[175,0,152,41,199,0,148,43];function jt(t,e,o=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){const[a]=Qt.serialize({instructionDiscriminator:Ht,...e}),n=[{pubkey:t.tokenSwap,isWritable:!1,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:t.userTransferAuthority,isWritable:!1,isSigner:!0},{pubkey:t.source,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenA,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenB,isWritable:!0,isSigner:!1},{pubkey:t.poolMint,isWritable:!0,isSigner:!1},{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??$,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const f of t.anchorRemainingAccounts)n.push(f);return new q({programId:o,keys:n,data:a})}const Jt=new s.FixableBeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["feesInput",je],["curveInput",Je],["policy",s.coption(K.publicKey)]],"InitializeInstructionArgs"),Zt=[175,175,109,31,13,152,155,237];function Xt(t,e,o=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){const[a]=Jt.serialize({instructionDiscriminator:Zt,...e}),n=[{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:t.tokenSwap,isWritable:!0,isSigner:!0},{pubkey:t.poolMint,isWritable:!0,isSigner:!1},{pubkey:t.tokenA,isWritable:!0,isSigner:!1},{pubkey:t.tokenB,isWritable:!0,isSigner:!1},{pubkey:t.poolFee,isWritable:!0,isSigner:!1},{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??$,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const f of t.anchorRemainingAccounts)n.push(f);return new q({programId:o,keys:n,data:a})}const eo=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["amountIn",s.u64],["minimumAmountOut",s.u64]],"SwapInstructionArgs"),to=[248,198,158,145,225,117,135,200];function oo(t,e,o=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){const[a]=eo.serialize({instructionDiscriminator:to,...e}),n=[{pubkey:t.proofRequest??o,isWritable:!1,isSigner:!1},{pubkey:t.tokenSwap,isWritable:!1,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:t.userTransferAuthority,isWritable:!1,isSigner:!0},{pubkey:t.userSource,isWritable:!0,isSigner:!1},{pubkey:t.userDestination,isWritable:!0,isSigner:!1},{pubkey:t.poolSource,isWritable:!0,isSigner:!1},{pubkey:t.poolDestination,isWritable:!0,isSigner:!1},{pubkey:t.poolMint,isWritable:!0,isSigner:!1},{pubkey:t.poolFee,isWritable:!0,isSigner:!1},{pubkey:t.hostFeeAccount??o,isWritable:!1,isSigner:!1},{pubkey:t.tokenProgram??$,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const f of t.anchorRemainingAccounts)n.push(f);return new q({programId:o,keys:n,data:a})}const no=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["poolTokenAmount",s.u64],["minimumTokenAAmount",s.u64],["minimumTokenBAmount",s.u64]],"WithdrawAllTokenTypesInstructionArgs"),ro=[189,254,156,174,210,9,164,216];function ao(t,e,o=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){const[a]=no.serialize({instructionDiscriminator:ro,...e}),n=[{pubkey:t.tokenSwap,isWritable:!1,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:t.userTransferAuthority,isWritable:!1,isSigner:!0},{pubkey:t.poolMint,isWritable:!0,isSigner:!1},{pubkey:t.source,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenA,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenB,isWritable:!0,isSigner:!1},{pubkey:t.destTokenA,isWritable:!0,isSigner:!1},{pubkey:t.destTokenB,isWritable:!0,isSigner:!1},{pubkey:t.poolFee,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??$,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const f of t.anchorRemainingAccounts)n.push(f);return new q({programId:o,keys:n,data:a})}const io=new s.BeetArgsStruct([["instructionDiscriminator",s.uniformFixedSizeArray(s.u8,8)],["destinationTokenAmount",s.u64],["maximumPoolTokenAmount",s.u64]],"WithdrawSingleTokenTypeInstructionArgs"),so=[111,171,21,77,237,181,241,56];function co(t,e,o=new g("J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea")){const[a]=io.serialize({instructionDiscriminator:so,...e}),n=[{pubkey:t.tokenSwap,isWritable:!1,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:t.userTransferAuthority,isWritable:!1,isSigner:!0},{pubkey:t.poolMint,isWritable:!0,isSigner:!1},{pubkey:t.source,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenA,isWritable:!0,isSigner:!1},{pubkey:t.swapTokenB,isWritable:!0,isSigner:!1},{pubkey:t.destination,isWritable:!0,isSigner:!1},{pubkey:t.poolFee,isWritable:!0,isSigner:!1},{pubkey:t.tokenProgram??$,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const f of t.anchorRemainingAccounts)n.push(f);return new q({programId:o,keys:n,data:a})}var Ze=(t=>(t[t.ConstantProduct=0]="ConstantProduct",t[t.ConstantPrice=1]="ConstantPrice",t[t.Offset=2]="Offset",t))(Ze||{});s.fixedScalarEnum(Ze);var Xe=(t=>(t[t.Floor=0]="Floor",t[t.Ceiling=1]="Ceiling",t))(Xe||{});s.fixedScalarEnum(Xe);var et=(t=>(t[t.AtoB=0]="AtoB",t[t.BtoA=1]="BtoA",t))(et||{});s.fixedScalarEnum(et);const lo="J8YCNcS2xDvowMcSzWrDYNguk5y9NWfGStNT4YsiKuea",uo=new g(lo);class po{constructor(e){i(this,"programId",uo),this.provider=e}get connection(){return this.provider.connection}swapAuthority(e){return g.findProgramAddressSync([e.toBuffer()],this.programId)[0]}async createTokenSwap(e,o){const a=new P,n=e.tokenSwap??lt.generate(),f=Array.from({length:32}),T=Array.from(e.curveParameters??[]);for(let y=0;y<T.length;y++)f[y]=T[y];const C={curveType:e.curveType,curveParameters:f},r=W.byteSize({bumpSeed:0,curve:C,fees:{tradeFeeNumerator:0,tradeFeeDenominator:0,ownerTradeFeeNumerator:0,ownerTradeFeeDenominator:0,ownerWithdrawFeeNumerator:0,ownerWithdrawFeeDenominator:0,hostFeeNumerator:0,hostFeeDenominator:0},isInitialized:!1,policy:g.default,poolFeeAccount:g.default,poolMint:g.default,tokenA:g.default,tokenAMint:g.default,tokenB:g.default,tokenBMint:g.default,tokenProgramId:g.default}),_=await this.connection.getMinimumBalanceForRentExemption(r);a.add(ut.createAccount({fromPubkey:this.provider.publicKey,newAccountPubkey:n.publicKey,programId:this.programId,lamports:_,space:r})),a.add(Xt({authority:this.swapAuthority(n.publicKey),tokenSwap:n.publicKey,destination:e.destination,poolMint:e.poolMint,poolFee:e.poolFee,tokenA:e.tokenA,tokenB:e.tokenB},{feesInput:{tradeFeeNumerator:new S(e.fees.tradeFeeNumerator.toString()),tradeFeeDenominator:new S(e.fees.tradeFeeDenominator.toString()),ownerTradeFeeNumerator:new S(e.fees.ownerTradeFeeNumerator.toString()),ownerTradeFeeDenominator:new S(e.fees.ownerTradeFeeDenominator.toString()),ownerWithdrawFeeNumerator:new S(e.fees.ownerWithdrawFeeNumerator.toString()),ownerWithdrawFeeDenominator:new S(e.fees.ownerWithdrawFeeDenominator.toString()),hostFeeNumerator:new S(e.fees.hostFeeNumerator.toString()),hostFeeDenominator:new S(e.fees.hostFeeDenominator.toString())},curveInput:C,policy:e.policy??null}));const u=await this.provider.sendAndConfirm(a,[n],o);return{tokenSwap:n.publicKey,signature:u}}async swap(e,o){const a=oo({authority:this.swapAuthority(e.tokenSwap),userTransferAuthority:this.provider.publicKey,userSource:e.userSource,userDestination:e.userDestination,tokenSwap:e.tokenSwap,poolFee:e.poolFee,poolMint:e.poolMint,poolSource:e.poolSource,poolDestination:e.poolDestination,proofRequest:e.proofRequest,hostFeeAccount:e.hostFeeAccount},{amountIn:new S(e.amountIn.toString()),minimumAmountOut:new S(e.minimumAmountOut.toString())}),n=new P().add(a);return this.provider.sendAndConfirm(n,[],o)}async depositAllTokenTypes(e,o){const a=Gt({authority:this.swapAuthority(e.tokenSwap),userTransferAuthority:this.provider.publicKey,tokenSwap:e.tokenSwap,poolMint:e.poolMint,destination:e.destination,userTokenA:e.userTokenA,userTokenB:e.userTokenB,swapTokenA:e.swapTokenA,swapTokenB:e.swapTokenB},{poolTokenAmount:new S(e.poolTokenAmount.toString()),maximumTokenAAmount:new S(e.maximumTokenA.toString()),maximumTokenBAmount:new S(e.maximumTokenB.toString())}),n=new P().add(a);return this.provider.sendAndConfirm(n,[],o)}async withdrawAllTokenTypes(e,o){const a=ao({authority:this.swapAuthority(e.tokenSwap),userTransferAuthority:this.provider.publicKey,tokenSwap:e.tokenSwap,poolMint:e.poolMint,poolFee:e.poolFee,source:e.source,destTokenA:e.destTokenA,destTokenB:e.destTokenB,swapTokenA:e.swapTokenA,swapTokenB:e.swapTokenB},{poolTokenAmount:new S(e.poolTokenAmount.toString()),minimumTokenAAmount:new S(e.minimumTokenA.toString()),minimumTokenBAmount:new S(e.minimumTokenB.toString())}),n=new P().add(a);return this.provider.sendAndConfirm(n,[],o)}async depositSingleTokenTypeExactAmountIn(e,o){const a=jt({authority:this.swapAuthority(e.tokenSwap),userTransferAuthority:this.provider.publicKey,tokenSwap:e.tokenSwap,poolMint:e.poolMint,source:e.source,destination:e.destination,swapTokenA:e.swapTokenA,swapTokenB:e.swapTokenB},{sourceTokenAmount:new S(e.sourceTokenAmount.toString()),minimumPoolTokenAmount:new S(e.minimumPoolTokenAmount.toString())}),n=new P().add(a);return this.provider.sendAndConfirm(n,[],o)}async withdrawSingleTokenTypeExactAmountOut(e,o){const a=co({authority:this.swapAuthority(e.tokenSwap),userTransferAuthority:this.provider.publicKey,tokenSwap:e.tokenSwap,poolMint:e.poolMint,poolFee:e.poolFee,source:e.source,destination:e.destination,swapTokenA:e.swapTokenA,swapTokenB:e.swapTokenB},{destinationTokenAmount:new S(e.destinationTokenAmount.toString()),maximumPoolTokenAmount:new S(e.maximumPoolTokenAmount.toString())}),n=new P().add(a);return this.provider.sendAndConfirm(n,[],o)}async load(e,o){return W.fromAccountAddress(this.provider.connection,new g(e),o)}async loadAll(e={}){const o=W.gpaBuilder().addFilter("accountDiscriminator",ze);return e.noData&&(o.config.dataSlice={offset:0,length:0}),e.tokenProgramId&&o.addFilter("tokenProgramId",new g(e.tokenProgramId)),e.poolMint&&o.addFilter("poolMint",new g(e.poolMint)),e.tokenAMint&&o.addFilter("tokenAMint",new g(e.tokenAMint)),e.tokenBMint&&o.addFilter("tokenBMint",new g(e.tokenBMint)),(await o.run(this.provider.connection)).map(({pubkey:a,account:n})=>({pubkey:a,data:e.noData?null:W.fromAccountInfo(n)[0]}))}}var j=(t=>(t.TOKEN_A="TOKEN_A",t.TOKEN_B="TOKEN_B",t))(j||{});const tt=pt("swap",()=>{const t=Pe(),e=Qe(),o=A(()=>new po(new Ve(t.connection,e.value??{publicKey:g.default},Ve.defaultOptions()))),a=Ye(),n=ae({loading:!1,slippageDialog:!1,status:void 0,poolBalance:{TOKEN_A:void 0,TOKEN_B:void 0},userBalance:{TOKEN_A:void 0,TOKEN_B:void 0},poolTokenSupply:0});Y(e,async u=>{u?f().then():_()},{immediate:!0}),Y(a,async u=>{u&&await C()});async function f(){n.loading=!0;try{a.value=await o.value.load(J),console.log("Token SWAP: ",a.value),await T();const u=await o.value.loadAll();console.log("swaps ================: ",u)}catch(u){console.log(u),a.value=void 0}finally{n.loading=!1}}async function T(){if(console.log("loadPoolTokenAccounts ========= "),!a.value)return;const u=await Ue(t.connection,o.value.swapAuthority(J));for(const d of u){const k=r(d.mint);k&&(n.poolBalance[k]=d.amount)}const y=await dt(t.connection,a.value.poolMint);n.poolTokenSupply=Number(y.supply),console.log("[Pool Balance]",n.poolBalance)}async function C(){if(console.log("loadUserTokenAccounts ========= "),!a.value)return;const u=e.value?.publicKey;if(!u){console.log("Wallet is not connected...");return}const y=await Ue(t.connection,u,[a.value.tokenAMint,a.value.tokenBMint]),d={TOKEN_A:0,TOKEN_B:0};for(const k of y){const B=r(k.mint);B&&(d[B]=+k.amount)}n.userBalance=d,console.log("[User Balance]",n.userBalance)}function r(u){if(a.value)switch(String(u)){case String(a.value.tokenAMint):return"TOKEN_A";case String(a.value.tokenBMint):return"TOKEN_B"}}function _(){n.loading=!1,n.slippageDialog=!1,n.status=void 0,n.poolBalance={TOKEN_A:void 0,TOKEN_B:void 0},n.userBalance={TOKEN_A:void 0,TOKEN_B:void 0},n.poolTokenSupply=0}return{state:n,tokenSwap:a,loadUserTokenAccounts:C,loadPoolTokenAccounts:T,swapClient:o}});function mo(){const t=Pe(),{notify:e}=mt(),o=ft(t,"cluster"),a=Ye(!1);async function n(f,{onSuccess:T,onError:C,idx:r,commitment:_=ht,sendTimeout:u=wt,confirmTimeout:y=kt}={}){r=r??"";let d=e({progress:!0,type:"ongoing",message:r?`Sending transaction "${r}" ...`:"Sending transaction...",timeout:u});const k={label:"Close",color:"white"};a.value=!0;let B="";try{const p=await f;B=String(typeof p=="object"?await p.signature:await f)}catch(p){a.value=!1,d(),String(p?.message).startsWith("User rejected")||e({message:r?`Transaction "${r}" error`:"Transaction error",caption:p?.message,type:"negative",timeout:0,actions:[k]});return}const x={label:"Explore",color:"white",target:"_blank",href:`https://solscan.io/tx/${B}?cluster=${o.value}`,onClick:()=>!1};try{d(),d=e({progress:!0,type:"ongoing",message:r?`Confirming transaction "${r}" ...`:"Confirming transaction...",actions:[x],timeout:y});const p=await t.connection.getLatestBlockhash(),c=await t.connection.confirmTransaction({blockhash:p.blockhash,lastValidBlockHeight:p.lastValidBlockHeight,signature:B},_);if(d(),c.value.err)throw new Error(JSON.stringify(c.value.err));d=e({message:r?`Transaction "${r}" confirmed`:"Transaction confirmed",type:"positive",actions:[x]}),T&&T(B)}catch(p){d(),e({message:r?`Transaction "${r}" error`:"Transaction error",caption:p.message,type:"negative",timeout:0,actions:[x,k]}),C&&C(p),console.error(p)}finally{a.value=!1}}return{monitorTransaction:n,sending:a}}function fo(){const t=gt(),e=tt(),o=Qe(),a=Pe(),{monitorTransaction:n}=mo(),{notify:f}=yt(),T=ae({image:St,value:j.TOKEN_A,label:j.TOKEN_A}),C=ae({image:Tt,value:j.TOKEN_B,label:j.TOKEN_B}),r=ae({from:T,to:C,swapping:!1,active:!1,slippage:.01,rate:0,impact:0,fees:{host:0,trade:0,ownerTrade:0,ownerWithdraw:0},direction:0});Y([()=>r.from.amount,()=>e.state.poolBalance],async()=>{const c=X(r.from.amount??0),E=Number(e.state.poolBalance[r.from.label]??0),M=Number(e.state.poolBalance[r.to.label]??0);if(c===0||Number.isNaN(c)){r.to.amount=0,r.rate=M/E,r.impact=0;return}console.log(r.fees);const O=M-E*M/(E+c);r.rate=c?O/c:M/E,r.to.amount=vt(O?O*(1-r.fees.ownerTrade-r.fees.trade):0),r.impact=c?1-O/c/(M/E):0},{immediate:!0});const u=A(()=>{const c=Number(X(r.to.amount??0));return Math.floor(c-c*r.slippage)});async function y(){const c=e.tokenSwap;if(!t.certificateValid)return bt();if(!c){console.log("TokenSwap is not initialized...");return}o.value.publicKey||f({type:"info",message:"Please connect your wallet first"});const M=Number(X(r.from.amount??0)),O=Number(e.state.userBalance[r.from.label]??0),R=Number(X(r.to.amount??0));if(M>O){f({type:"negative",message:"Insufficient balance."});return}try{r.swapping=!0;const{userSourceMint:G,userDestinationMint:Ke,poolSourceAddress:Z,poolDestinationAddress:Q}=d(),V=new P,U=await Le(a.connection,V,G,o.value.publicKey),I=await Le(a.connection,V,Ke,o.value.publicKey);V.instructions.length>0&&await n(At(a.connection,o.value,V.instructions),{commitment:"finalized",onSuccess:p});const F=M;console.log("toAmount = ",R),console.log("slippage = ",r.slippage),console.log("slippage 2 = ",R*r.slippage);const H=e.swapClient.swapAuthority(J);console.log("proofRequest = ",t.certificate?.pubkey.toBase58()),console.log("swapAuthority = ",H),console.log("tokenSwap = ",J.toBase58()),console.log("userSource = ",U.toBase58()),console.log("userDestination = ",I.toBase58()),console.log("poolSource = ",Z.toBase58()),console.log("poolDestination = ",Q.toBase58()),console.log("poolMint = ",c.poolMint.toBase58()),console.log("poolFee = ",c.poolFeeAccount.toBase58()),console.log("amountIn = ",F),console.log("minimumAmountOut = ",u.value),await e.swapClient.swap({proofRequest:t.certificate?.pubkey,authority:H,tokenSwap:J,userSource:U,userDestination:I,poolSource:Z,poolDestination:Q,poolMint:c.poolMint,poolFee:c.poolFeeAccount,amountIn:F,minimumAmountOut:u.value},{commitment:"confirmed"}),p()}catch(G){console.log(G)}finally{r.swapping=!1}}function d(){const c=e.tokenSwap,E=r.direction;return{userSourceMint:E===0?c.tokenAMint:c.tokenBMint,userDestinationMint:E===0?c.tokenBMint:c.tokenAMint,poolSourceAddress:E===0?c.tokenA:c.tokenB,poolDestinationAddress:E===0?c.tokenB:c.tokenA}}function k(){const{from:c,to:E}=r;r.rate=0,r.to={...c,amount:void 0},r.from={...E,amount:void 0},r.direction=r.direction===0?1:0}function B(){e.state.slippageDialog=!0}function N(){e.state.slippageDialog=!1}function x(c){r.from.amount=c}function p(){e.loadUserTokenAccounts(),e.loadPoolTokenAccounts(),r.from.amount=void 0,r.to.amount=void 0}return Y(()=>o.value?.publicKey,c=>{c||p()}),Y(()=>r.to,c=>{c.amount&&(c.amount=void 0)}),Y(()=>e.tokenSwap,c=>{c&&(r.fees.host=ee(c.fees.hostFeeNumerator,c.fees.hostFeeDenominator),r.fees.ownerTrade=ee(c.fees.ownerTradeFeeNumerator,c.fees.ownerTradeFeeDenominator),r.fees.ownerWithdraw=ee(c.fees.ownerWithdrawFeeNumerator,c.fees.ownerWithdrawFeeDenominator),r.fees.trade=ee(c.fees.tradeFeeNumerator,c.fees.tradeFeeDenominator))}),{state:r,tokenSwap:e.tokenSwap,swapState:e.state,minimumReceived:u,setMax:x,closeSlippage:N,openSlippage:B,changeDirection:k,swapSubmit:y}}const ho={class:"swap-form"},wo={class:"swap-field"},ko={class:"swap-field__info"},go={class:"row items-end"},yo=m("div",{class:"col swap-field__label"}," FROM: ",-1),So={class:"col-8 col-xs-10 row justify-end swap-field__balance"},To={key:0,class:"insufficient-error"},vo={class:"swap-change"},bo=["innerHTML"],Ao={class:"swap-field"},Co={class:"swap-field__info"},Bo={class:"row"},Eo=m("div",{class:"col swap-field__label"}," TO: ",-1),Fo={class:"col swap-field__balance"},_o={class:"swap-info"},Mo=m("dt",null,"Minimum Received::",-1),Io=m("dt",null,"Slippage Tolerance:",-1),Do=m("dt",null,"Swap fee:",-1),Wo={class:"swap-submit"},No={class:"swap-rate q-mt-md"},xo={class:"swap-rate"},Ko=m("div",{class:"q-mt-lg"}," DEBUG: ",-1),Oo=Ct({__name:"SwapCard",setup(t){const{state:e,swapState:o,minimumReceived:a,changeDirection:n,openSlippage:f,closeSlippage:T,setMax:C,swapSubmit:r}=fo(),{handleSearchToken:_,tokens:u}=Bt(),y=tt(),d=A(()=>y.state.poolBalance.TOKEN_A/te),k=A(()=>y.state.poolBalance.TOKEN_B/te),{connected:B}=Et(),N=A(()=>[...u.value].splice(-2));function x(I){return o.userBalance[I]/te}const p=I=>Dt.format(I),c=Ye(0),E=A(()=>`transform: rotate(${c.value*180}deg)`),M=A(()=>e.from.label),O=A(()=>e.to.label),R=A(()=>x(M.value)),G=A(()=>x(O.value)),Ke=A(()=>e.fees.ownerTrade+e.fees.trade);function Z(){n(),c.value++}function Q(I,F){e[F?"to":"from"]=I}function V(){C(R.value)}const U=A(()=>Number(e.from.amount)>R.value?"Insufficient funds":!1);return Y(()=>e.from.amount,I=>{e.active=Number(I)>=1&&!U.value,console.log(y.state)}),(I,F)=>{const H=Nt;return ie(),se(He,null,[b($e,{class:"swap-card swap-widget"},{default:D(()=>[b(Oe,{class:"swap-card__header"},{default:D(()=>[oe(" Swap ")]),_:1}),b(Oe,{class:"swap-card__body"},{default:D(()=>[m("div",ho,[m("div",wo,[m("div",ko,[m("div",go,[yo,m("div",So,[l(U)?(ie(),se("div",To,v(l(U)),1)):_t("",!0),oe(" Balance: "+v(l(L)(l(R)))+" "+v(l(M)),1)])])]),b(qe,{modelValue:l(e).from.amount,"onUpdate:modelValue":F[0]||(F[0]=z=>l(e).from.amount=z),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input",disable:!l(B),onKeypress:l(Wt)},{append:D(()=>[b(re,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:V},{default:D(()=>[oe(" MAX ")]),_:1}),b(H,{options:l(N),disable:"",token:l(e).from,"swap-token":String(l(e).to.value),onHandleSearchToken:l(_),onSetToken:Q},null,8,["options","token","swap-token","onHandleSearchToken"])]),_:1},8,["modelValue","disable","onKeypress"])]),m("div",vo,[b(re,{ripple:!1,dense:"",unelevated:"",style:Mt(l(E)),onClick:Z},{default:D(()=>[m("i",{innerHTML:l(Vt)},null,8,bo)]),_:1},8,["style"])]),m("div",Ao,[m("div",Co,[m("div",Bo,[Eo,m("div",Fo," Balance: "+v(l(L)(l(G)))+" "+v(l(O)),1)])]),b(qe,{modelValue:l(e).to.amount,"onUpdate:modelValue":F[1]||(F[1]=z=>l(e).to.amount=z),disable:!l(B),readonly:"",maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input"},{append:D(()=>[b(H,{"swap-token":String(l(e).from.value),disable:"",options:l(N),direction:!0,token:l(e).to,onHandleSearchToken:l(_),onSetToken:Q},null,8,["swap-token","options","token","onHandleSearchToken"])]),_:1},8,["modelValue","disable"])])]),m("div",_o,[m("dl",null,[Mo,m("dd",null,v(l(L)(l(a)/l(te)))+" "+v(l(M).toUpperCase()),1)]),m("dl",null,[Io,m("dd",null,[m("a",{href:"#",onClick:F[2]||(F[2]=(...z)=>l(f)&&l(f)(...z))},v(p(l(e).slippage)),1)])]),m("dl",null,[Do,m("dd",null,v(p(l(Ke)))+" SOL",1)])]),m("div",Wo,[b(re,{loading:l(e).swapping,rounded:"",ripple:!1,onClick:l(r)},{default:D(()=>[oe(" Swap "+v(l(e).from.label)+" / "+v(l(e).to.label),1)]),_:1},8,["loading","onClick"])]),m("div",No," 1 "+v(l(e).from.label)+" ≈ "+v(l(L)(l(e).rate))+" "+v(l(e).to.label),1),m("div",xo," Price impact: "+v(p(l(e).impact)),1),Ko,m("div",null," Pool Token_A balance: "+v(l(L)(l(d))),1),m("div",null," Pool Token_B balance: "+v(l(L)(l(k))),1)]),_:1}),b(It,{showing:l(o)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1}),b(Ft,{modelValue:l(o).slippageDialog,"onUpdate:modelValue":F[4]||(F[4]=z=>l(o).slippageDialog=z),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:D(()=>[b($e,null,{default:D(()=>[b(Oe,null,{default:D(()=>[b(Rt,{modelValue:l(e).slippage,"onUpdate:modelValue":[F[3]||(F[3]=z=>l(e).slippage=z),l(T)],spread:"","no-caps":"",unelevated:"",ripple:!1,"toggle-color":"secondary",color:"white","text-color":"dark",options:[{label:"0.1%",value:.001},{label:"0.5%",value:.005},{label:"1%",value:.01},{label:"5%",value:.05}]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),zo={},Po={class:"main-block row justify-center"};function Yo(t,e){const o=Oo,a=Yt;return ie(),se(He,null,[m("div",Po,[b(o)]),b(a)],64)}const Uo=Ge(zo,[["render",Yo]]);export{Uo as default};
