import{a3 as ce,a0 as Ie,ah as Ze,ai as He,H as q,aj as _e,G as qe,C as je,p as Ye,ac as ee,I as we,w as G,o as se,ak as pe,K,k as O,N as xe,al as ge,X as ke,S as L,$ as be,j as Te,U as de,O as Be,R as me,am as Me,Q as Je,an as ve,ad as Xe,ao as he,ap as ue,aq as $e,ar as et,a1 as tt,as as nt,at,au as ot,av as Ee,aw as st,ax as Fe,ay as it,az as rt,aA as lt,aB as ut,aC as ct,aD as dt,z as We,aE as Ne,aF as Ke,aG as Pe,aH as ft,aI as Ae,aJ as mt,V as gt,aK as kt,aL as oe,aM as _,aN as I,aO as Ce,a as J,P as H,h as re,aP as ht,i as le,a8 as z,n as Qe,s as pt,u as vt,q as yt,aQ as Re,aR as wt,aa as At,aS as $,ae as St,aT as Oe}from"./index-1f9fb597.js";function Qt(e){const t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&t!==46&&e.preventDefault(),t===46&&String(e.target.value).includes(".")&&e.preventDefault()}const bt=ce("div",{class:"q-space"}),Tt=Ie({name:"QSpace",setup(){return()=>bt}}),Bt=Ie({name:"QCardActions",props:{...Ze,vertical:Boolean},setup(e,{slots:t}){const u=He(e),r=q(()=>`q-card__actions ${u.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>ce("div",{class:r.value},_e(t.default))}}),It=me("div",{class:"text-h6"}," Info ",-1),Ct={key:0},xt={key:1},Mt=["href"],Et=["href"],Gt=qe({__name:"ZkpRequestDialog",setup(e){const t=je(),u=Ye(),r=ee(!1);function o(){t.state.requestStatus=void 0}const a=q(()=>we.Empty===t.state.requestStatus),h=q(()=>we.Pending===t.state.requestStatus);return G(()=>t.state.requestStatus,d=>{typeof d>"u"||d!==we.Proved&&(r.value=!0)}),(d,k)=>(se(),pe(Xe,{modelValue:L(r),"onUpdate:modelValue":k[0]||(k[0]=c=>ve(r)?r.value=c:null),onHide:o},{default:K(()=>[O(Je,{class:"zkp-dialog"},{default:K(()=>[O(xe,{class:"row items-center q-pb-none zkp-dialog__header"},{default:K(()=>[It,O(Tt),ge(O(ke,{icon:L(be),flat:"",round:"",dense:""},null,8,["icon"]),[[he]])]),_:1}),O(xe,{class:"q-pt-none zkp-dialog__body"},{default:K(()=>[L(a)?(se(),Te("div",Ct," To continue, you need to create a ZKP request ")):de("",!0),L(h)?(se(),Te("div",xt,[Be(' To continue, you need to "prove" the request. Follow this link. '),me("a",{class:"prove-link",href:L(Me),target:"_blank"},"__Albus account__",8,Mt)])):de("",!0)]),_:1}),O(Bt,{align:"right",class:"zkp-dialog__actions"},{default:K(()=>[ge(O(ke,{flat:"",label:"Cancel",class:"zkp-dialog__actions--cancel"},null,512),[[he]]),L(a)?ge((se(),pe(ke,{key:0,outline:"",label:"Create",color:"yellow",onClick:L(u).createProofRequest},null,8,["onClick"])),[[he]]):de("",!0),L(h)?ge((se(),pe(ke,{key:1,color:"yellow",outline:""},{default:K(()=>[me("a",{href:L(Me),target:"_blank"},"prove",8,Et)]),_:1})),[[he]]):de("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const Ve={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ye={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ge=Object.keys(ye);Ge.forEach(e=>{ye[e].regex=new RegExp(ye[e].pattern)});const Ft=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ge.join("")+"])|(.)","g"),Le=/[.*+?^${}()|[\]\\]/g,N=String.fromCharCode(1),Wt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Nt(e,t,u,r){let o,a,h,d,k,c;const y=ee(null),g=ee(f());function M(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}G(()=>e.type+e.autogrow,p),G(()=>e.mask,l=>{if(l!==void 0)v(g.value,!0);else{const s=P(g.value);p(),e.modelValue!==s&&t("update:modelValue",s)}}),G(()=>e.fillMask+e.reverseFillMask,()=>{y.value===!0&&v(g.value,!0)}),G(()=>e.unmaskedValue,()=>{y.value===!0&&v(g.value)});function f(){if(p(),y.value===!0){const l=Q(P(e.modelValue));return e.fillMask!==!1?X(l):l}return e.modelValue}function w(l){if(l<o.length)return o.slice(-l);let s="",m=o;const i=m.indexOf(N);if(i>-1){for(let b=l-m.length;b>0;b--)s+=N;m=m.slice(0,i)+s+m.slice(i)}return m}function p(){if(y.value=e.mask!==void 0&&e.mask.length!==0&&M(),y.value===!1){d=void 0,o="",a="";return}const l=Ve[e.mask]===void 0?e.mask:Ve[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",m=s.replace(Le,"\\$&"),i=[],b=[],A=[];let F=e.reverseFillMask===!0,B="",C="";l.replace(Ft,(R,n,E,Y,Z)=>{if(Y!==void 0){const D=ye[Y];A.push(D),C=D.negate,F===!0&&(b.push("(?:"+C+"+)?("+D.pattern+"+)?(?:"+C+"+)?("+D.pattern+"+)?"),F=!1),b.push("(?:"+C+"+)?("+D.pattern+")?")}else if(E!==void 0)B="\\"+(E==="\\"?"":E),A.push(E),i.push("([^"+B+"]+)?"+B+"?");else{const D=n!==void 0?n:Z;B=D==="\\"?"\\\\\\\\":D.replace(Le,"\\\\$&"),A.push(D),i.push("([^"+B+"]+)?"+B+"?")}});const te=new RegExp("^"+i.join("")+"("+(B===""?".":"[^"+B+"]")+"+)?"+(B===""?"":"["+B+"]*")+"$"),ne=b.length-1,x=b.map((R,n)=>n===0&&e.reverseFillMask===!0?new RegExp("^"+m+"*"+R):n===ne?new RegExp("^"+R+"("+(C===""?".":C)+"+)?"+(e.reverseFillMask===!0?"$":m+"*")):new RegExp("^"+R));h=A,d=R=>{const n=te.exec(e.reverseFillMask===!0?R:R.slice(0,A.length+1));n!==null&&(R=n.slice(1).join(""));const E=[],Y=x.length;for(let Z=0,D=R;Z<Y;Z++){const ie=x[Z].exec(D);if(ie===null)break;D=D.slice(ie.shift().length),E.push(...ie)}return E.length!==0?E.join(""):R},o=A.map(R=>typeof R=="string"?R:N).join(""),a=o.split(N).join(s)}function v(l,s,m){const i=r.value,b=i.selectionEnd,A=i.value.length-b,F=P(l);s===!0&&p();const B=Q(F),C=e.fillMask!==!1?X(B):B,te=g.value!==C;i.value!==C&&(i.value=C),te===!0&&(g.value=C),document.activeElement===i&&ue(()=>{if(C===a){const x=e.reverseFillMask===!0?a.length:0;i.setSelectionRange(x,x,"forward");return}if(m==="insertFromPaste"&&e.reverseFillMask!==!0){const x=i.selectionEnd;let R=b-1;for(let n=k;n<=R&&n<x;n++)o[n]!==N&&R++;S.right(i,R);return}if(["deleteContentBackward","deleteContentForward"].indexOf(m)>-1){const x=e.reverseFillMask===!0?b===0?C.length>B.length?1:0:Math.max(0,C.length-(C===a?0:Math.min(B.length,A)+1))+1:b;i.setSelectionRange(x,x,"forward");return}if(e.reverseFillMask===!0)if(te===!0){const x=Math.max(0,C.length-(C===a?0:Math.min(B.length,A+1)));x===1&&b===1?i.setSelectionRange(x,x,"forward"):S.rightReverse(i,x)}else{const x=C.length-A;i.setSelectionRange(x,x,"backward")}else if(te===!0){const x=Math.max(0,o.indexOf(N),Math.min(B.length,b)-1);S.right(i,x)}else{const x=b-1;S.right(i,x)}});const ne=e.unmaskedValue===!0?P(C):C;String(e.modelValue)!==ne&&u(ne,!0)}function T(l,s,m){const i=Q(P(l.value));s=Math.max(0,o.indexOf(N),Math.min(i.length,s)),k=s,l.setSelectionRange(s,m,"forward")}const S={left(l,s){const m=o.slice(s-1).indexOf(N)===-1;let i=Math.max(0,s-1);for(;i>=0;i--)if(o[i]===N){s=i,m===!0&&s++;break}if(i<0&&o[s]!==void 0&&o[s]!==N)return S.right(l,0);s>=0&&l.setSelectionRange(s,s,"backward")},right(l,s){const m=l.value.length;let i=Math.min(m,s+1);for(;i<=m;i++)if(o[i]===N){s=i;break}else o[i-1]===N&&(s=i);if(i>m&&o[s-1]!==void 0&&o[s-1]!==N)return S.left(l,m);l.setSelectionRange(s,s,"forward")},leftReverse(l,s){const m=w(l.value.length);let i=Math.max(0,s-1);for(;i>=0;i--)if(m[i-1]===N){s=i;break}else if(m[i]===N&&(s=i,i===0))break;if(i<0&&m[s]!==void 0&&m[s]!==N)return S.rightReverse(l,0);s>=0&&l.setSelectionRange(s,s,"backward")},rightReverse(l,s){const m=l.value.length,i=w(m),b=i.slice(0,s+1).indexOf(N)===-1;let A=Math.min(m,s+1);for(;A<=m;A++)if(i[A-1]===N){s=A,s>0&&b===!0&&s--;break}if(A>m&&i[s-1]!==void 0&&i[s-1]!==N)return S.leftReverse(l,m);l.setSelectionRange(s,s,"forward")}};function V(l){t("click",l),c=void 0}function U(l){if(t("keydown",l),$e(l)===!0)return;const s=r.value,m=s.selectionStart,i=s.selectionEnd;if(l.shiftKey||(c=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&c===void 0&&(c=s.selectionDirection==="forward"?m:i);const b=S[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),b(s,c===m?i:m),l.shiftKey){const A=s.selectionStart;s.setSelectionRange(Math.min(c,A),Math.max(c,A),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&m===i?(S.left(s,m),s.setSelectionRange(s.selectionStart,i,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&m===i&&(S.rightReverse(s,i),s.setSelectionRange(m,s.selectionEnd,"forward"))}function Q(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return W(l);const s=h;let m=0,i="";for(let b=0;b<s.length;b++){const A=l[m],F=s[b];if(typeof F=="string")i+=F,A===F&&m++;else if(A!==void 0&&F.regex.test(A))i+=F.transform!==void 0?F.transform(A):A,m++;else return i}return i}function W(l){const s=h,m=o.indexOf(N);let i=l.length-1,b="";for(let A=s.length-1;A>=0&&i>-1;A--){const F=s[A];let B=l[i];if(typeof F=="string")b=F+b,B===F&&i--;else if(B!==void 0&&F.regex.test(B))do b=(F.transform!==void 0?F.transform(B):B)+b,i--,B=l[i];while(m===A&&B!==void 0&&F.regex.test(B));else return b}return b}function P(l){return typeof l!="string"||d===void 0?typeof l=="number"?d(""+l):l:d(l)}function X(l){return a.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?a.slice(0,-l.length)+l:l+a.slice(l.length)}return{innerValue:g,hasMask:y,moveCursorForPaste:T,updateMaskValue:v,onMaskedKeydown:U,onMaskedClick:V}}function Kt(e,t){function u(){const r=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(a=>{o.items.add(a)}),{files:o.files}}catch{return{files:void 0}}}return t===!0?q(()=>{if(e.type==="file")return u()}):q(u)}const Ue=Ie({name:"QInput",inheritAttrs:!1,props:{...et,...Wt,...tt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...nt,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:u}){const{proxy:r}=at(),{$q:o}=r,a={};let h=NaN,d,k,c=null,y;const g=ee(null),M=ot(e),{innerValue:f,hasMask:w,moveCursorForPaste:p,updateMaskValue:v,onMaskedKeydown:T,onMaskedClick:S}=Nt(e,t,B,g),V=Kt(e,!0),U=q(()=>Ee(f.value)),Q=ct(A),W=st(),P=q(()=>e.type==="textarea"||e.autogrow===!0),X=q(()=>P.value===!0||["text","search","url","tel","password"].includes(e.type)),l=q(()=>{const n={...W.splitAttrs.listeners.value,onInput:A,onPaste:b,onChange:te,onBlur:ne,onFocus:Fe};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=Q,w.value===!0&&(n.onKeydown=T,n.onClick=S),e.autogrow===!0&&(n.onAnimationend=F),n}),s=q(()=>{const n={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:M.value,...W.splitAttrs.attributes.value,id:W.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return P.value===!1&&(n.type=e.type),e.autogrow===!0&&(n.rows=1),n});G(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),G(()=>e.modelValue,n=>{if(w.value===!0){if(k===!0&&(k=!1,String(n)===h))return;v(n)}else f.value!==n&&(f.value=n,e.type==="number"&&a.hasOwnProperty("value")===!0&&(d===!0?d=!1:delete a.value));e.autogrow===!0&&ue(C)}),G(()=>e.autogrow,n=>{n===!0?ue(C):g.value!==null&&u.rows>0&&(g.value.style.height="auto")}),G(()=>e.dense,()=>{e.autogrow===!0&&ue(C)});function m(){dt(()=>{const n=document.activeElement;g.value!==null&&g.value!==n&&(n===null||n.id!==W.targetUid.value)&&g.value.focus({preventScroll:!0})})}function i(){g.value!==null&&g.value.select()}function b(n){if(w.value===!0&&e.reverseFillMask!==!0){const E=n.target;p(E,E.selectionStart,E.selectionEnd)}t("paste",n)}function A(n){if(!n||!n.target)return;if(e.type==="file"){t("update:modelValue",n.target.files);return}const E=n.target.value;if(n.target.qComposing===!0){a.value=E;return}if(w.value===!0)v(E,!1,n.inputType);else if(B(E),X.value===!0&&n.target===document.activeElement){const{selectionStart:Y,selectionEnd:Z}=n.target;Y!==void 0&&Z!==void 0&&ue(()=>{n.target===document.activeElement&&E.indexOf(n.target.value)===0&&n.target.setSelectionRange(Y,Z)})}e.autogrow===!0&&C()}function F(n){t("animationend",n),C()}function B(n,E){y=()=>{c=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==n&&h!==n&&(h=n,E===!0&&(k=!0),t("update:modelValue",n),ue(()=>{h===n&&(h=NaN)})),y=void 0},e.type==="number"&&(d=!0,a.value=n),e.debounce!==void 0?(c!==null&&clearTimeout(c),a.value=n,c=setTimeout(y,e.debounce)):y()}function C(){requestAnimationFrame(()=>{const n=g.value;if(n!==null){const E=n.parentNode.style,{scrollTop:Y}=n,{overflowY:Z,maxHeight:D}=o.platform.is.firefox===!0?{}:window.getComputedStyle(n),ie=Z!==void 0&&Z!=="scroll";ie===!0&&(n.style.overflowY="hidden"),E.marginBottom=n.scrollHeight-1+"px",n.style.height="1px",n.style.height=n.scrollHeight+"px",ie===!0&&(n.style.overflowY=parseInt(D,10)<n.scrollHeight?"auto":"hidden"),E.marginBottom="",n.scrollTop=Y}})}function te(n){Q(n),c!==null&&(clearTimeout(c),c=null),y!==void 0&&y(),t("change",n.target.value)}function ne(n){n!==void 0&&Fe(n),c!==null&&(clearTimeout(c),c=null),y!==void 0&&y(),d=!1,k=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=f.value!==void 0?f.value:"")})}function x(){return a.hasOwnProperty("value")===!0?a.value:f.value!==void 0?f.value:""}it(()=>{ne()}),rt(()=>{e.autogrow===!0&&C()}),Object.assign(W,{innerValue:f,fieldClass:q(()=>`q-${P.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:q(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:B,hasValue:U,floatingLabel:q(()=>U.value===!0&&(e.type!=="number"||isNaN(f.value)===!1)||Ee(e.displayValue)),getControl:()=>ce(P.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...l.value,...e.type!=="file"?{value:x()}:V.value}),getShadowControl:()=>ce("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(P.value===!0?"":" text-no-wrap")},[ce("span",{class:"invisible"},x()),ce("span",e.shadowText)])});const R=lt(W);return Object.assign(r,{focus:m,select:i,getNativeElement:()=>g.value}),ut(r,"nativeEl",()=>g.value),R}}),Pt={class:"token-select"},Rt=["src"],Ot=["src"],Zt=qe({__name:"SelectToken",props:{options:Object,searchToken:String,direction:{type:Boolean,default:!1},token:Object,swapToken:String,disable:{type:Boolean,default:!1}},emits:["handleSearchToken","setToken"],setup(e,{emit:t}){const u=e,r=ee(u.searchToken),o=ee(u.token??u.options[0]);G(()=>u.token,d=>{o.value=d});function a(){r.value=""}const h=q(()=>u.options.map(d=>({...d,inactive:We(String(d.value))===We(u.swapToken)})));return G(r,d=>{t("handleSearchToken",d)}),G(o,d=>{t("setToken",d,u.direction)}),(d,k)=>(se(),Te("div",Pt,[O(kt,{modelValue:L(o),"onUpdate:modelValue":k[3]||(k[3]=c=>ve(o)?o.value=c:null),"option-disable":"inactive","popup-content-class":"transition-duration",outlined:"",options:L(h),dense:"","options-dense":!1,disable:e.disable,onPopupHide:a},{prepend:K(()=>[O(Ne,null,{default:K(()=>[me("img",{src:L(o).image},null,8,Rt)]),_:1})]),"before-options":K(()=>[O(Ue,{modelValue:L(r),"onUpdate:modelValue":k[0]||(k[0]=c=>ve(r)?r.value=c:null),maxlength:8,outlined:"",class:"token-search",placeholder:"search"},{append:K(()=>[L(r)?(se(),pe(Ke,{key:0,name:L(be),class:"cursor-pointer token-search__close",onClick:a},null,8,["name"])):de("",!0)]),_:1},8,["modelValue"])]),option:K(c=>[O(Pe,ft(c.itemProps,{class:"token-select__token"}),{default:K(()=>[O(Ae,{avatar:"",class:"token-select__token--item"},{default:K(()=>[O(Ne,null,{default:K(()=>[me("img",{src:c.opt.image},null,8,Ot)]),_:2},1024)]),_:2},1024),O(Ae,null,{default:K(()=>[O(mt,null,{default:K(()=>[Be(gt(c.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":K(()=>[O(Ue,{modelValue:L(r),"onUpdate:modelValue":k[2]||(k[2]=c=>ve(r)?r.value=c:null),maxlength:8,outlined:"",class:"token-search"},{append:K(()=>[O(Ke,{name:L(be),class:"cursor-pointer token-search__close",onClick:k[1]||(k[1]=c=>r.value="")},null,8,["name"])]),_:1},8,["modelValue"]),O(Pe,null,{default:K(()=>[O(Ae,{class:"text-grey"},{default:K(()=>[Be(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","disable"])]))}}),ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAViSURBVHgB7Zy/byNVEMfnbbxBcElwARIoTnCOAiSQSIsozu7o8BbQcifSw/EP5PIPEN0fgC7UV9gpqeIraGjOSAhBQ8zF0SEhgXMkh+TN7jDz7PXZztr7662z+5KPlMR21k789cy8eW/mPQFzpHxYL9smVARCWRjiLaSfSA/7XNoV9AWCvlz8yUFooQOtPzesNswJASlSPKwXb5hQM4S4RSLU+CFIgBDQdgGaroP7T9etBqRIKsKUjuoVsojPVYgxgy4KaAgXv+usWU1QjFJhWBD6WLfpZgXmCLlji1zu/vG6tQeKUCLMZQkyiXQ1ROu4ZLUgIYmEkTFkUexSML0NGYJcbM/p4U6SYB1bmIGV1CG9GJIItp5zB+/GDdIGxGCts79Lf/kAMioKw6nAgiHqpeP9bYhBJIth11kypZVUIE/Q6HXawzvdDasb/ikheYOSs0JflE3IITxyOTZaYeNOKGFYFNMUB1Oy1NzAccfuYTWMOIHCsPssm+Jx3kXxYMs5s7Ea5FaBwXdpUTzQRRSGLGFzECdnMlMYGdH7ab1uVFZ5ZJ3BVFda7dRvCxAPQGcQq9PmWb7C6BJsQ9A9tXHDL974utLCoti+AqIwckrj94sLFjNI9Q/gKuHjUoXJa4SQo1As7i6/C1+vvANZ4/v/nsLW3z9Ov6C/MtAcfWjMlTjgxnWhrIrC/HJ+EnRJRXrKCMb4HRFrwpVlUXb//RW+efZb8IVi/L0PhWHF4liLFqL0GbOaoTBIa7QQEY1EkYgRDeSoRGWN4rkp/onwGtqJMmCY10iLoVpPpLRfU1EYWe7hG31XorpP2GdqLIrEGGghhTEw/IrcZzfWIGs8Qxt2Tn5OLAozqIWBoNxlkyaLj+GaIaZhlg3DvRJzokj03F7VoBpMLtdw04SbDgyKNh/ANWNwJ0aBVugi1Ya+WHob3jNXIEucuDZ8e/o7dJznoAKuSRV4GhCluLS1dBNKC69A1vj45Tfh079+UCIOVRPKkSuRqv64avjDevj6R8o+NENEnDiyKLqLQ65UZIsJXbb0uALiFCnpjS4Mo7M4XLGM1e3gobM4HGPakAAdxaEY0zbQxT8gIVkX596r70d6DilzUmB/AgV44nz40muQNWJ8YK0CzZXaqlo3+R94+PwJ5B1uuDYce7yecg0FXmNgLKVOg9d7M9tPN0/Yg45XaxtyuKYAvA/XeDT5W79Ea8g7kcsnk/B68NbyTVgRJmSJwBLtKA4+4h/SYkwbuBc2Vgbs4S2SZ00UJkSJdsiZI7XoC9OmOkoSd9KlcsAd5V6vzHBKQPnMHsRAp3IK72QZ3h79BY1O3BdTgZDoJIo3Gnn3xyeRiDsQEu0Kb874e7/YURXCanQTZdJamIvLDgFWo2OJlmLLncnHLgjDvWgIL4LQJLqVaHkk8mtp9Z0/DtpCDkHzaQK7kDNlb4HvCh7nNeRSFuiOM30X3NSlTWleiPdBVyiWztpcGrgUEzW3yQUCGp3V2kyPCFwML9jSpRLvSs0KHFd4t1vQdYHCcLw5J3EQ1CyBXiZesA2zBTBU+YQDlGNjFXJsOXLrX8jdbUzouhK/YIHFEZDqmQop0eRdbVH2YcdaBy8d1e9NdlJnFhpZaYT9CiISu0Cw9qRecw2xG7UpYI7IXCzugRixS7RH61aD486s6cNlwWk+NzInOSVESUmJOz/ppeoZsB5OSndUHJui9JiUwT7KL2H+m9aVCeKhVBgPuZNFAIv0CaR4sA4txzYwDwfr+NEP0txtLW4pcDUphov46IwqG1HOaohK6sKMInfnLsCm7C3mNtp+x2gRfayK21O44YC7MThjpRJPsz3Hw7v+BxXqnuT84umeAAAAAElFTkSuQmCC",De="data:image/png;base64,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",Vt="/assets/usdt-c76e1706.png",ae=(e="publicKey")=>Ce(32,e),Se=oe([_("version"),_("isInitialized"),_("bumpSeed"),ae("tokenProgramId"),ae("tokenAccountA"),ae("tokenAccountB"),ae("tokenPool"),ae("mintA"),ae("mintB"),ae("feeAccount"),I("tradeFeeNumerator"),I("tradeFeeDenominator"),I("ownerTradeFeeNumerator"),I("ownerTradeFeeDenominator"),I("ownerWithdrawFeeNumerator"),I("ownerWithdrawFeeDenominator"),I("hostFeeNumerator"),I("hostFeeDenominator"),_("curveType"),Ce(32,"curveParameters")]);async function Lt(e,t,u){const r=await e.getAccountInfo(t);if(r===null)throw new Error("Failed to find account");if(!r.owner.equals(u))throw new Error(`Invalid owner: ${JSON.stringify(r.owner)}`);return J.Buffer.from(r.data)}const Ut=new H("SwapsVeCiPHMUAtzQWZw7RjsKjgCjhwU55QGu4U1Szw");new H("SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8");class j{constructor(t,u,r,o,a,h,d,k,c,y,g,M,f,w,p,v,T,S,V,U){this.connection=t,this.tokenSwap=u,this.swapProgramId=r,this.tokenProgramId=o,this.poolToken=a,this.feeAccount=h,this.authority=d,this.tokenAccountA=k,this.tokenAccountB=c,this.mintA=y,this.mintB=g,this.tradeFeeNumerator=M,this.tradeFeeDenominator=f,this.ownerTradeFeeNumerator=w,this.ownerTradeFeeDenominator=p,this.ownerWithdrawFeeNumerator=v,this.ownerWithdrawFeeDenominator=T,this.hostFeeNumerator=S,this.hostFeeDenominator=V,this.curveType=U,this.connection=t,this.tokenSwap=u,this.swapProgramId=r,this.tokenProgramId=o,this.poolToken=a,this.feeAccount=h,this.authority=d,this.tokenAccountA=k,this.tokenAccountB=c,this.mintA=y,this.mintB=g,this.tradeFeeNumerator=M,this.tradeFeeDenominator=f,this.ownerTradeFeeNumerator=w,this.ownerTradeFeeDenominator=p,this.ownerWithdrawFeeNumerator=v,this.ownerWithdrawFeeDenominator=T,this.hostFeeNumerator=S,this.hostFeeDenominator=V,this.curveType=U}static async getMinBalanceRentForExemptTokenSwap(t){return await t.getMinimumBalanceForRentExemption(Se.span)}static async createTokenSwap(t,u,r,o,a,h,d,k,c,y,g,M,f,w,p,v,T,S,V,U,Q){const W=await j.getMinBalanceRentForExemptTokenSwap(t),P=new re;P.add(ht.createAccount({fromPubkey:r,newAccountPubkey:u.publicKey,lamports:W,space:Se.span,programId:y}));const X=j.createInitSwapInstruction(u.publicKey,o,a,h,d,k,c,g,y,M,f,w,p,v,T,S,V,U,Q);return P.add(X),P}static createInitSwapInstruction(t,u,r,o,a,h,d,k,c,y,g,M,f,w,p,v,T,S,V=new z(0)){const U=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!1}],Q=oe([_("instruction"),I("tradeFeeNumerator"),I("tradeFeeDenominator"),I("ownerTradeFeeNumerator"),I("ownerTradeFeeDenominator"),I("ownerWithdrawFeeNumerator"),I("ownerWithdrawFeeDenominator"),I("hostFeeNumerator"),I("hostFeeDenominator"),_("curveType"),Ce(32,"curveParameters")]);let W=J.Buffer.alloc(1024);const P=J.Buffer.alloc(32);J.Buffer(V).copy(P);{const X=Q.encode({instruction:0,tradeFeeNumerator:y,tradeFeeDenominator:g,ownerTradeFeeNumerator:M,ownerTradeFeeDenominator:f,ownerWithdrawFeeNumerator:w,ownerWithdrawFeeDenominator:p,hostFeeNumerator:v,hostFeeDenominator:T,curveType:S,curveParameters:P},W);W=W.slice(0,X)}return new le({keys:U,programId:c,data:W})}static async loadTokenSwap(t,u,r=Ut){const o=await Lt(t,u,r),a=Se.decode(o);if(!a.isInitialized)throw new Error("Invalid token swap state");const[h]=await H.findProgramAddress([u.toBuffer()],r),d=new H(a.tokenPool),k=new H(a.feeAccount),c=new H(a.tokenAccountA),y=new H(a.tokenAccountB),g=new H(a.mintA),M=new H(a.mintB),f=new H(a.tokenProgramId),w=new z(a.tradeFeeNumerator),p=new z(a.tradeFeeDenominator),v=new z(a.ownerTradeFeeNumerator),T=new z(a.ownerTradeFeeDenominator),S=new z(a.ownerWithdrawFeeNumerator),V=new z(a.ownerWithdrawFeeDenominator),U=new z(a.hostFeeNumerator),Q=new z(a.hostFeeDenominator),W=a.curveType;return new j(t,u,r,f,d,k,h,c,y,g,M,w,p,v,T,S,V,U,Q,W)}swap(t,u,r,o,a,h,d,k){return new re().add(j.swapInstruction(this.tokenSwap,this.authority,h,t,u,r,o,this.poolToken,this.feeAccount,a,this.swapProgramId,this.tokenProgramId,d,k))}static swapInstruction(t,u,r,o,a,h,d,k,c,y,g,M,f,w){const p=oe([_("instruction"),I("amountIn"),I("minimumAmountOut")]),v=J.Buffer.alloc(p.span);p.encode({instruction:1,amountIn:String(f),minimumAmountOut:String(w)},v);const T=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1}];return y!==null&&T.push({pubkey:y,isSigner:!1,isWritable:!0}),new le({keys:T,programId:g,data:v})}depositAllTokenTypes(t,u,r,o,a,h,d){return new re().add(j.depositAllTokenTypesInstruction(this.tokenSwap,this.authority,o.publicKey,t,u,this.tokenAccountA,this.tokenAccountB,this.poolToken,r,this.swapProgramId,this.tokenProgramId,a,h,d))}static depositAllTokenTypesInstruction(t,u,r,o,a,h,d,k,c,y,g,M,f,w){const p=oe([_("instruction"),I("poolTokenAmount"),I("maximumTokenA"),I("maximumTokenB")]),v=J.Buffer.alloc(p.span);p.encode({instruction:2,poolTokenAmount:String(M),maximumTokenA:String(f),maximumTokenB:String(w)},v);const T=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1}];return new le({keys:T,programId:y,data:v})}withdrawAllTokenTypes(t,u,r,o,a,h,d){return new re().add(j.withdrawAllTokenTypesInstruction(this.tokenSwap,this.authority,o.publicKey,this.poolToken,this.feeAccount,r,this.tokenAccountA,this.tokenAccountB,t,u,this.swapProgramId,this.tokenProgramId,a,h,d))}static withdrawAllTokenTypesInstruction(t,u,r,o,a,h,d,k,c,y,g,M,f,w,p){const v=oe([_("instruction"),I("poolTokenAmount"),I("minimumTokenA"),I("minimumTokenB")]),T=J.Buffer.alloc(v.span);v.encode({instruction:3,poolTokenAmount:new z(f),minimumTokenA:new z(w),minimumTokenB:new z(p)},T);const S=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1}];return new le({keys:S,programId:g,data:T})}depositSingleTokenTypeExactAmountIn(t,u,r,o,a){return new re().add(j.depositSingleTokenTypeExactAmountInInstruction(this.tokenSwap,this.authority,r,t,this.tokenAccountA,this.tokenAccountB,this.poolToken,u,this.swapProgramId,this.tokenProgramId,o,a))}static depositSingleTokenTypeExactAmountInInstruction(t,u,r,o,a,h,d,k,c,y,g,M){const f=oe([_("instruction"),I("sourceTokenAmount"),I("minimumPoolTokenAmount")]),w=J.Buffer.alloc(f.span);f.encode({instruction:4,sourceTokenAmount:new z(g),minimumPoolTokenAmount:new z(M)},w);const p=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1}];return new le({keys:p,programId:c,data:w})}withdrawSingleTokenTypeExactAmountOut(t,u,r,o,a){return new re().add(j.withdrawSingleTokenTypeExactAmountOutInstruction(this.tokenSwap,this.authority,r.publicKey,this.poolToken,this.feeAccount,u,this.tokenAccountA,this.tokenAccountB,t,this.swapProgramId,this.tokenProgramId,o,a))}static withdrawSingleTokenTypeExactAmountOutInstruction(t,u,r,o,a,h,d,k,c,y,g,M,f){const w=oe([_("instruction"),I("destinationTokenAmount"),I("maximumPoolTokenAmount")]),p=J.Buffer.alloc(w.span);w.encode({instruction:5,destinationTokenAmount:new z(M),maximumPoolTokenAmount:new z(f)},p);const v=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1}];return new le({keys:v,programId:y,data:p})}}const zt=new H("EjCM3aozA6sFUzQQ7vXg2uTtjRydyuHSWRwvQX16pAS9");var fe=(e=>(e.TOKEN_A="TOKEN_A",e.TOKEN_B="TOKEN_B",e))(fe||{});const Ht=Qe("swap",()=>{const e=ee(),t=pt({loading:!1,slippageDialog:!1,status:void 0,poolBalance:{TOKEN_A:void 0,TOKEN_B:void 0,JPLU:void 0},userBalance:{TOKEN_A:void 0,TOKEN_B:void 0,JPLU:void 0},poolTokenSupply:0,rate:0}),u=vt(),r=yt();G(r,async f=>{f?o().then():M()},{immediate:!0}),G(e,async f=>{f&&await h()});async function o(){t.loading=!0;try{e.value=await j.loadTokenSwap(u.connection,zt),await a()}catch(f){console.log(f),e.value=void 0}finally{t.loading=!1}console.log("Token SWAP: ",e.value)}async function a(){if(!e.value)return;const f=await Re(u.connection,e.value.authority);for(const p of f){const v=k(p.mint);v&&(t.poolBalance[v]=p.amount)}const w=await wt(u.connection,e.value.poolToken);t.poolTokenSupply=Number(w.supply),t.rate=d()}async function h(){if(!e.value)return;const f=r.value?.publicKey;if(!f){console.log("Wallet is not connected...");return}const w=await Re(u.connection,f,[e.value.poolToken,e.value.mintA,e.value.mintB]),p={TOKEN_A:0,TOKEN_B:0};for(const v of w){const T=k(v.mint);T&&(p[T]=v.amount)}t.userBalance=p,console.log("[Pool Balance]",t.poolBalance),console.log("[User Balance]",t.userBalance)}function d(){return At(c(St))}function k(f){if(e.value)switch(String(f)){case String(e.value.mintA):return"TOKEN_A";case String(e.value.mintB):return"TOKEN_B"}}function c(f){const w=new $(t.poolBalance.TOKEN_A),p=new $(f).div(w),v=new $(1),S=v.add(p).sqrt().sub(v);return new $(t.poolTokenSupply).mul(S).toNumber()}function y(f,w){const p=new $(t.poolBalance[w]??0),v=new $(f).div(p),T=new $(1),S=T.sub(v);if(S.isNeg())return 0;const V=T.sub(S.sqrt());return new $(t.poolTokenSupply).mul(V).toNumber()}async function g(f,w){const p=e.value?.mintA,v=e.value?.mintB;if(!p||!v)return;const T=p.toBase58()===f,S=await Oe(u.connection,p.toBase58()),V=await Oe(u.connection,v.toBase58()),U=10**(T?V:S),Q=10**(T?S:V),W=w*Q;return(T?t.userBalance.TOKEN_B/t.userBalance.TOKEN_A*W:t.userBalance.TOKEN_A/t.userBalance.TOKEN_B*W)/U}function M(){t.loading=!1,t.slippageDialog=!1,t.status=void 0,t.poolBalance={TOKEN_A:void 0,TOKEN_B:void 0,JPLU:void 0},t.userBalance={TOKEN_A:void 0,TOKEN_B:void 0,JPLU:void 0},t.poolTokenSupply=0,t.rate=0}return{state:t,tokenSwap:e,loadUserTokenAccounts:h,depositSingleTokenType:c,withdrawSingleTokenTypeExactOut:y,calculateDependentAmount:g}}),Dt=Qe("token",()=>({tokens:[{symbol:"sol",name:"sol",img:ze},{symbol:"usd-coin",name:"usdc",img:De},{symbol:"ether",name:"usdt",img:Vt},{symbol:fe.TOKEN_A,name:fe.TOKEN_A,img:ze},{symbol:fe.TOKEN_B,name:fe.TOKEN_B,img:De}]}));function _t(){const{tokens:e}=Dt(),t=ee("");function u(o){t.value=o}return{options:q(()=>e.map(o=>({label:o.name,value:o.symbol,symbol:o.symbol,image:o.img})).filter(o=>o.label.toLowerCase().includes(t.value.toLocaleLowerCase()))),handleSearchToken:u}}export{fe as P,Ue as Q,Gt as _,Zt as a,Ht as b,De as c,Qt as o,ze as s,_t as u};
