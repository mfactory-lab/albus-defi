import{V as w,w as P,v as d,G as x,y as S,aY as B,o as t,Y as C,Z as h,j as n,a9 as N,a3 as e,i as o,a2 as a,a4 as k,aU as j,a5 as q,ay as Q,aI as R,$ as U,aZ as z,a_ as I,a$ as Y,b0 as Z,b1 as E}from"./index-248adac9.js";const G={key:0,class:"certificate-card__info__title q-mt-sm text-center"},O={key:1,class:"row nowrap full-height"},W={class:"certificate-card__info row"},A={class:"certificate-card__info__status column row justify-between"},F=a("div",{class:"certificate-card__info__title"}," Required certificate ",-1),H={key:0,class:"row"},J={class:"certificate-card__policy-name full-height"},K={key:0,class:"certificate-card__end"},M={key:0,class:"certificate-card__action"},T=["href"],X=w({__name:"PolicyCardView",props:{requiredPolicy:String,requiredPolicyData:Object},setup(c){const f=c,r=P(),u=d(()=>r.serviceData),l=d(()=>r.serviceLoading),_=d(()=>r.state?.certificateLoading),i=x(!1),{connected:y}=S(),{certificate:m,certificateLink:p,certificateValid:v}=B(f.requiredPolicy);function D(){return y.value?v.value?"certificate-card__info__status-line--positive":m.value?.data?.status===z.Proved?"certificate-card__info__status-line--warning":"certificate-card__info__status-line--negative":"certificate-card__info__status-line--gray"}return(ee,s)=>{const V=I,b=Y,$=Z,L=E;return t(),C(U,{flat:"",class:"certificate-card"},{default:h(()=>[n(N,{showing:e(l)||e(y)&&e(_),"label-class":"text-teal","label-style":"font-size: 1.1em"},null,8,["showing"]),!e(l)&&!c.requiredPolicy?(t(),o("div",G," No certificate required ")):(t(),o("div",O,[a("div",W,[a("div",{class:"policy-info q-mr-sm",onClick:s[0]||(s[0]=g=>i.value=!0)}," i "),a("div",A,[F,e(y)&&!e(l)&&!e(_)?(t(),o("div",H,[n(V,{certificate:e(m),"certificate-valid":!!e(v)},null,8,["certificate","certificate-valid"])])):k("",!0)]),a("div",J,[a("span",{class:j(["certificate-card__info__status-line",D()])},null,2),a("span",null,q(e(u)?.name)+q(e(u)?.name&&c.requiredPolicyData?.name&&",")+" "+q(c.requiredPolicyData?.name),1)])]),e(y)&&!e(l)&&!e(_)?(t(),o("div",K,[e(v)?(t(),o("a",{key:1,href:e(p),class:"certificate-card__certificate certificate",target:"_blank"},[n($)],8,T)):(t(),o("div",M,[n(b,{certificate:e(m),"certificate-link":e(p)},null,8,["certificate","certificate-link"])]))])):k("",!0)])),n(Q,{modelValue:e(i),"onUpdate:modelValue":s[2]||(s[2]=g=>R(i)?i.value=g:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:h(()=>[n(L,{"required-policy-data":c.requiredPolicyData,certificate:e(m),"certificate-valid":!!e(v),"certificate-loading":e(_),"certificate-link":e(p),onCloseDialog:s[1]||(s[1]=g=>i.value=!1)},null,8,["required-policy-data","certificate","certificate-valid","certificate-loading","certificate-link"])]),_:1},8,["modelValue"])]),_:1})}}}),ie=w({__name:"PolicyCard",setup(c){const f=P(),r=d(()=>f.requiredPolicy),u=d(()=>f.requiredPolicyData);return(l,_)=>{const i=X;return t(),C(i,{key:e(r),"required-policy":e(r),"required-policy-data":e(u)},null,8,["required-policy","required-policy-data"])}}});export{ie as _};
