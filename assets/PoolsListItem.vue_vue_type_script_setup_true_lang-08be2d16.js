import{m as $,au as A,t as m,Z as M,av as C,V as P,C as s,o as _,x as V,y as v,k as a,A as Q,B as t,j as p,F as r,G as e,z as D,a2 as L,a9 as E,Q as T,a6 as f,aw as y,a8 as w,ax as F,J as g,ay as I}from"./index-773fd831.js";const H={class:"row"},O={class:"pool-card__icons row justify-center q-mr-md q-ml-sm"},R=["src","alt"],U=["src","alt"],W={class:"pool-card__subtitle row justify-center items-center"},G={class:"policy-info q-ml-auto"},z={class:"pool-info__fees row items-center"},J=t("div",{class:"pool-card__label"}," Swap fee ",-1),Y={key:0,class:"pool-card__amount"},Z=t("div",{class:"pool-info__delimiter"},null,-1),K=t("div",{class:"pool-card__label"}," Withdraw fee ",-1),X={key:0,class:"pool-card__amount"},tt={class:"pool-info__addresses"},ot={class:"column justify-center items-between q-mt-md"},st=t("div",{class:"pool-card__label"}," Pool address ",-1),et={class:"row justify-between items-center"},at={class:"pool-card__pubkey monoscaped"},lt={class:"column justify-center items-between"},nt=t("div",{class:"pool-card__label"}," Token A mint ",-1),it={class:"row justify-between items-center"},ct={class:"pool-card__pubkey monoscaped"},dt={class:"column justify-center items-between"},_t=t("div",{class:"pool-card__label"}," Token B mint ",-1),rt={class:"row justify-between items-center"},ut={class:"pool-card__pubkey monoscaped"},mt={class:"column justify-center items-between"},vt=t("div",{class:"pool-card__label"}," LP token mint ",-1),pt={class:"row justify-between items-center"},ht={class:"pool-card__pubkey monoscaped"},kt={class:"pool-card__income q-mt-md"},bt=t("div",{class:"pool-card__apr-label"}," APR 24H ",-1),ft={class:"pool-card__apr-amount"},yt={class:"pool-card__income__user row q-ml-auto"},wt=t("div",{class:"pool-card__label"}," My Liquidity ",-1),St={class:"pool-card__amount"},Bt={class:"q-ml-md"},xt=t("div",{class:"pool-card__label"}," My Share ",-1),qt={class:"pool-card__amount"},Tt={class:"pool-card__stats q-mt-sm q-mb-auto q-pt-xs"},gt={class:"pool-card__stats__item q-mt-xs text-center"},jt=t("div",{class:"pool-card__label"}," Volume 24H ",-1),Nt={class:"pool-card__amount"},$t=t("div",{class:"pool-card__stats__delimiter"},null,-1),At={class:"pool-card__stats__item q-mt-xs text-center"},Mt=t("div",{class:"pool-card__label"}," Liquidity ",-1),Ct={class:"pool-card__amount"},Pt=t("div",{class:"pool-card__stats__delimiter"},null,-1),Vt={class:"pool-card__stats__item q-mt-xs text-center"},Qt=t("div",{class:"pool-card__label"}," Fees 24H ",-1),Dt={class:"pool-card__amount"},Lt={key:0,class:"row q-mt-md"},Et={class:"col"},It=$({__name:"PoolsListItem",props:{pubkey:Object,data:Object,poolStats:Object,userTokens:Number,useEmit:Boolean},emits:["selectPool"],setup(o){const l=o,j=A(),B=m(()=>j.tokens),i=m(()=>B.value.find(d=>d.mint===l.data?.tokenAMint.toBase58())),c=m(()=>B.value.find(d=>d.mint===l.data?.tokenBMint.toBase58())),h=M(),N=C();async function x(d=!1){i.value&&c.value&&l.pubkey&&l.data&&(h.state.from=i.value,h.state.to=c.value,await N.push(d?"liquidity":"/swap"),h.setTokenSwap({pubkey:l.pubkey,data:l.data}),console.log("[swap] swapAction: ",l.pubkey.toBase58()))}const u=m(()=>l.data&&h.getPoolFee(l.data)),q=m(()=>u.value&&u.value.ownerTrade+u.value.trade),S=P(!1);return(d,n)=>{const k=I;return o.pubkey&&o.data&&s(i)&&s(c)?(_(),V(T,{key:0,class:"pool-card",onClick:n[3]||(n[3]=b=>o.useEmit?d.$emit("selectPool"):void 0)},{default:v(()=>[a(Q,{class:"pool-card__body full-height"},{default:v(()=>[t("div",H,[t("div",O,[s(i)?.image?(_(),p("img",{key:0,src:s(i)?.image,alt:s(i)?.symbol},null,8,R)):r("",!0),s(c)?.image?(_(),p("img",{key:1,src:s(c)?.image,alt:s(c)?.symbol},null,8,U)):r("",!0)]),t("div",W,[t("span",null,e(s(i)?.symbol)+"/"+e(s(c)?.symbol),1)]),t("span",G,[D(" i "),a(L,{modelValue:s(S),"onUpdate:modelValue":n[0]||(n[0]=b=>E(S)?S.value=b:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:v(()=>[a(T,{class:"pool-info q-pa-md"},{default:v(()=>[t("div",z,[t("div",null,[J,s(q)?(_(),p("div",Y,e(s(f).format(s(q))),1)):r("",!0)]),Z,t("div",null,[K,s(u)?(_(),p("div",X,e(s(f).format(s(u).ownerWithdraw)),1)):r("",!0)])]),t("div",tt,[t("div",ot,[st,t("div",et,[t("span",at,e(s(y)(o.pubkey.toBase58(),14)),1),a(k,{text:o.pubkey.toBase58()},null,8,["text"])])]),t("div",lt,[nt,t("div",it,[t("span",ct,e(s(y)(o.data.tokenAMint.toBase58(),14)),1),a(k,{text:o.data.tokenAMint.toBase58()},null,8,["text"])])]),t("div",dt,[_t,t("div",rt,[t("span",ut,e(s(y)(o.data.tokenBMint.toBase58(),14)),1),a(k,{text:o.data.tokenBMint.toBase58()},null,8,["text"])])]),t("div",mt,[vt,t("div",pt,[t("span",ht,e(s(y)(o.data.poolMint.toBase58(),14)),1),a(k,{text:o.data.poolMint.toBase58()},null,8,["text"])])])])]),_:1})]),_:1},8,["modelValue"])])]),t("div",kt,[t("div",null,[bt,t("div",ft,e(o.poolStats&&!Number.isNaN(o.poolStats.apr24)?`${s(f).format(o.poolStats.apr24)}`:"---"),1)]),t("div",yt,[t("div",null,[wt,t("div",St,e(o.poolStats&&!Number.isNaN(o.poolStats.poolTokenSupply)&&o.userTokens?`$${s(w).format(o.userTokens/o.poolStats.poolTokenSupply*o.poolStats.tvl)}`:"---"),1)]),t("div",Bt,[xt,t("div",qt,e(o.poolStats&&!Number.isNaN(o.poolStats.poolTokenSupply)&&o.userTokens?`${s(f).format(o.userTokens/o.poolStats.poolTokenSupply)}`:"---"),1)])])]),t("div",Tt,[t("div",gt,[jt,t("div",Nt,e(o.poolStats?`$${s(w).format(o.poolStats.volume24)}`:"---"),1)]),$t,t("div",At,[Mt,t("div",Ct,e(o.poolStats?`$${s(w).format(o.poolStats.tvl)}`:"---"),1)]),Pt,t("div",Vt,[Qt,t("div",Dt,e(o.poolStats?`$${s(w).format(o.poolStats.fees24)}`:"---"),1)])]),o.useEmit?r("",!0):(_(),p("div",Lt,[t("div",Et,[a(F,{spread:"",unelevated:"",square:"",class:"pool-card__actions"},{default:v(()=>[a(g,{label:"ADD LIQUIDITY",color:"primary","text-color":"white",target:"_blank",class:"q-mr-md",onClick:n[1]||(n[1]=b=>x(!0))}),a(g,{label:"SWAP",color:"warning","text-color":"black",target:"_blank",onClick:n[2]||(n[2]=b=>x(!1))})]),_:1})])]))]),_:1})]),_:1})):r("",!0)}}});export{It as _};
