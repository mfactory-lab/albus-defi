import{_ as j,a as K}from"./AppDescription-5f53b18b.js";import{_ as U}from"./SelectPool.vue_vue_type_script_setup_true_lang-99e1ebd8.js";import{o as z,_ as W}from"./SelectToken.vue_vue_type_script_setup_true_lang-353b0c92.js";import{m as G,Z as J,t as i,as as X,q as Z,S as x,n as Y,$ as N,V as oo,a0 as eo,o as _,x as no,y as l,Q as so,k as s,z as p,A as E,B as n,C as o,j as k,G as t,F as ao,H as u,I as V,J as f,a1 as to,a4 as lo,a5 as io,K as co,W as ro,R as _o,M as mo,L as po,_ as uo,O as fo}from"./index-773fd831.js";import{s as ko}from"./swap-circle-a93e350f.js";import{_ as wo}from"./AppDescriptionTop-eb385519.js";import"./PoolsListItem.vue_vue_type_script_setup_true_lang-08be2d16.js";const ho={class:"swap-form"},go={class:"swap-field"},vo={class:"swap-field__info"},So={class:"row items-end"},yo=n("div",{class:"col swap-field__label"},null,-1),To={class:"col-8 col-xs-10 row justify-end swap-field__balance"},bo={key:0,class:"insufficient-error"},Bo={class:"swap-change"},Ao=["innerHTML"],qo={class:"swap-field"},Co={class:"swap-field__info q-mt-sm"},xo={class:"row"},No={class:"col swap-field__balance"},Eo={class:"swap-submit q-mt-lg"},Vo={key:0,class:"text-weight-medium fs-13 text-center q-mt-md text-negative"},Fo={key:1,class:"row q-mt-md text-center relative-position full-width"},Io={class:"absolute-right swap-rate__refresh"},Lo={class:"swap-info q-mt-lg"},Mo=G({__name:"DepositSingleCard",setup(F){const w=J(),{state:e,loadingPoolTokens:h,changeDirection:g,loadPoolTokenAccounts:v}=w,m=i(()=>w.tokenSwap),I=X(),{state:a,depositSingleToken:L}=I,{handleSearchToken:T,handleFilterToken:M,tokens:b}=Z();M(x);const B=Y(),$=i(()=>e.poolBalance[e.from.mint]?N(e.poolBalance[e.from.mint],e.from.decimals):0),H=i(()=>e.poolBalance[e.to.mint]?N(e.poolBalance[e.to.mint],e.to.decimals):0),A=oo(0),P=i(()=>`transform: rotate(${A.value*180}deg)`),d=i(()=>B.tokenBalance(e.from.mint)),Q=i(()=>B.tokenBalance(e.to.mint));function R(){g(),A.value++}function q(r,c){e[c?"to":"from"]=r}function D(){e.from?.mint===x||e.from?.mint===ro?a.amountTokenA=d.value-_o-3*mo-po:a.amountTokenA=d.value}const S=i(()=>Number(a.amountTokenA)>d.value?"Insufficient funds":!1);return eo([()=>a.amountTokenA,m,d],r=>{a.active=!S.value}),(r,c)=>{const C=W,O=U;return _(),no(so,{class:"swap-card swap-widget"},{default:l(()=>[s(E,{class:"swap-card__header"},{default:l(()=>[p(" Deposit ")]),_:1}),s(E,{class:"swap-card__body"},{default:l(()=>[n("div",ho,[n("div",go,[n("div",vo,[n("div",So,[yo,n("div",To,[o(S)?(_(),k("div",bo,t(o(S)),1)):ao("",!0),p(" Balance: "+t(o(u)(o(d)))+" "+t(o(e).from.symbol),1)])])]),s(V,{modelValue:o(a).amountTokenA,"onUpdate:modelValue":c[0]||(c[0]=y=>o(a).amountTokenA=y),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input",onKeypress:o(z)},{append:l(()=>[s(f,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:D},{default:l(()=>[p(" MAX ")]),_:1}),s(C,{options:o(b),token:o(e).from,"swap-token":String(o(e).to.symbol),onHandleSearchToken:o(T),onSetToken:q},null,8,["options","token","swap-token","onHandleSearchToken"])]),_:1},8,["modelValue","onKeypress"])]),n("div",Bo,[s(f,{ripple:!1,dense:"",unelevated:"",style:to(o(P)),onClick:R},{default:l(()=>[n("i",{innerHTML:o(ko)},null,8,Ao)]),_:1},8,["style"])]),n("div",qo,[n("div",Co,[n("div",xo,[n("div",No," Balance: "+t(o(u)(o(Q)))+" "+t(o(e).to.symbol),1)])]),s(V,{modelValue:void 0,"onUpdate:modelValue":c[1]||(c[1]=y=>undefined=y),readonly:"",outlined:"",class:"swap-input"},{append:l(()=>[s(C,{"swap-token":String(o(e).from.symbol),options:o(b),direction:!0,token:o(e).to,"destination-unavailable":!o(m),onHandleSearchToken:o(T),onSetToken:q},null,8,["swap-token","options","token","destination-unavailable","onHandleSearchToken"])]),_:1})])]),s(O,{class:"q-mt-md"}),n("div",Eo,[s(f,{loading:o(a).swapping,disable:!o(a).active||!o(m)||!o(a).amountTokenA,rounded:"",ripple:!1,onClick:o(L)},{default:l(()=>[p(" Add Liquidity ("+t(o(e).from.symbol)+") ",1)]),_:1},8,["loading","disable","onClick"])]),o(m)?(_(),k("div",Fo,[n("div",Io,[s(f,{loading:o(h),class:"swap-card__reload",unelevated:"",color:r.$q.dark.isActive?"white":"primary",round:"",onClick:o(v)},{default:l(()=>[s(lo,{name:o(io),color:r.$q.dark.isActive?"primary":"white"},null,8,["name","color"])]),_:1},8,["loading","color","onClick"])])])):(_(),k("div",Vo," Pool not found ")),n("div",Lo,[n("dl",null,[n("dt",null,"Pool "+t(o(e).from.symbol)+" balance",1),n("dd",null,t(o(u)(o($))),1)]),n("dl",null,[n("dt",null,"Pool "+t(o(e).to.symbol)+" balance",1),n("dd",null,t(o(u)(o(H))),1)])])]),_:1}),s(co,{showing:o(e)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1})}}}),$o={},Ho={class:"main-block row justify-center"};function Po(F,w){const e=wo,h=Mo,g=j,v=K;return _(),k(fo,null,[s(e,{class:"q-mt-lg"}),n("div",Ho,[s(h)]),s(g,{class:"q-mt-lg"}),s(v,{class:"q-mt-lg"})],64)}const zo=uo($o,[["render",Po]]);export{zo as default};
