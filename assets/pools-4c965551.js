import{e as Ee,M as Ae,f as Te,g as J,T as he,a as we,c as Oe,h as ve,i as Re,Q as w,_ as ye,d as Ne}from"./AppDescriptionTop-44a23ed9.js";import{P as H,aw as se,ax as P,ay as Z,a as G,q as re,n as I,m as B,S as Se,az as $,aA as K,aB as De,aC as Me,aD as ie,aE as m,aF as Be,aG as Ie,u as _e,aH as Ue,aI as Pe,F as Ce,aJ as ke,aK as He,aL as Ge,x as Fe,y as Ve,z as xe,w as Le,v as ce,A as je,aM as ee,Q as X,o as R,U as Y,V as O,W as le,j as p,X as W,Y as C,$ as l,Z as y,a3 as Ke,a1 as V,i as z,a4 as We,a8 as pe,aN as ze,_ as $e}from"./index-96034c65.js";import{u as de,t as Xe,k as Ye}from"./swap-dc8225ae.js";var k;(function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension"})(k||(k={}));function Qe(e,n,t){if(t.length){e.push({pubkey:n,isSigner:!1,isWritable:!1});for(const a of t)e.push({pubkey:a instanceof H?a:a.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:n,isSigner:!0,isWritable:!1});return e}function qe(e,n){return e instanceof H?[e,n]:[e.publicKey,[e]]}const ne=se([P("instruction"),P("decimals"),Z("mintAuthority"),P("freezeAuthorityOption"),Z("freezeAuthority")]);function Je(e,n,t,a,o=I){const s=[{pubkey:e,isSigner:!1,isWritable:!0}],c=G.Buffer.alloc(ne.span);return ne.encode({instruction:k.InitializeMint2,decimals:n,mintAuthority:t,freezeAuthorityOption:a?1:0,freezeAuthority:a||new H(0)},c),new re({keys:s,programId:o,data:c})}async function x(e,n,t,a,o,s=K.generate(),c,i=I){const r=await Ee(e),b=new B().add(Se.createAccount({fromPubkey:n.publicKey,newAccountPubkey:s.publicKey,space:Ae,lamports:r,programId:i}),Je(s.publicKey,o,t,a,i));return await $(e,b,[n,s],c),s.publicKey}async function L(e,n,t,a,o=!1,s,c,i=I,r=De){const b=Te(t,a,o,i,r);let g;try{g=await J(e,b,s,i)}catch(u){if(u instanceof he||u instanceof we){try{const f=new B().add(Oe(n.publicKey,b,a,t,i,r));await $(e,f,[n],c)}catch{}g=await J(e,b,s,i)}else throw u}if(!g.mint.equals(t))throw new ve;if(!g.owner.equals(a))throw new Re;return g}const ae=se([P("instruction"),Me("amount")]);function Ze(e,n,t,a,o=[],s=I){const c=Qe([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],t,o),i=G.Buffer.alloc(ae.span);return ae.encode({instruction:k.MintTo,amount:BigInt(a)},i),new re({keys:c,programId:s,data:i})}async function te(e,n,t,a,o,s,c=[],i,r=I){const[b,g]=qe(o,c),u=new B().add(Ze(t,a,b,s,c,r));return await $(e,u,[n,...g],i)}var A={},N={};Object.defineProperty(N,"__esModule",{value:!0});N.decode=N.encode=void 0;const oe=G;function en(e){return e.reduce((n,t)=>n+t.toString(16).padStart(2,"0"),"0x")}N.encode=en;function nn(e){e.indexOf("0x")===0&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let n=e.match(/.{2}/g);return n===null?oe.Buffer.from([]):oe.Buffer.from(n.map(t=>parseInt(t,16)))}N.decode=nn;var S={},T={},j;Object.defineProperty(T,"__esModule",{value:!0});T.isVersionedTransaction=T.chunks=T.isBrowser=void 0;T.isBrowser={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_81cc3b1e-4b12-400d-bd38-61e03b63cdf8",npm_package_dependencies_decimal_js:"^10.4.3",npm_package_devDependencies__types_node:"^20.2.5",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",npm_package_dependencies__albus_finance_transfer_sdk:"^0.2.3",npm_package_dependencies_pinia:"^2.1.3",USER:"runner",npm_package_devDependencies__esbuild_plugins_node_globals_polyfill:"^0.2.3",npm_config_user_agent:"pnpm/7.13.0 npm/? node/v16.20.2 linux x64",CI:"true",npm_package_dependencies__rollup_plugin_inject:"^5.0.3",npm_package_dependencies_vue:"^3.3.4",npm_package_devDependencies_buffer:"^6.0.3",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_81cc3b1e-4b12-400d-bd38-61e03b63cdf8",URL:"defi.albus.finance",PIPX_HOME:"/opt/pipx",npm_package_dependencies__albus_finance_swap_sdk:"^0.1.2",npm_package_devDependencies_vite:"^4.3.9",npm_node_execpath:"/opt/hostedtoolcache/node/16.20.2/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_packageManager:"pnpm@7.13.0",HOME:"/home/runner",npm_package_devDependencies__vueuse_head:"^1.1.26",npm_package_devDependencies_sass:"1.33.0",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"mfactory-lab",npm_config_auto_install_peers:"",GRADLE_HOME:"/usr/share/gradle-8.4",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/26.1.10909125",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",npm_package_dependencies__metaplex_foundation_mpl_token_metadata:"^2.12.0",GITHUB_REPOSITORY_OWNER_ID:"29000324",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_scripts_lint_fix:"eslint . --fix",npm_package_dependencies__metaplex_foundation_beet:"^0.7.1",npm_package_dependencies__metaplex_foundation_js:"^0.19.4",npm_package_dependencies__solana_web3_js:"^1.77.3",npm_package_devDependencies_bn_js:"^5.2.1",npm_package_devDependencies_util:"^0.12.5",SYSTEMD_EXEC_PID:"570",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_dependencies__albus_finance_sdk:"0.2.2",npm_package_devDependencies_rollup_plugin_node_polyfills:"^0.2.1",npm_package_devDependencies_typescript:"^5.0.4",npm_package_devDependencies_vite_plugin_pages:"^0.30.1",GOROOT_1_20_X64:"/opt/hostedtoolcache/go/1.20.11/x64",NVM_DIR:"/home/runner/.nvm",npm_package_devDependencies_vue_tsc:"^1.6.5",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.4/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20231115.7.0",npm_package_scripts_dev:"vite --port 3333",npm_package_scripts_build_staging:"vite build --mode staging",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_dependencies__solana_buffer_layout_utils:"^0.2.0",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",JOURNAL_STREAM:"8:17360",GITHUB_WORKFLOW:"Deploy",_:"/home/runner/setup-pnpm/node_modules/.bin/pnpm",npm_package_private:"true",npm_package_dependencies_node_stdlib_browser:"^1.2.0",npm_package_scripts_lint:"eslint .",npm_package_devDependencies__quasar_extras:"^1.16.8",npm_package_devDependencies__types_lodash_es:"^4.17.7",npm_config_registry:"https://registry.npmjs.org/",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"6973172043",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"44f90fd831c0a45dad0c1ab0d2fb56641965a7e4",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",npm_package_devDependencies__vitejs_plugin_vue:"^4.2.3",STATS_BLT:"true",GITHUB_WORKFLOW_REF:"mfactory-lab/albus-defi/.github/workflows/deploy.yaml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_package_dependencies_axios:"^1.4.0",npm_config_node_gyp:"/home/runner/setup-pnpm/node_modules/.pnpm/pnpm@7.13.0/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/albus-defi/albus-defi/node_modules/.bin:/home/runner/setup-pnpm/node_modules/.pnpm/pnpm@7.13.0/node_modules/pnpm/dist/node-gyp-bin:/opt/hostedtoolcache/node/16.20.2/x64/bin:/home/runner/setup-pnpm/node_modules/.bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_a6f873b6-8314-4e4e-ba96-292bfc01ff42",INVOCATION_ID:"c951b96985174992a588624e9056d7f4",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.13/x64",npm_package_name:"albus-defi",NODE:"/opt/hostedtoolcache/node/16.20.2/x64/bin/node",GITHUB_ACTION:"__run",GITHUB_RUN_NUMBER:"64",GITHUB_TRIGGERING_ACTOR:"MGrgr",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies__solana_buffer_layout:"^4.0.1",npm_package_devDependencies_quasar:"^2.14.0",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies__types_bn_js:"^5.1.1",npm_package_devDependencies_eslint:"^8.41.0",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 2",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"mfactory-lab/albus-defi",npm_lifecycle_script:"vite build --mode production",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"650103343",GITHUB_ACTIONS:"true",STATS_NM:"true",NODE_PATH:"/home/runner/setup-pnpm/node_modules/.pnpm/pnpm@7.13.0/node_modules/pnpm/bin/node_modules:/home/runner/setup-pnpm/node_modules/.pnpm/pnpm@7.13.0/node_modules/pnpm/node_modules:/home/runner/setup-pnpm/node_modules/.pnpm/pnpm@7.13.0/node_modules:/home/runner/setup-pnpm/node_modules/.pnpm/node_modules:/home/runner/setup-pnpm/node_modules:/home/runner/node_modules:/home/node_modules:/node_modules:/home/runner/setup-pnpm/node_modules/pnpm/bin/node_modules:/home/runner/setup-pnpm/node_modules/pnpm/node_modules:/home/runner/work/albus-defi/albus-defi/node_modules/.pnpm/node_modules",npm_package_version:"0.0.0",npm_package_dependencies__solana_spl_token:"^0.3.8",npm_package_dependencies__solana_wallet_adapter_wallets:"^0.19.23",npm_package_devDependencies_assert:"^2.0.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",npm_package_scripts_build:"vite build --mode production",npm_package_dependencies_lodash_es:"^4.17.21",npm_package_devDependencies_crypto_browserify:"^3.12.0",npm_package_devDependencies_unplugin_auto_import:"^0.16.4",npm_package_devDependencies_unplugin_icons:"^0.16.1",npm_config_strict_peer_dependencies:"",GITHUB_WORKSPACE:"/home/runner/work/albus-defi/albus-defi",ACCEPT_EULA:"Y",GITHUB_JOB:"deploy",RUNNER_PERFLOG:"/home/runner/perflog",npm_package_devDependencies__vueuse_core:"^10.1.2",GITHUB_SHA:"44f90fd831c0a45dad0c1ab0d2fb56641965a7e4",GITHUB_RUN_ATTEMPT:"1",npm_package_dependencies_vue_router:"^4.2.2",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"MGrgr",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_scripts_typecheck:"vue-tsc --noEmit",npm_config__mfactory_lab_registry:"https://npm.pkg.github.com",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_81cc3b1e-4b12-400d-bd38-61e03b63cdf8",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/albus-defi/albus-defi",GITHUB_ACTOR_ID:"44298593",RUNNER_WORKSPACE:"/home/runner/work/albus-defi",npm_execpath:"/home/runner/setup-pnpm/node_modules/.pnpm/pnpm@7.13.0/node_modules/pnpm/bin/pnpm.cjs",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",STATS_TIS:"mining",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_81cc3b1e-4b12-400d-bd38-61e03b63cdf8",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_package_dependencies_mitt:"^3.0.0",npm_package_dependencies_solana_wallets_vue:"^0.6.0",PNPM_SCRIPT_SRC_DIR:"/home/runner/work/albus-defi/albus-defi",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.2.9519653",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",npm_package_dependencies__coral_xyz_anchor:"^0.28.0",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",PNPM_HOME:"/home/runner/setup-pnpm/node_modules/.bin",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-0.5.154/provjobd.data",npm_package_devDependencies__quasar_vite_plugin:"^1.6.0",npm_package_devDependencies_vite_plugin_vue_layouts:"^0.8.0",npm_config_shamefully_hoist:"true",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.2.9519653",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_81cc3b1e-4b12-400d-bd38-61e03b63cdf8",npm_package_devDependencies__antfu_eslint_config:"^0.39.4",npm_package_devDependencies_unplugin_vue_components:"^0.25.0",INIT_CWD:"/home/runner/work/albus-defi/albus-defi",NODE_ENV:"production",VITE_APP_TITLE:"Albus",VITE_APP_DESCRIPTION:"",VITE_APP_KEYWORDS:"",VITE_GTAG_ID:"",VITE_SENTRY_DSN:""}.ANCHOR_BROWSER||typeof window<"u"&&!(!((j=window.process)===null||j===void 0)&&j.hasOwnProperty("type"));function an(e,n){return Array.apply(0,new Array(Math.ceil(e.length/n))).map((t,a)=>e.slice(a*n,(a+1)*n))}T.chunks=an;const tn=e=>"version"in e;T.isVersionedTransaction=tn;Object.defineProperty(S,"__esModule",{value:!0});S.encode=S.decode=void 0;const ue=T;function on(e){return(ue.isBrowser?new TextDecoder("utf-8"):new ie.TextDecoder("utf-8")).decode(e)}S.decode=on;function sn(e){return(ue.isBrowser?new TextEncoder:new ie.TextEncoder("utf-8")).encode(e)}S.encode=sn;var D={},rn=m&&m.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});D.decode=D.encode=void 0;const me=rn(Be);function _n(e){return me.default.encode(e)}D.encode=_n;function cn(e){return me.default.decode(e)}D.decode=cn;var M={},ln=m&&m.__createBinding||(Object.create?function(e,n,t,a){a===void 0&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){a===void 0&&(a=t),e[a]=n[t]}),pn=m&&m.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),dn=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&ln(n,e,t);return pn(n,e),n};Object.defineProperty(M,"__esModule",{value:!0});M.decode=M.encode=void 0;const un=G,fe=dn(Ie);function mn(e){return fe.fromByteArray(e)}M.encode=mn;function fn(e){return un.Buffer.from(fe.toByteArray(e))}M.decode=fn;var bn=m&&m.__createBinding||(Object.create?function(e,n,t,a){a===void 0&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){a===void 0&&(a=t),e[a]=n[t]}),gn=m&&m.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),F=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&bn(n,e,t);return gn(n,e),n};Object.defineProperty(A,"__esModule",{value:!0});A.base64=be=A.bs58=A.utf8=A.hex=void 0;A.hex=F(N);A.utf8=F(S);var be=A.bs58=F(D);A.base64=F(M);function En(){const e=_e(),{notify:n}=Ue(),t=Pe(e,"cluster"),a=Ce(!1);async function o(s,{onSuccess:c,onError:i,idx:r,commitment:b=ke,sendTimeout:g=He,confirmTimeout:u=Ge}={}){r=r??"";let f=n({progress:!0,type:"ongoing",message:r?`Sending transaction "${r}" ...`:"Sending transaction...",timeout:g});const d={label:"Close",color:"white"};a.value=!0;let E="";try{const _=await s;E=String(typeof _=="object"?await _.signature:await s)}catch(_){a.value=!1,f(),String(_?.message).startsWith("User rejected")||n({message:r?`Transaction "${r}" error`:"Transaction error",caption:_?.message,type:"negative",timeout:0,actions:[d]});return}const h={label:"Explore",color:"white",target:"_blank",href:`https://solscan.io/tx/${E}?cluster=${t.value}`,onClick:()=>!1};try{f(),f=n({progress:!0,type:"ongoing",message:r?`Confirming transaction "${r}" ...`:"Confirming transaction...",actions:[h],timeout:u});const _=await e.connection.getLatestBlockhash(),v=await e.connection.confirmTransaction({blockhash:_.blockhash,lastValidBlockHeight:_.lastValidBlockHeight,signature:E},b);if(f(),v.value.err)throw new Error(JSON.stringify(v.value.err));f=n({message:r?`Transaction "${r}" confirmed`:"Transaction confirmed",type:"positive",actions:[h]}),c&&c(E)}catch(_){f(),n({message:r?`Transaction "${r}" error`:"Transaction error",caption:_.message,type:"negative",timeout:0,actions:[h,d]}),i&&i(_),console.error(_)}finally{a.value=!1}}return{monitorTransaction:o,sending:a}}function An(){const e=de(),n=Fe(),{publicKey:t}=Ve(),a=_e(),{monitorTransaction:o}=En(),{notify:s}=xe(),c=Le(),i=ce(()=>c.requiredPolicy),r=je({tokenA:"7pzAmiDUmASVTCLpLA2Q8bfDZDiiNCwiPsAkLnAQVFhX",tokenB:"CvWaX7hRctkaTDwM1oviAW3zau6iWD4XHmhNzdtBsm4E",policy:"CjnpmL6Svfr3Vhpp1jVWCcNbJRxbyPY5ZQF8QiNXWXtT",hostFee:1,tradeFee:0,ownerTradeFee:0,ownerWithdrawFee:0,creating:!1});async function b(){if(!t.value||!r.tokenA||!r.tokenB)return;const u=K.generate();console.log("[create swap] token swap pk = ",u.publicKey.toBase58()),console.log("[create swap] token swap sk = ",u.secretKey.toString());const f=e.swapClient.swapAuthority(u.publicKey),d=K.fromSecretKey(be.decode("2KzxAXRpeEK6an3Hp9inJGARxDYcsCAMR1bVHYwB7xbcM1CbRsYFRfAfZTQ4hJ4819WRxdnT9exLKRCyRKrQs4Gu")),E=await x(a.connection,d,d.publicKey,null,9);console.log("[create swap] tokenA = ",E.toBase58());const U=await x(a.connection,d,d.publicKey,null,9),h=await x(a.connection,d,f,null,9);let _=new B;console.log("[create swap] poolMint = ",h.toBase58()),console.log("[create swap] tx = ",_),_.instructions.length>0&&await o(ee(a.connection,n.value,_.instructions),{onSuccess:()=>s({type:"positive",message:`Pool created successfully. ${u.publicKey.toBase58()}`})});const v=await L(a.connection,d,h,d.publicKey),Q=await L(a.connection,d,E,f,!0),q=await L(a.connection,d,U,f,!0);_=new B,console.log("[create swap] poolFeeAccount = ",v),console.log("[create swap] swapTokenA = ",Q),console.log("[create swap] swapTokenB = ",q),_.instructions.length>0&&await o(ee(a.connection,n.value,_.instructions),{commitment:"finalized",onSuccess:()=>s({type:"positive",message:`Pool created successfully. ${u.publicKey.toBase58()}`})}),await te(a.connection,d,E,Q.address,d,1e11),await te(a.connection,d,U,q.address,d,1e11);const ge=await e.swapClient.createTokenSwap({tokenSwap:u,poolMint:h,poolFee:v.address,destination:v.address,tokenA:E,tokenB:U,policy:new H(i.value),curveType:Xe.ConstantProduct,curveParameters:[],fees:{tradeFeeNumerator:r.tradeFee,tradeFeeDenominator:1e3,ownerTradeFeeNumerator:r.ownerTradeFee,ownerTradeFeeDenominator:1e3,ownerWithdrawFeeNumerator:r.ownerWithdrawFee,ownerWithdrawFeeDenominator:1e3,hostFeeNumerator:r.hostFee,hostFeeDenominator:1e3}});console.log("[create swap] tokenSwap result = ",ge)}function g(){r.hostFee=0,r.tradeFee=0,r.ownerTradeFee=0,r.ownerWithdrawFee=0,r.policy="",r.tokenA="",r.tokenB=""}return{state:r,reset:g,createTokenSwap:b}}const Tn={class:"q-mt-lg row"},hn=X({__name:"CreateSwapCard",setup(e){const{state:n,createTokenSwap:t}=An();return(a,o)=>(R(),Y(le,{class:"swap-card swap-widget"},{default:O(()=>[p(C,{class:"swap-card__header"},{default:O(()=>[W(" Create Swap ")]),_:1}),p(C,{class:"swap-card__body"},{default:O(()=>[p(w,{modelValue:l(n).tokenA,"onUpdate:modelValue":o[0]||(o[0]=s=>l(n).tokenA=s),label:"Token A"},null,8,["modelValue"]),p(w,{modelValue:l(n).tokenB,"onUpdate:modelValue":o[1]||(o[1]=s=>l(n).tokenB=s),label:"Token B"},null,8,["modelValue"]),p(w,{modelValue:l(n).policy,"onUpdate:modelValue":o[2]||(o[2]=s=>l(n).policy=s),label:"Policy"},null,8,["modelValue"]),p(w,{modelValue:l(n).hostFee,"onUpdate:modelValue":o[3]||(o[3]=s=>l(n).hostFee=s),label:"Host fee, ‰"},null,8,["modelValue"]),p(w,{modelValue:l(n).tradeFee,"onUpdate:modelValue":o[4]||(o[4]=s=>l(n).tradeFee=s),label:"Trade fee, ‰"},null,8,["modelValue"]),p(w,{modelValue:l(n).ownerTradeFee,"onUpdate:modelValue":o[5]||(o[5]=s=>l(n).ownerTradeFee=s),label:"Owner trade fee, ‰"},null,8,["modelValue"]),p(w,{modelValue:l(n).ownerWithdrawFee,"onUpdate:modelValue":o[6]||(o[6]=s=>l(n).ownerWithdrawFee=s),label:"Owner withdraw fee, ‰"},null,8,["modelValue"]),y("div",Tn,[p(Ke,{class:"q-ml-auto",onClick:l(t)},{default:O(()=>[W(" Create Swap ")]),_:1},8,["onClick"])])]),_:1})]),_:1}))}}),wn=X({__name:"PoolsListItem",props:{pubkey:String,data:Ye},setup(e){return(n,t)=>(R(),Y(le,{class:"swap-widget"},{default:O(()=>[p(C,{class:"swap-card__header"},{default:O(()=>[W(" Pool ")]),_:1}),p(C,{class:"swap-card__body"},{default:O(()=>[y("div",null,"address: "+V(e.pubkey),1),y("div",null,"mint A: "+V(e.data.tokenAMint.toBase58()),1),y("div",null,"mint B: "+V(e.data.tokenBMint.toBase58()),1)]),_:1})]),_:1}))}}),On=X({__name:"PoolsList",setup(e){const n=de(),t=ce(()=>n.tokenSwaps),{state:a}=n;return(o,s)=>{const c=wn;return R(),z("div",null,[p(We,{showing:l(a)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"]),(R(!0),z(pe,null,ze(l(t),i=>(R(),Y(c,{key:i.pubkey.toBase58(),pubkey:i.pubkey.toBase58(),data:i.data,class:"q-mt-md"},null,8,["pubkey","data"]))),128))])}}}),vn={},Rn={class:"main-block row justify-center"},yn={class:"main-block row justify-center"};function Nn(e,n){const t=ye,a=On,o=hn,s=Ne;return R(),z(pe,null,[p(t,{class:"q-mt-xl"}),y("div",Rn,[p(a)]),y("div",yn,[p(o,{class:"q-mt-lg"})]),p(s,{class:"q-mt-lg"})],64)}const Bn=$e(vn,[["render",Nn]]);export{Bn as default};
