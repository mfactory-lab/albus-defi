import{K as Q,I as O,aF as q,aG as fe,B as I,af as me,aH as ge,ag as ve,aI as he,aJ as ke,aK as Me,aL as te,aM as we,aN as ae,aO as ye,aP as xe,ai as Y,aQ as Se,aR as Ce,aS as be,aT as Ve,X as Fe,Z as ne,o as Te,i as Re,j as p,a0 as T,aU as le,a4 as ie,a5 as z,aV as oe,aW as Ee,aX as ee,aY as _e,a2 as se,a7 as Ae,aZ as re,a_ as pe,a$ as Ie,b0 as Oe}from"./index-61fde17c.js";function qe(e){const w=e.keyCode?e.keyCode:e.which;(w<48||w>57)&&w!==46&&e.preventDefault(),w===46&&String(e.target.value).includes(".")&&e.preventDefault()}const ue={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},W={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ce=Object.keys(W);ce.forEach(e=>{W[e].regex=new RegExp(W[e].pattern)});const Pe=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ce.join("")+"])|(.)","g"),de=/[.*+?^${}()|[\]\\]/g,M=String.fromCharCode(1),Ne={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function je(e,w,b,S){let r,d,R,F,x,f;const v=Q(null),m=Q(E());function X(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}O(()=>e.type+e.autogrow,Z),O(()=>e.mask,l=>{if(l!==void 0)K(m.value,!0);else{const a=_(m.value);Z(),e.modelValue!==a&&w("update:modelValue",a)}}),O(()=>e.fillMask+e.reverseFillMask,()=>{v.value===!0&&K(m.value,!0)}),O(()=>e.unmaskedValue,()=>{v.value===!0&&K(m.value)});function E(){if(Z(),v.value===!0){const l=L(_(e.modelValue));return e.fillMask!==!1?H(l):l}return e.modelValue}function B(l){if(l<r.length)return r.slice(-l);let a="",i=r;const n=i.indexOf(M);if(n>-1){for(let s=l-i.length;s>0;s--)a+=M;i=i.slice(0,n)+a+i.slice(n)}return i}function Z(){if(v.value=e.mask!==void 0&&e.mask.length!==0&&X(),v.value===!1){F=void 0,r="",d="";return}const l=ue[e.mask]===void 0?e.mask:ue[e.mask],a=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",i=a.replace(de,"\\$&"),n=[],s=[],o=[];let k=e.reverseFillMask===!0,u="",c="";l.replace(Pe,(y,t,h,P,A)=>{if(P!==void 0){const C=W[P];o.push(C),c=C.negate,k===!0&&(s.push("(?:"+c+"+)?("+C.pattern+"+)?(?:"+c+"+)?("+C.pattern+"+)?"),k=!1),s.push("(?:"+c+"+)?("+C.pattern+")?")}else if(h!==void 0)u="\\"+(h==="\\"?"":h),o.push(h),n.push("([^"+u+"]+)?"+u+"?");else{const C=t!==void 0?t:A;u=C==="\\"?"\\\\\\\\":C.replace(de,"\\\\$&"),o.push(C),n.push("([^"+u+"]+)?"+u+"?")}});const D=new RegExp("^"+n.join("")+"("+(u===""?".":"[^"+u+"]")+"+)?"+(u===""?"":"["+u+"]*")+"$"),j=s.length-1,g=s.map((y,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+i+"*"+y):t===j?new RegExp("^"+y+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":i+"*")):new RegExp("^"+y));R=o,F=y=>{const t=D.exec(e.reverseFillMask===!0?y:y.slice(0,o.length+1));t!==null&&(y=t.slice(1).join(""));const h=[],P=g.length;for(let A=0,C=y;A<P;A++){const $=g[A].exec(C);if($===null)break;C=C.slice($.shift().length),h.push(...$)}return h.length!==0?h.join(""):y},r=o.map(y=>typeof y=="string"?y:M).join(""),d=r.split(M).join(a)}function K(l,a,i){const n=S.value,s=n.selectionEnd,o=n.value.length-s,k=_(l);a===!0&&Z();const u=L(k),c=e.fillMask!==!1?H(u):u,D=m.value!==c;n.value!==c&&(n.value=c),D===!0&&(m.value=c),document.activeElement===n&&q(()=>{if(c===d){const g=e.reverseFillMask===!0?d.length:0;n.setSelectionRange(g,g,"forward");return}if(i==="insertFromPaste"&&e.reverseFillMask!==!0){const g=n.selectionEnd;let y=s-1;for(let t=x;t<=y&&t<g;t++)r[t]!==M&&y++;V.right(n,y);return}if(["deleteContentBackward","deleteContentForward"].indexOf(i)>-1){const g=e.reverseFillMask===!0?s===0?c.length>u.length?1:0:Math.max(0,c.length-(c===d?0:Math.min(u.length,o)+1))+1:s;n.setSelectionRange(g,g,"forward");return}if(e.reverseFillMask===!0)if(D===!0){const g=Math.max(0,c.length-(c===d?0:Math.min(u.length,o+1)));g===1&&s===1?n.setSelectionRange(g,g,"forward"):V.rightReverse(n,g)}else{const g=c.length-o;n.setSelectionRange(g,g,"backward")}else if(D===!0){const g=Math.max(0,r.indexOf(M),Math.min(u.length,s)-1);V.right(n,g)}else{const g=s-1;V.right(n,g)}});const j=e.unmaskedValue===!0?_(c):c;String(e.modelValue)!==j&&(e.modelValue!==null||j!=="")&&b(j,!0)}function G(l,a,i){const n=L(_(l.value));a=Math.max(0,r.indexOf(M),Math.min(n.length,a)),x=a,l.setSelectionRange(a,i,"forward")}const V={left(l,a){const i=r.slice(a-1).indexOf(M)===-1;let n=Math.max(0,a-1);for(;n>=0;n--)if(r[n]===M){a=n,i===!0&&a++;break}if(n<0&&r[a]!==void 0&&r[a]!==M)return V.right(l,0);a>=0&&l.setSelectionRange(a,a,"backward")},right(l,a){const i=l.value.length;let n=Math.min(i,a+1);for(;n<=i;n++)if(r[n]===M){a=n;break}else r[n-1]===M&&(a=n);if(n>i&&r[a-1]!==void 0&&r[a-1]!==M)return V.left(l,i);l.setSelectionRange(a,a,"forward")},leftReverse(l,a){const i=B(l.value.length);let n=Math.max(0,a-1);for(;n>=0;n--)if(i[n-1]===M){a=n;break}else if(i[n]===M&&(a=n,n===0))break;if(n<0&&i[a]!==void 0&&i[a]!==M)return V.rightReverse(l,0);a>=0&&l.setSelectionRange(a,a,"backward")},rightReverse(l,a){const i=l.value.length,n=B(i),s=n.slice(0,a+1).indexOf(M)===-1;let o=Math.min(i,a+1);for(;o<=i;o++)if(n[o-1]===M){a=o,a>0&&s===!0&&a--;break}if(o>i&&n[a-1]!==void 0&&n[a-1]!==M)return V.leftReverse(l,i);l.setSelectionRange(a,a,"forward")}};function J(l){w("click",l),f=void 0}function U(l){if(w("keydown",l),fe(l)===!0||l.altKey===!0)return;const a=S.value,i=a.selectionStart,n=a.selectionEnd;if(l.shiftKey||(f=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&f===void 0&&(f=a.selectionDirection==="forward"?i:n);const s=V[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),s(a,f===i?n:i),l.shiftKey){const o=a.selectionStart;a.setSelectionRange(Math.min(f,o),Math.max(f,o),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&i===n?(V.left(a,i),a.setSelectionRange(a.selectionStart,n,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&i===n&&(V.rightReverse(a,n),a.setSelectionRange(i,a.selectionEnd,"forward"))}function L(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return N(l);const a=R;let i=0,n="";for(let s=0;s<a.length;s++){const o=l[i],k=a[s];if(typeof k=="string")n+=k,o===k&&i++;else if(o!==void 0&&k.regex.test(o))n+=k.transform!==void 0?k.transform(o):o,i++;else return n}return n}function N(l){const a=R,i=r.indexOf(M);let n=l.length-1,s="";for(let o=a.length-1;o>=0&&n>-1;o--){const k=a[o];let u=l[n];if(typeof k=="string")s=k+s,u===k&&n--;else if(u!==void 0&&k.regex.test(u))do s=(k.transform!==void 0?k.transform(u):u)+s,n--,u=l[n];while(i===o&&u!==void 0&&k.regex.test(u));else return s}return s}function _(l){return typeof l!="string"||F===void 0?typeof l=="number"?F(""+l):l:F(l)}function H(l){return d.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?d.slice(0,-l.length)+l:l+d.slice(l.length)}return{innerValue:m,hasMask:v,moveCursorForPaste:G,updateMaskValue:K,onMaskedKeydown:U,onMaskedClick:J}}function Be(e,w){function b(){const S=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(S)===S&&("length"in S?Array.from(S):[S]).forEach(d=>{r.items.add(d)}),{files:r.files}}catch{return{files:void 0}}}return w===!0?I(()=>{if(e.type==="file")return b()}):I(b)}const Ke=me({name:"QInput",inheritAttrs:!1,props:{...ge,...Ne,...ve,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...he,"paste","change","keydown","click","animationend"],setup(e,{emit:w,attrs:b}){const{proxy:S}=ke(),{$q:r}=S,d={};let R=NaN,F,x,f=null,v;const m=Q(null),X=Me(e),{innerValue:E,hasMask:B,moveCursorForPaste:Z,updateMaskValue:K,onMaskedKeydown:G,onMaskedClick:V}=je(e,w,u,m),J=Be(e,!0),U=I(()=>te(E.value)),L=be(o),N=we(),_=I(()=>e.type==="textarea"||e.autogrow===!0),H=I(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),l=I(()=>{const t={...N.splitAttrs.listeners.value,onInput:o,onPaste:s,onChange:D,onBlur:j,onFocus:ae};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=L,B.value===!0&&(t.onKeydown=G,t.onClick=V),e.autogrow===!0&&(t.onAnimationend=k),t}),a=I(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:X.value,...N.splitAttrs.attributes.value,id:N.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});O(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),O(()=>e.modelValue,t=>{if(B.value===!0){if(x===!0&&(x=!1,String(t)===R))return;K(t)}else E.value!==t&&(E.value=t,e.type==="number"&&d.hasOwnProperty("value")===!0&&(F===!0?F=!1:delete d.value));e.autogrow===!0&&q(c)}),O(()=>e.autogrow,t=>{t===!0?q(c):m.value!==null&&b.rows>0&&(m.value.style.height="auto")}),O(()=>e.dense,()=>{e.autogrow===!0&&q(c)});function i(){Ve(()=>{const t=document.activeElement;m.value!==null&&m.value!==t&&(t===null||t.id!==N.targetUid.value)&&m.value.focus({preventScroll:!0})})}function n(){m.value!==null&&m.value.select()}function s(t){if(B.value===!0&&e.reverseFillMask!==!0){const h=t.target;Z(h,h.selectionStart,h.selectionEnd)}w("paste",t)}function o(t){if(!t||!t.target)return;if(e.type==="file"){w("update:modelValue",t.target.files);return}const h=t.target.value;if(t.target.qComposing===!0){d.value=h;return}if(B.value===!0)K(h,!1,t.inputType);else if(u(h),H.value===!0&&t.target===document.activeElement){const{selectionStart:P,selectionEnd:A}=t.target;P!==void 0&&A!==void 0&&q(()=>{t.target===document.activeElement&&h.indexOf(t.target.value)===0&&t.target.setSelectionRange(P,A)})}e.autogrow===!0&&c()}function k(t){w("animationend",t),c()}function u(t,h){v=()=>{f=null,e.type!=="number"&&d.hasOwnProperty("value")===!0&&delete d.value,e.modelValue!==t&&R!==t&&(R=t,h===!0&&(x=!0),w("update:modelValue",t),q(()=>{R===t&&(R=NaN)})),v=void 0},e.type==="number"&&(F=!0,d.value=t),e.debounce!==void 0?(f!==null&&clearTimeout(f),d.value=t,f=setTimeout(v,e.debounce)):v()}function c(){requestAnimationFrame(()=>{const t=m.value;if(t!==null){const h=t.parentNode.style,{scrollTop:P}=t,{overflowY:A,maxHeight:C}=r.platform.is.firefox===!0?{}:window.getComputedStyle(t),$=A!==void 0&&A!=="scroll";$===!0&&(t.style.overflowY="hidden"),h.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",$===!0&&(t.style.overflowY=parseInt(C,10)<t.scrollHeight?"auto":"hidden"),h.marginBottom="",t.scrollTop=P}})}function D(t){L(t),f!==null&&(clearTimeout(f),f=null),v!==void 0&&v(),w("change",t.target.value)}function j(t){t!==void 0&&ae(t),f!==null&&(clearTimeout(f),f=null),v!==void 0&&v(),F=!1,x=!1,delete d.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=E.value!==void 0?E.value:"")})}function g(){return d.hasOwnProperty("value")===!0?d.value:E.value!==void 0?E.value:""}ye(()=>{j()}),xe(()=>{e.autogrow===!0&&c()}),Object.assign(N,{innerValue:E,fieldClass:I(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:I(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:m,emitValue:u,hasValue:U,floatingLabel:I(()=>U.value===!0&&(e.type!=="number"||isNaN(E.value)===!1)||te(e.displayValue)),getControl:()=>Y(_.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...a.value,...l.value,...e.type!=="file"?{value:g()}:J.value}),getShadowControl:()=>Y("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[Y("span",{class:"invisible"},g()),Y("span",e.shadowText)])});const y=Se(N);return Object.assign(S,{focus:i,select:n,getNativeElement:()=>m.value}),Ce(S,"nativeEl",()=>m.value),y}}),De={class:"token-select"},Ze=["src"],Le=["src"],ze=Fe({__name:"SelectToken",props:{options:Object,searchToken:String,direction:{type:Boolean,default:!1},token:Object,swapToken:String,disable:{type:Boolean,default:!1}},emits:["handleSearchToken","setToken"],setup(e,{emit:w}){const b=e,S=w,r=Q(b.searchToken),d=Q(b.token??b.options[0]);O(()=>b.token,x=>{d.value=x});function R(){r.value=""}const F=I(()=>b.options.map(x=>({...x,inactive:ne(String(x.value))===ne(b.swapToken)})));return O(r,x=>{S("handleSearchToken",x)}),O(d,x=>{S("setToken",x,b.direction)}),(x,f)=>(Te(),Re("div",De,[p(Oe,{modelValue:z(d),"onUpdate:modelValue":f[2]||(f[2]=v=>re(d)?d.value=v:null),"option-disable":"inactive","popup-content-class":"transition-duration",outlined:"",options:z(F),dense:"","options-dense":!1,disable:e.disable,onPopupHide:R},{prepend:T(()=>[p(le,null,{default:T(()=>[ie("img",{src:z(d).image},null,8,Ze)]),_:1})]),option:T(v=>[p(oe,Ee(v.itemProps,{class:"token-select__token"}),{default:T(()=>[p(ee,{avatar:"",class:"token-select__token--item"},{default:T(()=>[p(le,null,{default:T(()=>[ie("img",{src:v.opt.image},null,8,Le)]),_:2},1024)]),_:2},1024),p(ee,null,{default:T(()=>[p(_e,null,{default:T(()=>[se(Ae(v.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":T(()=>[p(Ke,{modelValue:z(r),"onUpdate:modelValue":f[1]||(f[1]=v=>re(r)?r.value=v:null),maxlength:8,outlined:"",class:"token-search"},{append:T(()=>[p(pe,{name:z(Ie),class:"cursor-pointer token-search__close",onClick:f[0]||(f[0]=v=>r.value="")},null,8,["name"])]),_:1},8,["modelValue"]),p(oe,null,{default:T(()=>[p(ee,{class:"text-grey"},{default:T(()=>[se(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","disable"])]))}});export{Ke as Q,ze as _,qe as o};
