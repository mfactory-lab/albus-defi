import{Z as Q,F as $,y as oe,B as U,L as D,G as ae,a8 as e,o as w,a2 as K,a3 as s,ad as y,a9 as L,aj as te,P as ne,a5 as f,A as d,$ as se,M as F,ak as x,a1 as le,J as ie,a4 as N,k as t,a6 as q,a7 as a,j as S,aa as n,ab as u,ac as P,al as ce,am as de,an as re,ao as me,ap as _e,ae as pe,aq as ue,a0 as fe,ag as we,ah as ge,U as he,_ as ke,ai as ve}from"./index-250b8f18.js";import{b as ye,g as be,m as Se}from"./index-07a90387.js";import{_ as Te,a as Be}from"./AppDescription-d703b3fb.js";import{_ as xe}from"./PolicyCard.vue_vue_type_script_setup_true_lang-cea177c9.js";import{_ as qe}from"./SelectPool.vue_vue_type_script_setup_true_lang-9469669f.js";import{o as Ce,_ as Ve}from"./SelectToken.vue_vue_type_script_setup_true_lang-71fa867c.js";import{s as Ae}from"./swap-circle-a93e350f.js";import{u as Me}from"./swap-cfa8e5f4.js";import{_ as Re}from"./AppDescriptionTop-629e6887.js";import"./internal-e3343b2c.js";import"./PoolsListItem.vue_vue_type_script_setup_true_lang-43bfc2df.js";const Ee=Q({__name:"MintTokenA",setup(C){const{publicKey:r}=$(),o=oe(),g=U(),m=D(!1),{notify:h}=ae();async function k(){if(r.value){m.value=!0,console.log("mintTokenB -------------------------");try{const i=te.fromSecretKey(ye.decode("2QDdinbDitrdSrbvyddwrc1sdQEyRtMgXSisj5QfFgSikxgmPp4ggunwjQZChcvKFxr74XbUwYGmiqivq3SMARhx")),c=new ne("6rdejLXbi2Ws2z3Ff1wRhRS9WqrXRDuM8YpSkiektRgw"),b=await be(o.connection,i,c,r.value);await Se(o.connection,i,c,b.address,i,1e10),await g.getUserTokens(),h({type:"positive",message:"You got 10 TOKEN_B"})}catch(i){console.log("failed mint e:",i)}finally{m.value=!1}}}return(i,c)=>e(o).cluster==="devnet"&&e(r)?(w(),K(y,{key:0,class:"full-width",loading:e(m),unelevated:"",color:i.$q.dark.isActive?"white":"primary",onClick:k},{default:s(()=>[f(" Mint JSOL (fake) ")]),_:1},8,["loading","color"])):L("",!0)}}),Fe={class:"swap-form"},Ne={class:"swap-field"},Pe={class:"swap-field__info"},Qe={class:"row items-end"},$e=a("div",{class:"col swap-field__label"}," FROM: ",-1),Ue={class:"col-8 col-xs-10 row justify-end swap-field__balance"},De={key:0,class:"insufficient-error"},Ke={class:"swap-change"},Le=["innerHTML"],Oe={class:"swap-field"},je={class:"swap-field__info"},Ie={class:"row"},He=a("div",{class:"col swap-field__label"}," TO: ",-1),Xe={class:"col swap-field__balance"},We={class:"swap-info q-mt-md q-pt-xs"},Ye={class:"text-weight-medium"},ze=a("dt",null,"Minimum Received",-1),Ge=a("dt",null,"Slippage Tolerance",-1),Je={href:"#"},Ze=a("dt",null,"Swap fee",-1),eo={class:"swap-submit q-mt-md"},oo={key:0,class:"text-weight-medium fs-13 text-center q-mt-md text-negative"},ao={key:1,class:"row q-mt-md text-center relative-position full-width"},to={class:"swap-rate q-mx-auto"},no={class:"absolute-right swap-rate__refresh"},so={class:"swap-info q-mt-md"},lo=a("dt",null,"Price impact",-1),io=Q({__name:"SwapCard",setup(C){const r=Me(),{state:o,loadingPoolTokens:g,changeDirection:m,closeSlippage:h,swapSubmit:k,loadPoolTokenAccounts:i}=r,c=d(()=>r.tokenSwap),{handleSearchToken:b,handleFilterToken:O,tokens:V}=se();O(F);const A=U(),j=d(()=>o.poolBalance[o.from.mint]?x(o.poolBalance[o.from.mint],o.from.decimals):0),I=d(()=>o.poolBalance[o.to.mint]?x(o.poolBalance[o.to.mint],o.to.decimals):0),{certificateExpired:H}=le(),{connected:X}=$(),T=_=>ue.format(_),M=D(0),W=d(()=>`transform: rotate(${M.value*180}deg)`),v=d(()=>A.tokenBalance(o.from.mint)),Y=d(()=>A.tokenBalance(o.to.mint)),z=d(()=>o.fees.ownerTrade+o.fees.trade);function G(){m(),M.value++}function R(_,l){o[l?"to":"from"]=_}function J(){o.from?.mint===F||o.from?.mint===fe?o.from.amount=v.value-we-3*ge-he:o.from.amount=v.value}const B=d(()=>Number(o.from.amount)>v.value?"Insufficient funds":!1);return ie([()=>o.from.amount,c,v],_=>{o.active=!B.value}),(_,l)=>{const E=Ve,Z=qe,ee=xe;return w(),K(N,{class:"swap-card swap-widget"},{default:s(()=>[t(q,{class:"swap-card__header"},{default:s(()=>[f(" Swap ")]),_:1}),t(q,{class:"swap-card__body"},{default:s(()=>[a("div",Fe,[a("div",Ne,[a("div",Pe,[a("div",Qe,[$e,a("div",Ue,[e(B)?(w(),S("div",De,n(e(B)),1)):L("",!0),f(" Balance: "+n(e(u)(e(v)))+" "+n(e(o).from.symbol),1)])])]),t(P,{modelValue:e(o).from.amount,"onUpdate:modelValue":l[0]||(l[0]=p=>e(o).from.amount=p),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input",onKeypress:e(Ce)},{append:s(()=>[t(y,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:J},{default:s(()=>[f(" MAX ")]),_:1}),t(E,{options:e(V),token:e(o).from,"swap-token":String(e(o).to.symbol),onHandleSearchToken:e(b),onSetToken:R},null,8,["options","token","swap-token","onHandleSearchToken"])]),_:1},8,["modelValue","onKeypress"])]),a("div",Ke,[t(y,{ripple:!1,dense:"",unelevated:"",style:ce(e(W)),onClick:G},{default:s(()=>[a("i",{innerHTML:e(Ae)},null,8,Le)]),_:1},8,["style"])]),a("div",Oe,[a("div",je,[a("div",Ie,[He,a("div",Xe," Balance: "+n(e(u)(e(Y)))+" "+n(e(o).to.symbol),1)])]),t(P,{modelValue:e(o).to.amount,"onUpdate:modelValue":l[1]||(l[1]=p=>e(o).to.amount=p),readonly:"",maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input"},{append:s(()=>[t(E,{"swap-token":String(e(o).from.symbol),options:e(V),direction:!0,token:e(o).to,"destination-unavailable":!e(c),onHandleSearchToken:e(b),onSetToken:R},null,8,["swap-token","options","token","destination-unavailable","onHandleSearchToken"])]),_:1},8,["modelValue"])])]),a("div",We,[a("dl",Ye,[ze,a("dd",null,n(e(u)(e(x)(e(o).minimumReceived,e(o).to.decimals)))+" "+n(e(o).to.symbol.toUpperCase()),1)]),a("dl",null,[Ge,a("dd",null,[a("a",Je,[f(n(T(e(o).slippage))+" ",1),t(de,{modelValue:e(o).slippageDialog,"onUpdate:modelValue":l[3]||(l[3]=p=>e(o).slippageDialog=p),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:s(()=>[t(N,null,{default:s(()=>[t(q,null,{default:s(()=>[t(re,{modelValue:e(o).slippage,"onUpdate:modelValue":[l[2]||(l[2]=p=>e(o).slippage=p),e(h)],spread:"","no-caps":"",unelevated:"",ripple:!1,"toggle-color":"secondary",color:"white","text-color":"dark",options:[{label:"0.1%",value:.001},{label:"0.5%",value:.005},{label:"1%",value:.01},{label:"5%",value:.05}]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),a("dl",null,[Ze,a("dd",null,n(T(e(z))),1)])]),t(Z,{class:"q-mt-md"}),t(ee,{class:"q-mt-md q-mx-auto"}),a("div",eo,[t(y,{loading:e(o).swapping,disable:!e(o).active||!e(c)||!e(X)||!e(o).from.amount||e(H),rounded:"",ripple:!1,onClick:e(k)},{default:s(()=>[f(" Swap "+n(e(o).from.symbol)+" / "+n(e(o).to.symbol),1)]),_:1},8,["loading","disable","onClick"])]),e(c)?(w(),S("div",ao,[a("div",to," 1 "+n(e(o).from.symbol)+" â‰ˆ "+n(e(u)(e(o).rate))+" "+n(e(o).to.symbol),1),a("div",no,[t(y,{loading:e(g),class:"swap-card__reload",unelevated:"",color:_.$q.dark.isActive?"white":"primary",round:"",onClick:e(i)},{default:s(()=>[t(me,{name:e(_e),color:_.$q.dark.isActive?"primary":"white"},null,8,["name","color"])]),_:1},8,["loading","color","onClick"])])])):(w(),S("div",oo," Pool not found ")),a("div",so,[a("dl",null,[lo,a("dd",null,n(T(e(o).impact)),1)]),a("dl",null,[a("dt",null,"Pool "+n(e(o).from.symbol)+" balance",1),a("dd",null,n(e(u)(e(j)))+" "+n(e(o).from.symbol),1)]),a("dl",null,[a("dt",null,"Pool "+n(e(o).to.symbol)+" balance",1),a("dd",null,n(e(u)(e(I)))+" "+n(e(o).to.symbol),1)])])]),_:1}),t(pe,{showing:e(o)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1})}}}),co={},ro={class:"main-block row justify-center"};function mo(C,r){const o=Re,g=io,m=Te,h=Be,k=Ee;return w(),S(ve,null,[t(o,{class:"q-mt-lg"}),a("div",ro,[t(g)]),t(m,{class:"q-mt-lg"}),t(h,{class:"q-mt-lg"}),t(k,{class:"q-mt-lg"})],64)}const So=ke(co,[["render",mo]]);export{So as default};
