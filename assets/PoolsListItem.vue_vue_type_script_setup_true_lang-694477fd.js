import{V as N,t as M,v as m,aJ as A,G as P,a3 as s,o as _,Y as V,Z as p,j as a,a1 as C,a2 as t,i as v,a4 as r,a5 as e,a0 as D,ah as L,as as Q,$ as T,al as k,aK as y,ar as w,aL as E,a8 as g,aM as I}from"./index-3a953339.js";import{u as F}from"./swap-e6289629.js";const H={class:"row"},O={class:"pool-card__icons row justify-center q-mr-md q-ml-sm"},R=["src","alt"],U=["src","alt"],W={class:"pool-card__subtitle row justify-center items-center"},G={class:"policy-info q-ml-auto"},Y={class:"pool-info__fees row items-center"},J=t("div",{class:"pool-card__label"}," Swap fee ",-1),K={key:0,class:"pool-card__amount"},Z=t("div",{class:"pool-info__delimiter"},null,-1),z=t("div",{class:"pool-card__label"}," Withdraw fee ",-1),X={key:0,class:"pool-card__amount"},tt={class:"pool-info__addresses"},ot={class:"column justify-center items-between q-mt-md"},st=t("div",{class:"pool-card__label"}," Pool address ",-1),et={class:"row justify-between items-center"},at={class:"pool-card__pubkey monoscaped"},lt={class:"column justify-center items-between"},nt=t("div",{class:"pool-card__label"}," Token A mint ",-1),it={class:"row justify-between items-center"},ct={class:"pool-card__pubkey monoscaped"},dt={class:"column justify-center items-between"},_t=t("div",{class:"pool-card__label"}," Token B mint ",-1),rt={class:"row justify-between items-center"},ut={class:"pool-card__pubkey monoscaped"},mt={class:"column justify-center items-between"},pt=t("div",{class:"pool-card__label"}," LP token mint ",-1),vt={class:"row justify-between items-center"},ht={class:"pool-card__pubkey monoscaped"},ft={class:"pool-card__income q-mt-md"},bt=t("div",{class:"pool-card__apr-label"}," APR 24H ",-1),kt={class:"pool-card__apr-amount"},yt={class:"pool-card__income__user row q-ml-auto"},wt=t("div",{class:"pool-card__label"}," My Liquidity ",-1),St={class:"pool-card__amount"},Bt={class:"q-ml-md"},qt=t("div",{class:"pool-card__label"}," My Share ",-1),xt={class:"pool-card__amount"},Tt={class:"pool-card__stats q-mt-sm q-mb-auto q-pt-xs"},gt={class:"pool-card__stats__item q-mt-xs text-center"},$t=t("div",{class:"pool-card__label"}," Volume 24H ",-1),jt={class:"pool-card__amount"},Nt=t("div",{class:"pool-card__stats__delimiter"},null,-1),Mt={class:"pool-card__stats__item q-mt-xs text-center"},At=t("div",{class:"pool-card__label"}," Liquidity ",-1),Pt={class:"pool-card__amount"},Vt=t("div",{class:"pool-card__stats__delimiter"},null,-1),Ct={class:"pool-card__stats__item q-mt-xs text-center"},Dt=t("div",{class:"pool-card__label"}," Fees 24H ",-1),Lt={class:"pool-card__amount"},Qt={key:0,class:"row q-mt-md"},Et={class:"col"},Ht=N({__name:"PoolsListItem",props:{pubkey:Object,data:Object,poolStats:Object,userTokens:Number,useEmit:Boolean},emits:["selectPool"],setup(o){const l=o,$=M(),B=m(()=>$.tokens),i=m(()=>B.value.find(d=>d.mint===l.data?.tokenAMint.toBase58())),c=m(()=>B.value.find(d=>d.mint===l.data?.tokenBMint.toBase58())),h=F(),j=A();async function q(d=!1){i.value&&c.value&&l.pubkey&&l.data&&(h.state.from=i.value,h.state.to=c.value,await j.push(d?"liquidity":"/swap"),h.setTokenSwap({pubkey:l.pubkey,data:l.data}),console.log("[swap] swapAction: ",l.pubkey.toBase58()))}const u=m(()=>l.data&&h.getPoolFee(l.data)),x=m(()=>u.value&&u.value.ownerTrade+u.value.trade),S=P(!1);return(d,n)=>{const f=I;return o.pubkey&&o.data&&s(i)&&s(c)?(_(),V(T,{key:0,class:"pool-card",onClick:n[3]||(n[3]=b=>o.useEmit?d.$emit("selectPool"):void 0)},{default:p(()=>[a(C,{class:"pool-card__body full-height"},{default:p(()=>[t("div",H,[t("div",O,[s(i)?.image?(_(),v("img",{key:0,src:s(i)?.image,alt:s(i)?.symbol},null,8,R)):r("",!0),s(c)?.image?(_(),v("img",{key:1,src:s(c)?.image,alt:s(c)?.symbol},null,8,U)):r("",!0)]),t("div",W,[t("span",null,e(s(i)?.symbol)+"/"+e(s(c)?.symbol),1)]),t("span",G,[D(" i "),a(L,{modelValue:s(S),"onUpdate:modelValue":n[0]||(n[0]=b=>Q(S)?S.value=b:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:p(()=>[a(T,{class:"pool-info q-pa-md"},{default:p(()=>[t("div",Y,[t("div",null,[J,s(x)?(_(),v("div",K,e(s(k).format(s(x))),1)):r("",!0)]),Z,t("div",null,[z,s(u)?(_(),v("div",X,e(s(k).format(s(u).ownerWithdraw)),1)):r("",!0)])]),t("div",tt,[t("div",ot,[st,t("div",et,[t("span",at,e(s(y)(o.pubkey.toBase58(),14)),1),a(f,{text:o.pubkey.toBase58()},null,8,["text"])])]),t("div",lt,[nt,t("div",it,[t("span",ct,e(s(y)(o.data.tokenAMint.toBase58(),14)),1),a(f,{text:o.data.tokenAMint.toBase58()},null,8,["text"])])]),t("div",dt,[_t,t("div",rt,[t("span",ut,e(s(y)(o.data.tokenBMint.toBase58(),14)),1),a(f,{text:o.data.tokenBMint.toBase58()},null,8,["text"])])]),t("div",mt,[pt,t("div",vt,[t("span",ht,e(s(y)(o.data.poolMint.toBase58(),14)),1),a(f,{text:o.data.poolMint.toBase58()},null,8,["text"])])])])]),_:1})]),_:1},8,["modelValue"])])]),t("div",ft,[t("div",null,[bt,t("div",kt,e(o.poolStats&&!Number.isNaN(o.poolStats.apr24)?`${s(k).format(o.poolStats.apr24)}`:"---"),1)]),t("div",yt,[t("div",null,[wt,t("div",St,e(o.poolStats&&!Number.isNaN(o.poolStats.poolTokenSupply)&&o.userTokens?`$${s(w).format(o.userTokens/o.poolStats.poolTokenSupply*o.poolStats.tvl)}`:"---"),1)]),t("div",Bt,[qt,t("div",xt,e(o.poolStats&&!Number.isNaN(o.poolStats.poolTokenSupply)&&o.userTokens?`${s(k).format(o.userTokens/o.poolStats.poolTokenSupply)}`:"---"),1)])])]),t("div",Tt,[t("div",gt,[$t,t("div",jt,e(o.poolStats?`$${s(w).format(o.poolStats.volume24)}`:"---"),1)]),Nt,t("div",Mt,[At,t("div",Pt,e(o.poolStats?`$${s(w).format(o.poolStats.tvl)}`:"---"),1)]),Vt,t("div",Ct,[Dt,t("div",Lt,e(o.poolStats?`$${s(w).format(o.poolStats.fees24)}`:"---"),1)])]),o.useEmit?r("",!0):(_(),v("div",Qt,[t("div",Et,[a(E,{spread:"",unelevated:"",square:"",class:"pool-card__actions"},{default:p(()=>[a(g,{label:"ADD LIQUIDITY",color:"primary","text-color":"white",target:"_blank",class:"q-mr-md",onClick:n[1]||(n[1]=b=>q(!0))}),a(g,{label:"SWAP",color:"warning","text-color":"black",target:"_blank",onClick:n[2]||(n[2]=b=>q(!1))})]),_:1})])]))]),_:1})]),_:1})):r("",!0)}}});export{Ht as _};
