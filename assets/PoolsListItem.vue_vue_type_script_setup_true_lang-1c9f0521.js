import{$ as V,z as j,A as d,B as M,aH as Q,L as I,a8 as t,o as _,a2 as $,a3 as u,j as s,a6 as E,a7 as e,aa as r,i as B,a9 as k,aI as N,ad as x,aA as L,az as U,a4 as A,a5 as y,aJ as v,aG as z,aK as F}from"./index-0da35a6e.js";import{c as G}from"./AppDescriptionTop-08af6f21.js";import{u as O}from"./swap-0b8dedaf.js";const R={class:"pool-card__subtitle row justify-center items-center"},H={class:"pool-card__icons row justify-center q-mt-xs"},J=["src","alt"],K=["src","alt"],W={class:"q-mt-md row justify-center"},Y={key:0,class:"row q-mt-md"},X={class:"col"},Z={class:"row items-center"},tt={class:"pool-card__pubkey monoscaped"},et={class:"row items-center"},at={class:"pool-card__pubkey monoscaped"},ot={class:"row items-center"},st={class:"pool-card__pubkey monoscaped"},nt={class:"row items-center q-mt-xs"},lt={class:"pool-card__pubkey"},rt=V({__name:"PoolsListItem",props:{pubkey:Object,data:Object,useEmit:Boolean},emits:["selectPool"],setup(a){const o=a,S=j(),w=d(()=>S.tokens),n=d(()=>w.value.find(i=>i.mint===o.data?.tokenAMint.toBase58())),l=d(()=>w.value.find(i=>i.mint===o.data?.tokenBMint.toBase58())),q=M(),C=d(()=>q.servicePolicy.find(i=>i.pubkey.toBase58()===o.data?.policy?.toBase58())),m=O(),P=Q();async function h(){n.value&&l.value&&o.pubkey&&o.data&&(m.state.from=n.value,m.state.to=l.value,await P.push("/swap"),m.setTokenSwap({pubkey:o.pubkey,data:o.data}),console.log("[swap] swapAction: ",o.pubkey.toBase58()))}const g=d(()=>o.data?m.getPoolFee(o.data):{}),D=d(()=>g.value.ownerTrade+g.value.trade),p=I(!1);return(i,c)=>{const T=G,f=F;return a.pubkey&&a.data&&t(n)&&t(l)?(_(),$(A,{key:0,class:"pool-card",onClick:c[2]||(c[2]=b=>a.useEmit?i.$emit("selectPool"):void 0)},{default:u(()=>[s(E,{class:"pool-card__body"},{default:u(()=>[e("div",R,[e("span",null,r(t(n)?.symbol)+" / "+r(t(l)?.symbol),1),e("span",{class:"policy-info q-ml-md",onClick:c[0]||(c[0]=b=>p.value=!0)}," i ")]),e("div",H,[t(n)?.image?(_(),B("img",{key:0,src:t(n)?.image,alt:t(n)?.symbol},null,8,J)):k("",!0),t(l)?.image?(_(),B("img",{key:1,src:t(l)?.image,alt:t(l)?.symbol},null,8,K)):k("",!0)]),e("div",W,[s(T,{"required-policy":a.data.policy?.toBase58(),"required-policy-data":t(C)?.data},null,8,["required-policy","required-policy-data"])]),a.useEmit?k("",!0):(_(),B("div",Y,[e("div",X,[s(N,{spread:""},{default:u(()=>[s(x,{disable:"",label:"ADD LIQUIDITY",color:"warning","text-color":"#282828",target:"_blank",onClick:h}),s(x,{label:"SWAP",color:"primary","text-color":"white",target:"_blank",onClick:h})]),_:1})])]))]),_:1}),s(L,{modelValue:t(p),"onUpdate:modelValue":c[1]||(c[1]=b=>U(p)?p.value=b:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:u(()=>[s(A,{class:"q-pa-md"},{default:u(()=>[e("div",Z,[y(" Pool address:  "),e("span",null,[e("span",tt,r(t(v)(a.pubkey.toBase58())),1),s(f,{text:a.pubkey.toBase58()},null,8,["text"])])]),e("div",et,[y(" Token A mint:  "),e("span",null,[e("span",at,r(t(v)(a.data.tokenAMint.toBase58())),1),s(f,{text:a.data.tokenAMint.toBase58()},null,8,["text"])])]),e("div",ot,[y(" Token B mint:  "),e("span",null,[e("span",st,r(t(v)(a.data.tokenBMint.toBase58())),1),s(f,{text:a.data.tokenBMint.toBase58()},null,8,["text"])])]),e("div",nt,[y(" Pool fee:  "),e("span",lt,r(t(z).format(t(D))),1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})):k("",!0)}}});export{rt as _};
