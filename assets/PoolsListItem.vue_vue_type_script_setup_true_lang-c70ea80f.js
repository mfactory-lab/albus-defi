import{Z as $,z as A,A as m,aO as M,L as P,a8 as s,o as _,a2 as C,a3 as p,k as a,a6 as V,a7 as t,j as v,a9 as r,aa as e,a5 as Q,am as D,ax as L,a4 as T,aq as b,aP as y,aw as w,aQ as E,ad as g,aR as I}from"./index-33cf60a3.js";import{u as O}from"./swap-d290b7ed.js";const R={class:"row"},F={class:"pool-card__icons row justify-center q-mr-md q-ml-sm"},H=["src","alt"],U=["src","alt"],W={class:"pool-card__subtitle row justify-center items-center"},z={class:"policy-info q-ml-auto"},G={class:"pool-info__fees row items-center"},Y=t("div",{class:"pool-card__label"}," Swap fee ",-1),Z={key:0,class:"pool-card__amount"},J=t("div",{class:"pool-info__delimiter"},null,-1),K=t("div",{class:"pool-card__label"}," Withdraw fee ",-1),X={key:0,class:"pool-card__amount"},tt={class:"pool-info__addresses"},ot={class:"column justify-center items-between q-mt-md"},st=t("div",{class:"pool-card__label"}," Pool address ",-1),et={class:"row justify-between items-center"},at={class:"pool-card__pubkey monoscaped"},lt={class:"column justify-center items-between"},nt=t("div",{class:"pool-card__label"}," Token A mint ",-1),it={class:"row justify-between items-center"},dt={class:"pool-card__pubkey monoscaped"},ct={class:"column justify-center items-between"},_t=t("div",{class:"pool-card__label"}," Token B mint ",-1),rt={class:"row justify-between items-center"},ut={class:"pool-card__pubkey monoscaped"},mt={class:"column justify-center items-between"},pt=t("div",{class:"pool-card__label"}," LP token mint ",-1),vt={class:"row justify-between items-center"},ht={class:"pool-card__pubkey monoscaped"},ft={class:"pool-card__income q-mt-md"},kt=t("div",{class:"pool-card__apr-label"}," APR 24H ",-1),bt={class:"pool-card__apr-amount"},yt={class:"pool-card__income__user row q-ml-auto"},wt=t("div",{class:"pool-card__label"}," My Liquidity ",-1),St={class:"pool-card__amount"},Bt={class:"q-ml-md"},qt=t("div",{class:"pool-card__label"}," My Share ",-1),xt={class:"pool-card__amount"},Tt={class:"pool-card__stats q-mt-sm q-mb-auto q-pt-xs"},gt={class:"pool-card__stats__item q-mt-xs text-center"},jt=t("div",{class:"pool-card__label"}," Volume 24H ",-1),Nt={class:"pool-card__amount"},$t=t("div",{class:"pool-card__stats__delimiter"},null,-1),At={class:"pool-card__stats__item q-mt-xs text-center"},Mt=t("div",{class:"pool-card__label"}," Liquidity ",-1),Pt={class:"pool-card__amount"},Ct=t("div",{class:"pool-card__stats__delimiter"},null,-1),Vt={class:"pool-card__stats__item q-mt-xs text-center"},Qt=t("div",{class:"pool-card__label"}," Fees 24H ",-1),Dt={class:"pool-card__amount"},Lt={key:0,class:"row q-mt-md"},Et={class:"col"},Rt=$({__name:"PoolsListItem",props:{pubkey:Object,data:Object,poolStats:Object,userTokens:Number,useEmit:Boolean},emits:["selectPool"],setup(o){const l=o,j=A(),B=m(()=>j.tokens),i=m(()=>B.value.find(c=>c.mint===l.data?.tokenAMint.toBase58())),d=m(()=>B.value.find(c=>c.mint===l.data?.tokenBMint.toBase58())),h=O(),N=M();async function q(c=!1){i.value&&d.value&&l.pubkey&&l.data&&(h.state.from=i.value,h.state.to=d.value,await N.push(c?"liquidity":"/swap"),h.setTokenSwap({pubkey:l.pubkey,data:l.data}),console.log("[swap] swapAction: ",l.pubkey.toBase58()))}const u=m(()=>l.data&&h.getPoolFee(l.data)),x=m(()=>u.value&&u.value.ownerTrade+u.value.trade),S=P(!1);return(c,n)=>{const f=I;return o.pubkey&&o.data&&s(i)&&s(d)?(_(),C(T,{key:0,class:"pool-card",onClick:n[3]||(n[3]=k=>o.useEmit?c.$emit("selectPool"):void 0)},{default:p(()=>[a(V,{class:"pool-card__body full-height"},{default:p(()=>[t("div",R,[t("div",F,[s(i)?.image?(_(),v("img",{key:0,src:s(i)?.image,alt:s(i)?.symbol},null,8,H)):r("",!0),s(d)?.image?(_(),v("img",{key:1,src:s(d)?.image,alt:s(d)?.symbol},null,8,U)):r("",!0)]),t("div",W,[t("span",null,e(s(i)?.symbol)+"/"+e(s(d)?.symbol),1)]),t("span",z,[Q(" i "),a(D,{modelValue:s(S),"onUpdate:modelValue":n[0]||(n[0]=k=>L(S)?S.value=k:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:p(()=>[a(T,{class:"pool-info q-pa-md"},{default:p(()=>[t("div",G,[t("div",null,[Y,s(x)?(_(),v("div",Z,e(s(b).format(s(x))),1)):r("",!0)]),J,t("div",null,[K,s(u)?(_(),v("div",X,e(s(b).format(s(u).ownerWithdraw)),1)):r("",!0)])]),t("div",tt,[t("div",ot,[st,t("div",et,[t("span",at,e(s(y)(o.pubkey.toBase58(),14)),1),a(f,{text:o.pubkey.toBase58()},null,8,["text"])])]),t("div",lt,[nt,t("div",it,[t("span",dt,e(s(y)(o.data.tokenAMint.toBase58(),14)),1),a(f,{text:o.data.tokenAMint.toBase58()},null,8,["text"])])]),t("div",ct,[_t,t("div",rt,[t("span",ut,e(s(y)(o.data.tokenBMint.toBase58(),14)),1),a(f,{text:o.data.tokenBMint.toBase58()},null,8,["text"])])]),t("div",mt,[pt,t("div",vt,[t("span",ht,e(s(y)(o.data.poolMint.toBase58(),14)),1),a(f,{text:o.data.poolMint.toBase58()},null,8,["text"])])])])]),_:1})]),_:1},8,["modelValue"])])]),t("div",ft,[t("div",null,[kt,t("div",bt,e(o.poolStats&&!Number.isNaN(o.poolStats.apr24)?`${s(b).format(o.poolStats.apr24)}`:"---"),1)]),t("div",yt,[t("div",null,[wt,t("div",St,e(o.poolStats&&!Number.isNaN(o.poolStats.poolTokenSupply)&&o.userTokens?`$${s(w).format(o.userTokens/o.poolStats.poolTokenSupply*o.poolStats.tvl)}`:"---"),1)]),t("div",Bt,[qt,t("div",xt,e(o.poolStats&&!Number.isNaN(o.poolStats.poolTokenSupply)&&o.userTokens?`${s(b).format(o.userTokens/o.poolStats.poolTokenSupply)}`:"---"),1)])])]),t("div",Tt,[t("div",gt,[jt,t("div",Nt,e(o.poolStats?`$${s(w).format(o.poolStats.volume24)}`:"---"),1)]),$t,t("div",At,[Mt,t("div",Pt,e(o.poolStats?`$${s(w).format(o.poolStats.tvl)}`:"---"),1)]),Ct,t("div",Vt,[Qt,t("div",Dt,e(o.poolStats?`$${s(w).format(o.poolStats.fees24)}`:"---"),1)])]),o.useEmit?r("",!0):(_(),v("div",Lt,[t("div",Et,[a(E,{spread:"",unelevated:"",square:"",class:"pool-card__actions"},{default:p(()=>[a(g,{label:"ADD LIQUIDITY",color:"primary","text-color":"white",target:"_blank",class:"q-mr-md",onClick:n[1]||(n[1]=k=>q(!0))}),a(g,{label:"SWAP",color:"warning","text-color":"black",target:"_blank",onClick:n[2]||(n[2]=k=>q(!1))})]),_:1})])]))]),_:1})]),_:1})):r("",!0)}}});export{Rt as _};
