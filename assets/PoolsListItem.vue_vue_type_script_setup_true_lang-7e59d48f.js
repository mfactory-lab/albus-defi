import{V as A,t as M,v as m,b4 as P,G as V,a3 as s,o as _,Y as C,Z as v,j as a,a1 as D,a2 as t,i as p,a4 as r,a5 as e,a0 as Q,az as I,aJ as L,$ as g,aD as k,b5 as y,aI as w,b6 as N,a8 as $,b7 as E}from"./index-26b40397.js";import{u as F}from"./swap-35f29b95.js";const H={class:"row"},O={class:"pool-card__icons row justify-center q-mr-md q-ml-sm"},R=["src","alt"],U=["src","alt"],W={class:"pool-card__subtitle row justify-center items-center"},G={class:"policy-info q-ml-auto"},Y={class:"pool-info__fees row items-center"},z=t("div",{class:"pool-card__label"}," Swap fee ",-1),J={key:0,class:"pool-card__amount"},Z=t("div",{class:"pool-info__delimiter"},null,-1),K=t("div",{class:"pool-card__label"}," Withdraw fee ",-1),X={key:0,class:"pool-card__amount"},tt={class:"pool-info__addresses"},ot={class:"column justify-center items-between q-mt-md"},st=t("div",{class:"pool-card__label"}," Pool address ",-1),et={class:"row justify-between items-center"},at={class:"pool-card__pubkey monoscaped"},lt={class:"column justify-center items-between"},nt=t("div",{class:"pool-card__label"}," Token A mint ",-1),it={class:"row justify-between items-center"},ct={class:"pool-card__pubkey monoscaped"},dt={class:"column justify-center items-between"},_t=t("div",{class:"pool-card__label"}," Token B mint ",-1),rt={class:"row justify-between items-center"},ut={class:"pool-card__pubkey monoscaped"},mt={class:"column justify-center items-between"},vt=t("div",{class:"pool-card__label"}," LP token mint ",-1),pt={class:"row justify-between items-center"},ht={class:"pool-card__pubkey monoscaped"},bt={class:"pool-card__income q-mt-md"},ft=t("div",{class:"pool-card__apr-label"}," APR 24H ",-1),kt={class:"pool-card__apr-amount"},yt={class:"pool-card__income__user row q-ml-auto"},wt=t("div",{class:"pool-card__label"}," My Liquidity ",-1),St={class:"pool-card__amount"},Bt={class:"q-ml-md"},qt=t("div",{class:"pool-card__label"}," My Share ",-1),xt={class:"pool-card__amount"},gt={class:"pool-card__stats q-mt-sm q-mb-auto q-pt-xs"},$t={class:"pool-card__stats__item q-mt-xs text-center"},jt=t("div",{class:"pool-card__label"}," Volume 24H ",-1),Tt={class:"pool-card__amount"},At=t("div",{class:"pool-card__stats__delimiter"},null,-1),Mt={class:"pool-card__stats__item q-mt-xs text-center"},Pt=t("div",{class:"pool-card__label"}," Liquidity ",-1),Vt={class:"pool-card__amount"},Ct=t("div",{class:"pool-card__stats__delimiter"},null,-1),Dt={class:"pool-card__stats__item q-mt-xs text-center"},Qt=t("div",{class:"pool-card__label"}," Fees 24H ",-1),It={class:"pool-card__amount"},Lt={key:0,class:"row q-mt-md"},Nt={class:"col"},Ht=A({__name:"PoolsListItem",props:{pubkey:Object,data:Object,poolStats:Object,userTokens:Number,useEmit:Boolean},emits:["selectPool"],setup(o){const l=o,j=M(),B=m(()=>j.tokens),i=m(()=>B.value.find(d=>d.mint===l.data?.tokenAMint.toBase58())),c=m(()=>B.value.find(d=>d.mint===l.data?.tokenBMint.toBase58())),h=F(),T=P();async function q(d=!1){i.value&&c.value&&l.pubkey&&l.data&&(h.state.from=i.value,h.state.to=c.value,await T.push(d?"liquidity":"/swap"),h.setTokenSwap({pubkey:l.pubkey,data:l.data}),console.log("[swap] swapAction: ",l.pubkey.toBase58()))}const u=m(()=>l.data&&h.getPoolFee(l.data)),x=m(()=>u.value&&u.value.ownerTrade+u.value.trade),S=V(!1);return(d,n)=>{const b=E;return o.pubkey&&o.data&&s(i)&&s(c)?(_(),C(g,{key:0,class:"pool-card",onClick:n[3]||(n[3]=f=>o.useEmit?d.$emit("selectPool"):void 0)},{default:v(()=>[a(D,{class:"pool-card__body full-height"},{default:v(()=>[t("div",H,[t("div",O,[s(i)?.image?(_(),p("img",{key:0,src:s(i)?.image,alt:s(i)?.symbol},null,8,R)):r("",!0),s(c)?.image?(_(),p("img",{key:1,src:s(c)?.image,alt:s(c)?.symbol},null,8,U)):r("",!0)]),t("div",W,[t("span",null,e(s(i)?.symbol)+"/"+e(s(c)?.symbol),1)]),t("span",G,[Q(" i "),a(I,{modelValue:s(S),"onUpdate:modelValue":n[0]||(n[0]=f=>L(S)?S.value=f:null),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:v(()=>[a(g,{class:"pool-info q-pa-md"},{default:v(()=>[t("div",Y,[t("div",null,[z,s(x)?(_(),p("div",J,e(s(k).format(s(x))),1)):r("",!0)]),Z,t("div",null,[K,s(u)?(_(),p("div",X,e(s(k).format(s(u).ownerWithdraw)),1)):r("",!0)])]),t("div",tt,[t("div",ot,[st,t("div",et,[t("span",at,e(s(y)(o.pubkey.toBase58(),14)),1),a(b,{text:o.pubkey.toBase58()},null,8,["text"])])]),t("div",lt,[nt,t("div",it,[t("span",ct,e(s(y)(o.data.tokenAMint.toBase58(),14)),1),a(b,{text:o.data.tokenAMint.toBase58()},null,8,["text"])])]),t("div",dt,[_t,t("div",rt,[t("span",ut,e(s(y)(o.data.tokenBMint.toBase58(),14)),1),a(b,{text:o.data.tokenBMint.toBase58()},null,8,["text"])])]),t("div",mt,[vt,t("div",pt,[t("span",ht,e(s(y)(o.data.poolMint.toBase58(),14)),1),a(b,{text:o.data.poolMint.toBase58()},null,8,["text"])])])])]),_:1})]),_:1},8,["modelValue"])])]),t("div",bt,[t("div",null,[ft,t("div",kt,e(o.poolStats?`${s(k).format(o.poolStats.apr24)}`:"---"),1)]),t("div",yt,[t("div",null,[wt,t("div",St,e(o.poolStats&&o.userTokens?`$${s(w).format(o.userTokens/o.poolStats.poolTokenSupply*o.poolStats.tvl)}`:"---"),1)]),t("div",Bt,[qt,t("div",xt,e(o.poolStats&&o.userTokens?`${s(k).format(o.userTokens/o.poolStats.poolTokenSupply)}`:"---"),1)])])]),t("div",gt,[t("div",$t,[jt,t("div",Tt,e(o.poolStats?`$${s(w).format(o.poolStats.volume24)}`:"---"),1)]),At,t("div",Mt,[Pt,t("div",Vt,e(o.poolStats?`$${s(w).format(o.poolStats.tvl)}`:"---"),1)]),Ct,t("div",Dt,[Qt,t("div",It,e(o.poolStats?`$${s(w).format(o.poolStats.fees24)}`:"---"),1)])]),o.useEmit?r("",!0):(_(),p("div",Lt,[t("div",Nt,[a(N,{spread:"",unelevated:"",square:"",class:"pool-card__actions"},{default:v(()=>[a($,{label:"ADD LIQUIDITY",color:"primary","text-color":"white",target:"_blank",class:"q-mr-md",onClick:n[1]||(n[1]=f=>q(!0))}),a($,{label:"SWAP",color:"warning","text-color":"black",target:"_blank",onClick:n[2]||(n[2]=f=>q(!1))})]),_:1})])]))]),_:1})]),_:1})):r("",!0)}}});export{Ht as _};
