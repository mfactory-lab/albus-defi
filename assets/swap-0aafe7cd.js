import{V as F,y as $,u as oe,w as D,G as O,z as ae,a4 as e,o as w,Z as U,$ as n,a9 as y,a5 as K,af as te,P as se,a1 as f,v as d,W as ne,H as N,ag as x,Y as le,C as ie,a0 as P,j as t,a2 as C,a3 as a,i as S,a6 as s,a7 as u,a8 as Q,ah as ce,ai as de,aj as re,ak as me,al as _e,aa as pe,am as ue,X as fe,ac as we,ad as ge,N as he,_ as ke,ae as ve}from"./index-5a996bc9.js";import{b as ye,g as be,m as Se}from"./index-81976599.js";import{_ as Te,a as Be}from"./AppDescription-ba998bb2.js";import{_ as xe}from"./PolicyCard.vue_vue_type_script_setup_true_lang-37154bf0.js";import{_ as Ce}from"./SelectPool.vue_vue_type_script_setup_true_lang-4cd5a1e7.js";import{o as qe,_ as Ve}from"./SelectToken.vue_vue_type_script_setup_true_lang-e8b54861.js";import{s as Ae}from"./swap-circle-a93e350f.js";import{u as Me}from"./swap-3d6aa404.js";import{_ as Re}from"./AppDescriptionTop-43d10d38.js";import"./internal-b7ee6e55.js";import"./PoolsListItem.vue_vue_type_script_setup_true_lang-8a0ff4b2.js";import"./associatedTokenAccount-fb570947.js";const Ee=F({__name:"MintTokenA",setup(q){const{publicKey:r}=$(),o=oe(),g=D(),m=O(!1),{notify:h}=ae();async function k(){if(r.value){m.value=!0,console.log("mintTokenB -------------------------");try{const i=te.fromSecretKey(ye.decode("2QDdinbDitrdSrbvyddwrc1sdQEyRtMgXSisj5QfFgSikxgmPp4ggunwjQZChcvKFxr74XbUwYGmiqivq3SMARhx")),c=new se("6rdejLXbi2Ws2z3Ff1wRhRS9WqrXRDuM8YpSkiektRgw"),b=await be(o.connection,i,c,r.value);await Se(o.connection,i,c,b.address,i,1e10),await g.getUserTokens(),h({type:"positive",message:"You got 10 TOKEN_B"})}catch(i){console.log("failed mint e:",i)}finally{m.value=!1}}}return(i,c)=>e(o).cluster==="devnet"&&e(r)?(w(),U(y,{key:0,class:"full-width",loading:e(m),unelevated:"",color:i.$q.dark.isActive?"white":"primary",onClick:k},{default:n(()=>[f(" Mint JSOL (fake) ")]),_:1},8,["loading","color"])):K("",!0)}}),Ne={class:"swap-form"},Pe={class:"swap-field"},Qe={class:"swap-field__info"},Fe={class:"row items-end"},$e=a("div",{class:"col swap-field__label"}," FROM: ",-1),De={class:"col-8 col-xs-10 row justify-end swap-field__balance"},Oe={key:0,class:"insufficient-error"},Ue={class:"swap-change"},Ke=["innerHTML"],Le={class:"swap-field"},je={class:"swap-field__info"},He={class:"row"},Ie=a("div",{class:"col swap-field__label"}," TO: ",-1),Xe={class:"col swap-field__balance"},We={class:"swap-info q-mt-md q-pt-xs"},Ye={class:"text-weight-medium"},ze=a("dt",null,"Minimum Received",-1),Ge=a("dt",null,"Slippage Tolerance",-1),Ze={href:"#"},Je=a("dt",null,"Swap fee",-1),eo={class:"swap-submit q-mt-md"},oo={key:0,class:"text-weight-medium fs-13 text-center q-mt-md text-negative"},ao={key:1,class:"row q-mt-md text-center relative-position full-width"},to={class:"swap-rate q-mx-auto"},so={class:"absolute-right swap-rate__refresh"},no={class:"swap-info q-mt-md"},lo=a("dt",null,"Price impact",-1),io=F({__name:"SwapCard",setup(q){const r=Me(),{state:o,loadingPoolTokens:g,changeDirection:m,closeSlippage:h,swapSubmit:k,loadPoolTokenAccounts:i}=r,c=d(()=>r.tokenSwap),{handleSearchToken:b,handleFilterToken:L,tokens:V}=ne();L(N);const A=D(),j=d(()=>o.poolBalance[o.from.mint]?x(o.poolBalance[o.from.mint],o.from.decimals):0),H=d(()=>o.poolBalance[o.to.mint]?x(o.poolBalance[o.to.mint],o.to.decimals):0),{certificateExpired:I}=le(),{connected:X}=$(),T=_=>ue.format(_),M=O(0),W=d(()=>`transform: rotate(${M.value*180}deg)`),v=d(()=>A.tokenBalance(o.from.mint)),Y=d(()=>A.tokenBalance(o.to.mint)),z=d(()=>o.fees.ownerTrade+o.fees.trade);function G(){m(),M.value++}function R(_,l){o[l?"to":"from"]=_}function Z(){o.from?.mint===N||o.from?.mint===fe?o.from.amount=v.value-we-3*ge-he:o.from.amount=v.value}const B=d(()=>Number(o.from.amount)>v.value?"Insufficient funds":!1);return ie([()=>o.from.amount,c,v],_=>{o.active=!B.value}),(_,l)=>{const E=Ve,J=Ce,ee=xe;return w(),U(P,{class:"swap-card swap-widget"},{default:n(()=>[t(C,{class:"swap-card__header"},{default:n(()=>[f(" Swap ")]),_:1}),t(C,{class:"swap-card__body"},{default:n(()=>[a("div",Ne,[a("div",Pe,[a("div",Qe,[a("div",Fe,[$e,a("div",De,[e(B)?(w(),S("div",Oe,s(e(B)),1)):K("",!0),f(" Balance: "+s(e(u)(e(v)))+" "+s(e(o).from.symbol),1)])])]),t(Q,{modelValue:e(o).from.amount,"onUpdate:modelValue":l[0]||(l[0]=p=>e(o).from.amount=p),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input",onKeypress:e(qe)},{append:n(()=>[t(y,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:Z},{default:n(()=>[f(" MAX ")]),_:1}),t(E,{options:e(V),token:e(o).from,"swap-token":String(e(o).to.symbol),onHandleSearchToken:e(b),onSetToken:R},null,8,["options","token","swap-token","onHandleSearchToken"])]),_:1},8,["modelValue","onKeypress"])]),a("div",Ue,[t(y,{ripple:!1,dense:"",unelevated:"",style:ce(e(W)),onClick:G},{default:n(()=>[a("i",{innerHTML:e(Ae)},null,8,Ke)]),_:1},8,["style"])]),a("div",Le,[a("div",je,[a("div",He,[Ie,a("div",Xe," Balance: "+s(e(u)(e(Y)))+" "+s(e(o).to.symbol),1)])]),t(Q,{modelValue:e(o).to.amount,"onUpdate:modelValue":l[1]||(l[1]=p=>e(o).to.amount=p),readonly:"",maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input"},{append:n(()=>[t(E,{"swap-token":String(e(o).from.symbol),options:e(V),direction:!0,token:e(o).to,"destination-unavailable":!e(c),onHandleSearchToken:e(b),onSetToken:R},null,8,["swap-token","options","token","destination-unavailable","onHandleSearchToken"])]),_:1},8,["modelValue"])])]),a("div",We,[a("dl",Ye,[ze,a("dd",null,s(e(u)(e(x)(e(o).minimumReceived,e(o).to.decimals)))+" "+s(e(o).to.symbol.toUpperCase()),1)]),a("dl",null,[Ge,a("dd",null,[a("a",Ze,[f(s(T(e(o).slippage))+" ",1),t(de,{modelValue:e(o).slippageDialog,"onUpdate:modelValue":l[3]||(l[3]=p=>e(o).slippageDialog=p),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:n(()=>[t(P,null,{default:n(()=>[t(C,null,{default:n(()=>[t(re,{modelValue:e(o).slippage,"onUpdate:modelValue":[l[2]||(l[2]=p=>e(o).slippage=p),e(h)],spread:"","no-caps":"",unelevated:"",ripple:!1,"toggle-color":"secondary",color:"white","text-color":"dark",options:[{label:"0.1%",value:.001},{label:"0.5%",value:.005},{label:"1%",value:.01},{label:"5%",value:.05}]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),a("dl",null,[Je,a("dd",null,s(T(e(z)))+" SOL",1)])]),t(J,{class:"q-mt-md"}),t(ee,{class:"q-mt-md q-mx-auto"}),a("div",eo,[t(y,{loading:e(o).swapping,disable:!e(o).active||!e(c)||!e(X)||!e(o).from.amount||e(I),rounded:"",ripple:!1,onClick:e(k)},{default:n(()=>[f(" Swap "+s(e(o).from.symbol)+" / "+s(e(o).to.symbol),1)]),_:1},8,["loading","disable","onClick"])]),e(c)?(w(),S("div",ao,[a("div",to," 1 "+s(e(o).from.symbol)+" â‰ˆ "+s(e(u)(e(o).rate))+" "+s(e(o).to.symbol),1),a("div",so,[t(y,{loading:e(g),class:"swap-card__reload",unelevated:"",color:_.$q.dark.isActive?"white":"primary",round:"",onClick:e(i)},{default:n(()=>[t(me,{name:e(_e),color:_.$q.dark.isActive?"primary":"white"},null,8,["name","color"])]),_:1},8,["loading","color","onClick"])])])):(w(),S("div",oo," Pool not found ")),a("div",no,[a("dl",null,[lo,a("dd",null,s(T(e(o).impact)),1)]),a("dl",null,[a("dt",null,"Pool "+s(e(o).from.symbol)+" balance",1),a("dd",null,s(e(u)(e(j)))+" "+s(e(o).from.symbol),1)]),a("dl",null,[a("dt",null,"Pool "+s(e(o).to.symbol)+" balance",1),a("dd",null,s(e(u)(e(H)))+" "+s(e(o).to.symbol),1)])])]),_:1}),t(pe,{showing:e(o)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1})}}}),co={},ro={class:"main-block row justify-center"};function mo(q,r){const o=Re,g=io,m=Te,h=Be,k=Ee;return w(),S(ve,null,[t(o,{class:"q-mt-lg"}),a("div",ro,[t(g)]),t(m,{class:"q-mt-lg"}),t(h,{class:"q-mt-lg"}),t(k,{class:"q-mt-lg"})],64)}const To=ke(co,[["render",mo]]);export{To as default};
