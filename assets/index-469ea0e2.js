import{E as y}from"./index-cc4482a6.js";import g from"./index-91dbb300.js";var m=globalThis&&globalThis.__extends||function(){var c=function(o,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},c(o,t)};return function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),b=function(c){m(o,c);function o(){return c!==null&&c.apply(this,arguments)||this}return o}(y),T=globalThis&&globalThis.__extends||function(){var c=function(o,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},c(o,t)};return function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_=globalThis&&globalThis.__awaiter||function(c,o,t,e){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function u(s){try{r(e.next(s))}catch(f){a(f)}}function l(s){try{r(e.throw(s))}catch(f){a(f)}}function r(s){s.done?n(s.value):i(s.value).then(u,l)}r((e=e.apply(c,o||[])).next())})},p=globalThis&&globalThis.__generator||function(c,o){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},e,i,n,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(s){return l([r,s])}}function l(r){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,i&&(n=r[0]&2?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[r[0]&2,n.value]),r[0]){case 0:case 1:n=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,i=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!n||r[1]>n[0]&&r[1]<n[3])){t.label=r[1];break}if(r[0]===6&&t.label<n[1]){t.label=n[1],n=r;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(r);break}n[2]&&t.ops.pop(),t.trys.pop();continue}r=o.call(c,t)}catch(s){r=[6,s],i=0}finally{e=n=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},x=function(c){T(o,c);function o(t,e){var i=c.call(this)||this;return i._instance=null,i._handleConnect=function(){i.emit("connect")},i._handleDisconnect=function(){window.clearInterval(i._pollTimer),i.emit("disconnect")},i._provider=t,i._network=e,i}return Object.defineProperty(o.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),o.prototype.connect=function(){return _(this,void 0,void 0,function(){var t=this;return p(this,function(e){switch(e.label){case 0:return this._instance=new g(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var i,n;((n=(i=t._instance)===null||i===void 0?void 0:i._popup)===null||n===void 0?void 0:n.closed)!==!1&&t._handleDisconnect()},200),[4,this._instance.connect()];case 1:return e.sent(),[2]}})})},o.prototype.disconnect=function(){return _(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return t.sent(),[2]}})})},o.prototype.signTransaction=function(t){return _(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signTransaction(t)];case 1:return[2,e.sent()]}})})},o.prototype.signAllTransactions=function(t){return _(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signAllTransactions(t)];case 1:return[2,e.sent()]}})})},o.prototype.signMessage=function(t,e){return e===void 0&&(e="hex"),_(this,void 0,void 0,function(){var i;return p(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(t,e)];case 1:return i=n.sent().signature,[2,Uint8Array.from(i)]}})})},o}(b),O=globalThis&&globalThis.__extends||function(){var c=function(o,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},c(o,t)};return function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),v=globalThis&&globalThis.__awaiter||function(c,o,t,e){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function u(s){try{r(e.next(s))}catch(f){a(f)}}function l(s){try{r(e.throw(s))}catch(f){a(f)}}function r(s){s.done?n(s.value):i(s.value).then(u,l)}r((e=e.apply(c,o||[])).next())})},w=globalThis&&globalThis.__generator||function(c,o){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},e,i,n,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(s){return l([r,s])}}function l(r){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,i&&(n=r[0]&2?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[r[0]&2,n.value]),r[0]){case 0:case 1:n=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,i=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!n||r[1]>n[0]&&r[1]<n[3])){t.label=r[1];break}if(r[0]===6&&t.label<n[1]){t.label=n[1],n=r;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(r);break}n[2]&&t.ops.pop(),t.trys.pop();continue}r=o.call(c,t)}catch(s){r=[6,s],i=0}finally{e=n=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},E=function(c){O(o,c);function o(t,e){var i=c.call(this)||this;return i._provider=t,i._network=e,i}return Object.defineProperty(o.prototype,"publicKey",{get:function(){return this._provider.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connected",{get:function(){return this._provider.isConnected},enumerable:!1,configurable:!0}),o.prototype.connect=function(){return v(this,void 0,void 0,function(){var t;return w(this,function(e){switch(e.label){case 0:if(e.trys.push([0,2,,3]),this.connected)throw new Error("Wallet already connected");return[4,this._provider.connect()];case 1:return e.sent(),this.emit("connect"),[3,3];case 2:throw t=e.sent(),this.emit("disconnect"),t;case 3:return[2]}})})},o.prototype.disconnect=function(){return v(this,void 0,void 0,function(){return w(this,function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.disconnect()];case 1:return t.sent(),this.emit("disconnect"),[2]}})})},o.prototype.signTransaction=function(t){return v(this,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signTransaction(t,this._network)];case 1:return[2,e.sent()]}})})},o.prototype.signAllTransactions=function(t){return v(this,void 0,void 0,function(){return w(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signAllTransactions(t,this._network)];case 1:return[2,e.sent()]}})})},o.prototype.signMessage=function(t){return v(this,void 0,void 0,function(){var e;return w(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");if(!(t instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return[4,this._provider.signMessage(t)];case 1:return e=i.sent().signature,[2,e]}})})},o}(b),k=globalThis&&globalThis.__extends||function(){var c=function(o,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},c(o,t)};return function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),h=globalThis&&globalThis.__awaiter||function(c,o,t,e){function i(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function u(s){try{r(e.next(s))}catch(f){a(f)}}function l(s){try{r(e.throw(s))}catch(f){a(f)}}function r(s){s.done?n(s.value):i(s.value).then(u,l)}r((e=e.apply(c,o||[])).next())})},d=globalThis&&globalThis.__generator||function(c,o){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},e,i,n,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(r){return function(s){return l([r,s])}}function l(r){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,i&&(n=r[0]&2?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[r[0]&2,n.value]),r[0]){case 0:case 1:n=r;break;case 4:return t.label++,{value:r[1],done:!1};case 5:t.label++,i=r[1],r=[0];continue;case 7:r=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(r[0]===6||r[0]===2)){t=0;continue}if(r[0]===3&&(!n||r[1]>n[0]&&r[1]<n[3])){t.label=r[1];break}if(r[0]===6&&t.label<n[1]){t.label=n[1],n=r;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(r);break}n[2]&&t.ops.pop(),t.trys.pop();continue}r=o.call(c,t)}catch(s){r=[6,s],i=0}finally{e=n=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},W=function(c){k(o,c);function o(t){var e=c.call(this)||this;return e._network="mainnet-beta",e._adapterInstance=null,e._connectHandler=null,e._connected=function(){e._connectHandler&&(e._connectHandler.resolve(),e._connectHandler=null),e.emit("connect",e.publicKey)},e._disconnected=function(){e._connectHandler&&(e._connectHandler.reject(),e._connectHandler=null),e._adapterInstance=null,e.emit("disconnect")},t?.network&&(e._network=t?.network),t?.provider?e._provider=t?.provider:window.salmon?e._provider=window.salmon:e._provider="https://app.salmonwallet.io",e}return Object.defineProperty(o.prototype,"publicKey",{get:function(){var t;return((t=this._adapterInstance)===null||t===void 0?void 0:t.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isConnected",{get:function(){var t;return!!(!((t=this._adapterInstance)===null||t===void 0)&&t.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),o.prototype.connect=function(){return h(this,void 0,void 0,function(){var t=this;return d(this,function(e){switch(e.label){case 0:return this.connected?[2]:(typeof this._provider=="string"?this._adapterInstance=new x(this._provider,this._network):this._adapterInstance=new E(this._provider,this._network),this._adapterInstance.on("connect",this._connected),this._adapterInstance.on("disconnect",this._disconnected),this._adapterInstance.connect(),[4,new Promise(function(i,n){t._connectHandler={resolve:i,reject:n}})]);case 1:return e.sent(),[2]}})})},o.prototype.disconnect=function(){return h(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return t.sent(),[2]}})})},o.prototype.signTransaction=function(t){return h(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signTransaction(t)];case 1:return[2,e.sent()]}})})},o.prototype.signAllTransactions=function(t){return h(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signAllTransactions(t)];case 1:return[2,e.sent()]}})})},o.prototype.signMessage=function(t,e){return e===void 0&&(e="utf8"),h(this,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(t,e)];case 1:return[2,i.sent()]}})})},o.prototype.sign=function(t,e){return e===void 0&&(e="utf8"),h(this,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:return[4,this.signMessage(t,e)];case 1:return[2,i.sent()]}})})},o}(y);export{W as default};
