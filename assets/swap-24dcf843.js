import{V as F,y as $,u as ee,w as D,G as O,z as oe,a3 as e,o as w,Y as U,Z as s,a8 as y,a4 as K,ae,P as te,a0 as f,v as d,W as ne,H as E,af as x,C as se,$ as P,j as t,a1 as C,a2 as a,i as S,a5 as n,a6 as p,a7 as Q,ag as le,ah as ie,ai as ce,aj as de,ak as re,a9 as me,al as _e,X as ue,ab as pe,ac as fe,N as we,_ as ge,ad as he}from"./index-3e319056.js";import{b as ke,g as ve,m as ye}from"./index-6f941dc9.js";import{_ as be,a as Se,b as Te}from"./AppDescriptionTop-8f9fdf69.js";import{_ as Be}from"./PolicyCard.vue_vue_type_script_setup_true_lang-a8a3092d.js";import{_ as xe}from"./SelectPool.vue_vue_type_script_setup_true_lang-7446064a.js";import{o as Ce,_ as qe}from"./SelectToken.vue_vue_type_script_setup_true_lang-4b560017.js";import{s as Ve}from"./swap-circle-a93e350f.js";import{u as Ae}from"./swap-6005a05e.js";import"./internal-446163cd.js";import"./PoolsListItem.vue_vue_type_script_setup_true_lang-6c98d733.js";import"./associatedTokenAccount-56e3fa33.js";const Me=F({__name:"MintTokenA",setup(q){const{publicKey:r}=$(),o=ee(),g=D(),m=O(!1),{notify:h}=oe();async function k(){if(r.value){m.value=!0,console.log("mintTokenB -------------------------");try{const i=ae.fromSecretKey(ke.decode("2QDdinbDitrdSrbvyddwrc1sdQEyRtMgXSisj5QfFgSikxgmPp4ggunwjQZChcvKFxr74XbUwYGmiqivq3SMARhx")),c=new te("6rdejLXbi2Ws2z3Ff1wRhRS9WqrXRDuM8YpSkiektRgw"),b=await ve(o.connection,i,c,r.value);await ye(o.connection,i,c,b.address,i,1e10),await g.getUserTokens(),h({type:"positive",message:"You got 10 TOKEN_B"})}catch(i){console.log("failed mint e:",i)}finally{m.value=!1}}}return(i,c)=>e(o).cluster==="devnet"&&e(r)?(w(),U(y,{key:0,class:"full-width",loading:e(m),unelevated:"",color:i.$q.dark.isActive?"white":"primary",onClick:k},{default:s(()=>[f(" Mint JSOL (fake) ")]),_:1},8,["loading","color"])):K("",!0)}}),Re={class:"swap-form"},Ne={class:"swap-field"},Ee={class:"swap-field__info"},Pe={class:"row items-end"},Qe=a("div",{class:"col swap-field__label"}," FROM: ",-1),Fe={class:"col-8 col-xs-10 row justify-end swap-field__balance"},$e={key:0,class:"insufficient-error"},De={class:"swap-change"},Oe=["innerHTML"],Ue={class:"swap-field"},Ke={class:"swap-field__info"},Le={class:"row"},je=a("div",{class:"col swap-field__label"}," TO: ",-1),He={class:"col swap-field__balance"},Ie={class:"swap-info q-mt-md q-pt-xs"},Xe={class:"text-weight-medium"},We=a("dt",null,"Minimum Received",-1),Ye=a("dt",null,"Slippage Tolerance",-1),ze={href:"#"},Ge=a("dt",null,"Swap fee",-1),Ze={class:"swap-submit q-mt-md"},Je={key:0,class:"text-weight-medium fs-13 text-center q-mt-md text-negative"},eo={key:1,class:"row q-mt-md text-center relative-position full-width"},oo={class:"swap-rate q-mx-auto"},ao={class:"absolute-right swap-rate__refresh"},to={class:"swap-info q-mt-md"},no=a("dt",null,"Price impact",-1),so=F({__name:"SwapCard",setup(q){const r=Ae(),{state:o,loadingPoolTokens:g,changeDirection:m,closeSlippage:h,swapSubmit:k,loadPoolTokenAccounts:i}=r,c=d(()=>r.tokenSwap),{handleSearchToken:b,handleFilterToken:L,tokens:V}=ne();L(E);const A=D(),j=d(()=>o.poolBalance[o.from.mint]?x(o.poolBalance[o.from.mint],o.from.decimals):0),H=d(()=>o.poolBalance[o.to.mint]?x(o.poolBalance[o.to.mint],o.to.decimals):0),{connected:I}=$(),T=_=>_e.format(_),M=O(0),X=d(()=>`transform: rotate(${M.value*180}deg)`),v=d(()=>A.tokenBalance(o.from.mint)),W=d(()=>A.tokenBalance(o.to.mint)),Y=d(()=>o.fees.ownerTrade+o.fees.trade);function z(){m(),M.value++}function R(_,l){o[l?"to":"from"]=_}function G(){o.from?.mint===E||o.from?.mint===ue?o.from.amount=v.value-pe-3*fe-we:o.from.amount=v.value}const B=d(()=>Number(o.from.amount)>v.value?"Insufficient funds":!1);return se([()=>o.from.amount,c,v],_=>{o.active=!B.value}),(_,l)=>{const N=qe,Z=xe,J=Be;return w(),U(P,{class:"swap-card swap-widget"},{default:s(()=>[t(C,{class:"swap-card__header"},{default:s(()=>[f(" Swap ")]),_:1}),t(C,{class:"swap-card__body"},{default:s(()=>[a("div",Re,[a("div",Ne,[a("div",Ee,[a("div",Pe,[Qe,a("div",Fe,[e(B)?(w(),S("div",$e,n(e(B)),1)):K("",!0),f(" Balance: "+n(e(p)(e(v)))+" "+n(e(o).from.symbol),1)])])]),t(Q,{modelValue:e(o).from.amount,"onUpdate:modelValue":l[0]||(l[0]=u=>e(o).from.amount=u),maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input",onKeypress:e(Ce)},{append:s(()=>[t(y,{dense:"",unelevated:"",ripple:!1,class:"swap-input__max",onClick:G},{default:s(()=>[f(" MAX ")]),_:1}),t(N,{options:e(V),token:e(o).from,"swap-token":String(e(o).to.symbol),onHandleSearchToken:e(b),onSetToken:R},null,8,["options","token","swap-token","onHandleSearchToken"])]),_:1},8,["modelValue","onKeypress"])]),a("div",De,[t(y,{ripple:!1,dense:"",unelevated:"",style:le(e(X)),onClick:z},{default:s(()=>[a("i",{innerHTML:e(Ve)},null,8,Oe)]),_:1},8,["style"])]),a("div",Ue,[a("div",Ke,[a("div",Le,[je,a("div",He," Balance: "+n(e(p)(e(W)))+" "+n(e(o).to.symbol),1)])]),t(Q,{modelValue:e(o).to.amount,"onUpdate:modelValue":l[1]||(l[1]=u=>e(o).to.amount=u),readonly:"",maxlength:14,outlined:"",placeholder:"0.0",class:"swap-input"},{append:s(()=>[t(N,{"swap-token":String(e(o).from.symbol),options:e(V),direction:!0,token:e(o).to,"destination-unavailable":!e(c),onHandleSearchToken:e(b),onSetToken:R},null,8,["swap-token","options","token","destination-unavailable","onHandleSearchToken"])]),_:1},8,["modelValue"])])]),a("div",Ie,[a("dl",Xe,[We,a("dd",null,n(e(p)(e(x)(e(o).minimumReceived,e(o).to.decimals)))+" "+n(e(o).to.symbol.toUpperCase()),1)]),a("dl",null,[Ye,a("dd",null,[a("a",ze,[f(n(T(e(o).slippage))+" ",1),t(ie,{modelValue:e(o).slippageDialog,"onUpdate:modelValue":l[3]||(l[3]=u=>e(o).slippageDialog=u),"transition-duration":"100","transition-show":"fade","transition-hide":"fade"},{default:s(()=>[t(P,null,{default:s(()=>[t(C,null,{default:s(()=>[t(ce,{modelValue:e(o).slippage,"onUpdate:modelValue":[l[2]||(l[2]=u=>e(o).slippage=u),e(h)],spread:"","no-caps":"",unelevated:"",ripple:!1,"toggle-color":"secondary",color:"white","text-color":"dark",options:[{label:"0.1%",value:.001},{label:"0.5%",value:.005},{label:"1%",value:.01},{label:"5%",value:.05}]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),a("dl",null,[Ge,a("dd",null,n(T(e(Y)))+" SOL",1)])]),t(Z,{class:"q-mt-md"}),t(J,{class:"q-mt-md q-mx-auto"}),a("div",Ze,[t(y,{loading:e(o).swapping,disable:!e(o).active||!e(c)||!e(I)||!e(o).from.amount,rounded:"",ripple:!1,onClick:e(k)},{default:s(()=>[f(" Swap "+n(e(o).from.symbol)+" / "+n(e(o).to.symbol),1)]),_:1},8,["loading","disable","onClick"])]),e(c)?(w(),S("div",eo,[a("div",oo," 1 "+n(e(o).from.symbol)+" â‰ˆ "+n(e(p)(e(o).rate))+" "+n(e(o).to.symbol),1),a("div",ao,[t(y,{loading:e(g),class:"swap-card__reload",unelevated:"",color:_.$q.dark.isActive?"white":"primary",round:"",onClick:e(i)},{default:s(()=>[t(de,{name:e(re),color:_.$q.dark.isActive?"primary":"white"},null,8,["name","color"])]),_:1},8,["loading","color","onClick"])])])):(w(),S("div",Je," Pool not found ")),a("div",to,[a("dl",null,[no,a("dd",null,n(T(e(o).impact)),1)]),a("dl",null,[a("dt",null,"Pool "+n(e(o).from.symbol)+" balance",1),a("dd",null,n(e(p)(e(j)))+" "+n(e(o).from.symbol),1)]),a("dl",null,[a("dt",null,"Pool "+n(e(o).to.symbol)+" balance",1),a("dd",null,n(e(p)(e(H)))+" "+n(e(o).to.symbol),1)])])]),_:1}),t(me,{showing:e(o)?.loading,class:"swap-loading",color:"grey"},null,8,["showing"])]),_:1})}}}),lo={},io={class:"main-block row justify-center"};function co(q,r){const o=be,g=so,m=Se,h=Te,k=Me;return w(),S(he,null,[t(o,{class:"q-mt-lg"}),a("div",io,[t(g)]),t(m,{class:"q-mt-lg"}),t(h,{class:"q-mt-lg"}),t(k,{class:"q-mt-lg"})],64)}const yo=ge(lo,[["render",co]]);export{yo as default};
